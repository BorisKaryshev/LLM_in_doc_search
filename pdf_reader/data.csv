name,text,embedding
14.3-bit Extended Counting ADC with Built-in Binning Function for Medical X-Ray Imagers.pdf,"[""14.3-bit extended counting ADC with built-in\nbinning function for medical X-ray CMOS\nimagers\nbinning mode and vice versa. The ADC alternately receives the output\nvoltage of a pixel through two column signal lines, col[1] and col[2], in\nthe full-resolution mode. On the other hand, the ADC in the binning\nmode simultaneously receives four pixel output voltages through col[3]\nand col[4] of an adjacent column as well as col[1] and col[2]. To\naverage four pixel output voltages, the capacitance of CI in the binning\nmode should be four times larger than that in the full-resolution mode.\nThe ADC repeats sampling and integration of the pixel output voltages\neight times. The comparator output of the DS modulator is converted to\n4-bit codes in the counter. In the last step of the DS modulation period,\nthe ADC samples and integrates the common voltage (VCM) to adjust\nthe curve of the residue voltage (mod_aout) of the DS modulator as\nshown in Fig. 2a. The mod_aout is converted to 12-bit codes by a succes-\nsive approximation ADC (SA-ADC) whose input range is between the\npositive and negative reference voltages (VREFP and VREFN). To correct\nthe error from the offset of the DS modulator, CI has double the capaci-\ntance of the sampling capacitor (CS) and thereby the voltage range of the\nmod_aout is reduced to half of the input range of the SA-ADC. The error\ncorrection logic correcting the offset error uses an additional 1-bit conver-\nsion of the SA-ADC and ﬁnally outputs 15-bit codes. Because the voltage\nrange of mod_aout is reduced, the input range (VIN) of the EC-ADC is\nextended to 125% and is given by\nM.-S. Shin, J.-B. Kim and O.-K. Kwon\nProposed is a 14.3-bit extended counting analogue-to-digital converter\n(ADC) with built-in binning function for medical X-ray CMOS\nimagers. To reduce the area and improve the image resolution simul-\nthe proposed ADC internally performs the analogue\ntaneously,\nbinning operation without a charge ampliﬁer. The ADC also uses an\nextended input range to realise true 14-bit dynamic range when\napplying the digital correlated double sampling technique. The\nproposed ADC was fabricated using a 0.35 mm CMOS process and\nthe measured differential and integral nonlinearities of the 14.3-bit\nADC are +0.97/20.79 and +2.79/21.70 LSB, respectively.\nIntroduction: Recently, the use of indirect-type X-ray CMOS imagers\nin digital radiography applications has increased because they have\nadvantages of higher readout speed, lower noise, and a higher circuitry\nintegration capability compared with X-ray imagers using amorphous\nsilicon thin-ﬁlm transistors [1]. Imagers for medical diagnostic appli-\ncations using X-ray are required to have a full resolution mode for radio-\ngraphic imaging and a binning mode for ﬂuoroscopic imaging [2]. They\nalso need high-resolution ADCs over 14-bit for high image quality. In\nthe analogue binning method using a charge ampliﬁer [2] for a\nbinning operation it is difﬁcult to acquire the image resolution over\n14-bit because the charge ampliﬁer requires high voltage gain and\nlarge sampling capacitors over 10 pF to reduce gain error and reset\nnoise. Furthermore, a single-slope ADC used in [2] is not appropriate\nto obtain high-resolution images because the clock speed increases by\na factor of 2 to raise 1-bit resolution. In this Letter, we propose the\n14.3-bit extended counting ADC (EC-ADC) using a DS modulator\ninstead of a charge ampliﬁer for the 2 by 2 analogue binning operation.\nVREFN − 3 × (VREFP − VREFN )\n, VIN , VREFP\n16\n+ VREFP − VREFN\n16\n(1)\nTherefore, the output codes of the proposed EC-ADC ranges from 0 to\n20479 (about 14.3-bit). The digital correlated double sampling tech-\nnique (CDS) is used to reduce the column ﬁxed pattern noise from the\noffset error of the ADC and pixel. However, the dynamic range of the\ncolumn ADCs using the digital CDS is reduced because column\nADCs use the input range of about 25% to cover the offset error of\nthe ADC and pixel [5]. Therefore, the EC-ADC with the extended\ninput range of 25% has true 14-bit dynamic range. The size of the\ncapacitor array for the analogue binning operation is scaled down by a\nfactor of the oversampling ratio due to the oversampling property,\nwhich makes it possible to layout the ADC in a small column pitch.\nfor\npixel\narray\nanalogue\nProposed\nbinning\nconﬁguration\noperation: Fig. 1 shows the block diagram of the pixel array and the\nreadout circuitries for the analogue binning operation. Pixels on odd\nand even row lines are separately connected to two col lines as shown\nin Fig. 1. In the full-resolution mode, the readout operation of the\npixel using three transistors is similar to the conventional one [3].\nFirst, pixel1 and pixel2 are connected to ADC1 and ADC2 through\ncol[1] and col[3], respectively. After A/D conversion, pixel3 and\npixel4 are connected to ADC1 and ADC2 through col[2] and col[4].\nIn the binning mode, pixel1, pixel2, pixel3, and pixel4 are simul-\ntaneously connected to ADC1, and ADC2 is not used.\nVREFP\n)\nV\ne\ng\na\nt\nl\no\nv\n(\nswitch\narray\n \ncol[3]\nt\nu\no\na\n_\ne\nd\no\nm\nVREFP -VREFN\n2\nCS\nph_rst\n \ne\nu\nd\ns\ne\nr\nswitch\narray\ncol[2]\ni\nVREFN\n \nf\no\nCS\nbin_mod\nbin_mod\nVREFN\nVREFP\nVIN (v)\nswitch\narray\ncol[1]\n3CI\nCS\nmod_aout\nswitch array\n12\n12-bit\nSA-ADC\nCI\nph2p\nph1_IN\nerror\ncorrection\nlogic\ncol[0]\n–\n4\n+\nph1_CM\nCS\ncounter\n+\n–\nph1p\nVcm\n15\nVcm\nADOUT\nvddp\n\nlatch\nDour\nph2\nvddp\npixel2\npixel1\nrx[1]\npixel\nVREFN VREFP\nsx[1]\na\npixel3\npixel4\ncol\nrx[2]\nPD\ndelta-sigma (\uf044\uf0e5) modu;ation\nS&H\nreset\nsx[2]\nrx\nsx\nph_rst\n]\n1\n[\nl\n]\n2\n[\nl\n]\n3\n[\nl\n]\n4\n[\nl\nph1_IN\no\nc\no\nc\no\nc\no\nc\nph1_CM\nph1_1P\nph2\nADC1\nADC2\nph2p\nb\nFig. 1 Block diagram of pixel array and readout circuitries for 2 by 2\nanalogue binning operation\nFig. 2 Proposed 14.3-bit extended counting ADC (EC-ADC)\na Schematic diagram\nb Timing diagram\nProposed EC-ADC for analogue binning operation: The schematic and\ntiming diagrams of the proposed EC-ADC, which indicates ADC1 in\nFig. 1, are shown in Figs. 2a and b, respectively. The concepts of an\nEC-ADC were proposed to implement the high-resolution ADC and\nreduce its operating speed [4]. In our design, the ﬁrst-order DS ADC\nconverts the upper 3-bit and simultaneously performs the analogue\nbinning operation. In the reset period, the charge of the integration\ncapacitor (CI) is fully discharged. The ADC performs different oper-\nations during the sample and hold (S&H) and DS modulation periods\naccording to the operating modes, which are the full-resolution and\nbinning modes. When the bin_mod is high, the ADC operates in the\nExperimental results: For verifying the performance of the proposed\ntwo column ADCs were implemented using a 0.35 mm\nEC-ADC,\nCMOS process. Fig. 3 is the chip photograph of the column ADCs.\nFor reading out 1.5 mega-pixels at 30 frames/s, the ADC has the\nconversion rate of 150 kHz. The area of the EC-ADC in a column is\n100 × 1100 mm. The area of the DS modulator with the analogue\nbinning operation is only 14% compared with a charge ampliﬁer\nbecause the area of sampling capacitors is reduced to 1/8 by the over-\nsampling. As shown in Figs. 4a and b, the measured differential and\nELECTRONICS LETTERS 29th March 2012 Vol. 48 No. 7\nthe 14.3-bit ADC are +0.97/20.79 and\nintegral nonlinearity of\n+2.79/21.70 LSB, respectively. The column ADCs can be applied to\nX-ray detectors with 14-bit dynamic range because the linearity of the\nADC is not deteriorated in the extended input range as shown in\nFig. 4. The power consumption of the ADC is 300 mW at 150 kS/s.\nAcknowledgment: This research was supported by the cooperative R&D\nprogramme (B551179-08-04-00) funded by the Korea Research Council\nfor Industrial Science & Technology.\n# The Institution of Engineering and Technology 2012\n16 January 2012\ndoi: 10.1049/el.2012.0174\n110 µm\n100 µm\npeixl\npitch\n14.36b EC-ADC\nM.-S. Shin, J.-B. Kim and O.-K. Kwon (Department of Electronics and\nCommunications Engineering, Hanyang University, 222 Wangshimni-\nro, Seongdong-gu, Seoul 133-791, Republic of Korea)\n\uf044\uf0e5\nmodulator\ndigital\nlogic\nSA-ADC\nFig. 3 Chip photograph of proposed 14.3-bit EC-ADC\nE-mail: okwon@hanyang.ac.kr\n1.2\nReferences\n0.6\n)\nB\nS\nL\n(\n1 George, Z.: ‘Comparison of CMOS and a-Si ﬂat panel imagers for X-ray\nimaging’. Proc. of IEEE Int. Conf. on Imaging Systems and Techniques,\nPenang, Malaysia, May 2011, pp. 194– 200\n0\n \nL\nN\nD\n–0.6\n2 Reshef, R., Leitner, T., Alfassi, S., Sarig, E., Golan, N., Berman, O.,\nFenigstein, A., Wolf, H., Hevel, G., Vilan, S., and Lahav, A.: ‘Large-\nformat medical X-ray CMOS image sensor for high resolution high\nframe rate application’. Proc. of 2009 Int. Image Sensor Workshop,\nBergen, Norway, June 2009\n–1.2\na\n3.0\nWA NHAAWIIN\n\n1.5\n)\nB\nS\nL\n(\nL\nN\n3 Han, S.-W., and Yoon, E.: ‘Area-efﬁcient correlated double sampling\nscheme with single sampling capacitor for CMOS image sensors’,\nElectron. Lett., 2006, 42, pp. 335–337\n0\n \nI\n–1.5\n–3.0\n4 Jansson, C.: ‘A high-resolution, compact, and low-power ADC suitable\nfor array implementation in standard CMOS’, IEEE Trans. Circuits\nSyst., 1995, 42, (11), pp. 904–912\n4096\n12288\n0\n8192\n16384\n20480\ncode\nb\n5 Takahashi, T., Ui, H., Takatori, N., Sanada, S., Hamamoto, T.,\nNakayama, H., Moriyama, Y., Akahide, M., Ueno, T., and Fukushima,\nN.: ‘A digital CDS scheme on fully column-inline TDC architecture\nfor an APS-C format CMOS image sensor’. IEEE Symp. on VLSI\nCircuits Dig. Tech. Prs, Honolulu, HI, USA, June 2011, pp. 90– 91\nFig. 4 Measured nonlinearities of EC-ADC\na Differential nonlinearity (DNL)\nb Integral nonlinearity (INL)\nConclusion: A 14.3-bit EC-ADC is proposed for medical CMOS X-ray\nimagers. For the binning operation, the proposed EC-ADC uses the DS\nmodulator instead of a charge ampliﬁer. The area of the capacitor for the\nbinning operation is reduced to 1/8 by the oversampling of the DS\nmodulator and thereby the 14.3-bit EC-ADC is placed within a\ncolumn pitch of 100 mm. Also, the 25% extended input range of the\nADC realises true 14-bit dynamic range. Therefore, it is expected that\nthe proposed EC-ADC is appropriate for high resolution CMOS X-ray\nimagers.\nELECTRONICS LETTERS 29th March 2012 Vol. 48 No. 7\nCopyright of Electronics Letters is the property of Institution of Engineering & Technology and its content may\nnot be copied or emailed to multiple sites or posted to a listserv without the copyright holder's express written\npermission. However, users may print, download, or email articles for individual use.\n""]",
A Flexible 14-Bit Column-Parallel ADC Concept for Application in Wafer-Scale X-ray CMOS Imagers.pdf,"['A Flexible 14-bit Column-Parallel ADC Concept for Application in Wafer-Scale X-ray \nCMOS Imagers \nHenk Derks, Daniel Verbugt, Laurens Korthout, Wim de Haan, Wasim Muhammad, Pierluigi Albertini1 \nTeledyne-DALSA Professional Imaging, High Tech Campus 27, 5656AE Eindhoven, The Netherlands                          \nhenk.derks@teledynedalsa.com – phone +31 40 2599010– fax +31 40 2599005  \n1Currently at Texas Instruments, Italy \n \nFollowing pixel reset, the charge integration phase starts and \nthe  output  of  the  pixel  (VPIXEL)  decreases  gradually  as  a \nresult  of  photon  induced  electrons.  At  the  end  of  the \nintegration phase, the column select (Sel) is activated, VPIXEL \nis sampled and stored under control of the SHS timing signal \non  capacitors  C1  and  C2.  To  compensate  for  comparator \noffset  the  input  offset  is  stored  on  C2  simultaneously. \nImmediately  after  readout  of  the  signal,  the  pixel  is  reset \nonce  more  and  consequently  this  value  is  sampled  under \ncontrol of the SHR timing signal. Since the signal level of the \npixel  and  comparator  offset  are  already  stored  on  C2,  the \nresult of the second sampling action is the subtraction of the \npixel signal level and offset from the reset level. To finish the \npixel sampling the column is deselected.  \nAbstract \nThe use of a column-parallel ADC concept in wafer-scale X-\nray CMOS imagers is attractive for reasons of costs and \nperformance. In order to serve an extensive range of imager \nproducts, it is mandatory for the ADC architecture to be \nhighly flexible. In this paper we present a 14-bit ADC \nimplementation in a 0.35µm 2P4M CMOS process that meets \nthis requirement. Adaptations of and additions to the basic \nADC concept required for application in various X-ray \nimager variants are described as well. \n1.  Basic ADC operation \nThe operating principle of the applied ADC is based on a \nmulti-slope thermometer code search methodology. This \narchitecture was preferred to single-slope, successive \napproximation or cyclic implementations for reasons of size, \nspeed and power consumption. \n            \nFor  the  A-to-D  conversion  process  the  reference  part \ngenerates  4  ramps  with  accurate  reference  levels  during  4 \nsubsequent  scans.  From  ramp  to  ramp  the  step  size  is \ndecreasing as depicted in Figure 3.  \nVere.\n\nSHS\n\nVeer\n>|\n\nReference part\n\ncx\n\nIRegister|\n\n+6 po\n\nChk}\n\nE0C—>\n\n14 bit\n\ndecre:\n\nPix\n\nos Des\n\nasing\n4-bit\n\n4-bit 4-bit 2bit\n\nDit\nVer\n\n  \n Figure 1    Basic 14-bit ADC architecture  \nFigure 3    ADC conversion process \nThe related block diagram is depicted in Figure 1 and \nconsists of the following blocks: a sample and hold circuit, a \nreference part with a multi tap resistor ladder, a bank of poly-\npoly capacitors and switches, an offset-compensated low-\nnoise comparator, counters and registers to temporarily store \nthe output data. The first step being the pixel readout and \nrelated timing is given in Figure 2. \nFor this purpose the reference part consists of a bank \nconsisting of 16 x 16 unit poly-poly capacitors and a resistor \ndivider with 16 + 3 taps. The 4 different ramps are then \ngenerated by means of the following combinations:                  \n- Ramp 1:  groups of 16 unit capacitors with Vref  \n- Ramp 2:  one group of unit capacitors with one of the 16 \ntaps of the divider giving Vref/16 steps  \n- Ramp 3: unit capacitor and again one of the 16 taps of the \ndivider \n- Ramp 4: unit capacitor and the three additional taps \nbetween reference ground and the first of the 16 taps giving \nsteps of Vref/64. \n  \n \n  \nVerxeL oo\nSHS ia\n\nRes ia\nSHR IL\nSel\n\n \n \n \n \n \n  \n The first 4 most significant bits are determined during the \nfirst scan and therefore the sampled pixel level is compared \nwith the ramp by use of the low-noise comparator. If the \nramp exceeds the stored pixel level, the reference output is \ndecreased by a value equal to the last step. Subsequently, a \n \nFigure  2        DDS  (Double  Delta  Sampling)  pixel  readout \ntiming \nnext scan with smaller steps is performed to derive the next 4 \nbits. The conversion is finalized when three scans for 4 bits \nand one scan (the last) for the 2 least significant bits have \nbeen completed. The total 14-bit conversion lasts 5.2µs. \nEvery step corresponds to a count related to the bits weight \nof the respective scan. The 4+4+4+2 output bits of a single \nADC are combined for all the columns in a serial fashion, \nline and frame sync pulses are added and brought off-chip by \nmeans of an LVDS serial interface.  \nThe rows are readout in pairs under control of the V- (row) \ndriver located in the center column of the pixel array. Both \nselect signals control not only the ADC input switches but \nalso the switches to simultaneously connect the pixel output \nof two rows to their respective column busses.  \nIn case sensor tiles are vertically butted with a butting \ndistance of one pixel pitch, geometrical image distortion \nmight occur if pair-wise readout for both tiles is done in an \nidentical manner. Assume for instance the gap is ignored, \ndistortion as a result of vertical compression occurs while if \nthe gap is treated as a row pair, the single pitched gap is \nexpanded to a double pitch distance in the resulting image.  \nBy implementing a single row shift and activation hereof for \none of both sensors solves this issue. The principle is drawn \nin Figure 6. \n2.  Binning implementation \nVertical binning is implemented by averaging the pixel \noutput of two adjacent rows. Since the conversion process for \ntwo rows has to be performed simultaneously to increase \nframe rate, the ADC needs a dual instead of a single input. \nTo realize this dual input the sample and hold part of the \nbasic single input ADC is extended as shown in Figure 4.   \n= a a a ey\n\nqooode ~ootodo\naocoo8 ~oo-o00\n\n1-1 eolumns\n\nsooooo — oto\nqooooo ~eetodo\n\nTvs\nBUFFER\n\nNarver input\n\nHOB ‘aut Eesti ||\n\none (oo4tod\n[\n\nqoou-C WH\n\ncolumns\n\nDualinpt_L\n‘lumn ADC\n\nPeo pith\n\n= 2neolumns >\n\n(Gy) hh,\ncH\n=\n\nTeen “Be odo\n\n|\n\n‘ADC pitch\n\nTVDS\nBUFFER\n\nsHs\nSHR\n\nsoos Tem\n\nVpx_oas\n\nNo_bining ©\n\nVebx_even\n\nSel even\n\nShadow\nRegister\n\n== a\nG\nhe Reference part,\nan\n+\n\n14 bit\n \n Figure 4  ADC extensions to enable row binning \nFor normal operation the „No_binning‟ switch is closed. As a \nresult the capacitors C1_odd  is connected in parallel to C1_even   \nand  likewise C2_odd  and C2_even .  Alternately the „Sel_odd‟ \nand „Sel_even‟ switches are closed to sample the pixel levels \nof the odd and the even rows respectively. \nFor binning operation the „No_binning‟ switch is opened and \nboth select switches are closed at the same time.  The net \nresult is the intended averaging of both pixel levels. Readout \nof the pixel array is implemented according Figure 5; one \ninput of a dual input ADC is connected to the even rows and \nthe other to the odd rows.  \nFigure 6    Row pairs in case of shifted binning \nFor one of the tiles (either the top or the bottom one) the row \npairs are shifted one row in vertical direction. This results in \na single top and bottom row. For these both only one select \nline is activated, one ADC input is used and hence the pixel \noutput is not averaged. For the top row this implies the \noutput of one row is used for the combination of an active \nrow and the (non-active) gap and distortion as a result of \ngeometrical compression or expansion is avoided.  \n              \n3.  Adaptations to various column widths \nThe width of a single column ADC is approx 67\uf06dm.  In case \nthe pixel pitch is e.g. 134\uf06dm as indicated in Table 1, two \nADCs fit in one pixel pitch.  The two ADCs are then both \nindividually connected to a row and conversion of both rows \nis performed in parallel. In this way the frame rate can be \nincreased considerably.  \ncolumns i coln | 1-1 columns\n\nao Oy chiah Oh |\noo OAH\n\nHCH) CH CHCH ge CH\n\nBlolo oleh\n\nSe) Sire H\n\n_\n\nQ\n\n0g og egeqaqy\no9o-On~oCEo0\n00-00 opo0o0\n\noe\n0 i I ae INO\n\nhn\n\n5\nBF [8*\n\nNarver input Tvs\nBUFFER\n\nThe ADC width accommodates pixel pitches of 50, 100 and \n200\uf06dm in the following manner: for the smallest pixel the \nADC width is extended to 100\uf06dm and a dual input is applied \nto serve two pixel columns. For pixel pitches of 100\uf06dm a \ndual input ADC is used to read out two vertically adjacent \nrows. For pitches of 200\uf06dm (and 134\uf06dm), two ADCs are \navailable for a single column to increase frame rate. \nFigure 5    Row and column arrangement in case of binning \n \n5.  DFT implementation \n4.  CDS vs. DDS readout \nAnalog and digital DFT (Design For Test) circuits are \nimplemented for test and validation purposes. These circuits \nare: \n- Artificial pixel  \n- Buffers for probing internal ADC nodes and  \n- Programmable generator for various digital test patterns to \nvalidate the LVDS interface.  \nAlternative to the DDS pixel readout method described \nabove CDS is a solution to reduce pixel reset noise. On-chip \nCDS is applied to pixel architectures with a floating \ndiffusion. Readout timing with pixel reset before signal \nsampling is shown in Figure 7. Compared to DDS, the order \nof signal and reset value sampling is reversed. The input of \nthe comparator now decreases with decreasing pixel output \nsignal level. The basic ADC implementation is adapted for \nthis readout method by a simple reversal of the top and \nbottom connections of the resistor ladder in the reference \npart. Instead of a rising edge, the generated ramp is then in \nopposite direction (falling edge) corresponding to a \ndecreasing signal level at the input of the comparator.  \n \n \n \n \n \n  \n \n \n \n \n                \n \n               \nThe principle of the artificial pixel is shown in Figure 9. For \nnormal operation the photodiodes of the pixel array are \nreadout by connecting them through the row select switches \nto the column bus. The artificial pixel can be activated by \nfirst disconnecting all the photodiodes and closing the \nartificial pixel switch. An external voltage can then applied \nto the column bus. An N-most source follower is used as \nbuffer in the same way as for the photodiode output. The \nartificial reset reference is used as reset level identical to \nexternal CDS operation. \nSHS I]\n\nreset _| |\nSHR [|\n\nSel\n\nCritical ADC nodes can be probed by closing the related \nswitch and observing the buffered voltage available on the \ndedicated sensor pad „Analog Test Out‟. Examples of such \ncritical nodes are: the pixel reset voltage, the column bus \nvoltage (both to check settling behavior) and the generated \nvoltage ramp.   \n \nFigure 7    CDS (Correlated Double Sampling) pixel readout \ntiming \nay Column bus\n\ni ""\n_—— \' vst\n“ Lov\n1 Artpixel\n{ i “nee ; sna et\n“ LN\n2 H Vreset —7\n\\ \' > aig testo\ni a\nSE gle LK\nte | y\ni —“\nSS is I>\nt va T- Ky\now eet snes cons tavit\n= ht\nLos\nv=\nof rem |.\n\ncx\nExternal CDS for pixels without a floating diffusion is also \nfeasible. This is accomplished by using an artificial reset \nreference VART instead of the pixel reset value. This \n(external) reference source VART and its connections are \nshown in Figure 8. \nVen. gg\nSHR come nr 14 bit\nVast Ce |Shadow]\nResse\n= x =\n& s\nLote) Ff t\nhs — 9\nbz &\nVe _| Reference part\n> le\n+ fe\n\nck]\nFigure 9  Analog DFT implementation  \n \n6. \n Performance summary  \nTable 1 summarizes the performance of a typical imager with \nthe ADC implementation described in this paper and 134\uf06dm \npixel pitch.   \n Figure 8    Adaption for external CDS (DDS readout timing \nscheme) \nFor one net pixel output value two conversions have to take \nplace; the first is the pixel reset value minus this reference \nvoltage VART and the second the pixel signal level minus the \nsame reference voltage. The first result is temporarily stored \nexternally and subsequently the second is digitally subtracted \nfrom the first.  \n \n \nTechnology\n\n0.35um 2P4M CMOS\n\nDevice Dimensions\n\n104 x 142mm?\n\nPixel Pitch\n\n134m x 134um\n\nResolution\n\n768 (H) x 1024 (V)\n\nFull Well Capacity\nConversion Gain\n\n155ke- / 567ke-\n13yVie- / 3.5uV/e-\n\nNoise Data Double Sampling\n\n67e- / 148e-\n\nDynamic Range\n- DDS mode\n- External CDS\n\nQuantum Efficiency\nDark Current @ 60°C\n\n67.3dB / 71.7dB\n77.5dB\n\n> 50% @ 500nm\n60ke- / pix.sec\n\n‘AD Conversion Depth 14-bit\nMax. Data Rate per LVDS output 560Mbps\nFrame Rate 100fps\n\nSensor Power Consumption 1.2W\n\n‘ADC Clock Frequency 10MHz\n\n#Clock cycles for one conversion 52\n\nSupply Voltages 3.5V (Analog + Digital)\n‘ADC Current Consumption 90uA (3.5V)\nLVDS buffer supply 2.7V\n\n‘ADC Reference Voltage 2.8V\n\n Figure 11    Photograph of a complete X-ray detector \ncomprising a wafer-scale imager with the 14-bit ADC, \nscintillator layer for X-ray to visible light conversion and \ninterfacing electronics \n \nTable1    Performance summary of one out of the range of X-\nray detectors \n \nFigures 10 and 11 respectively show a sensor tile and a \ncompletely assembled detector while Figure 12 depicts an X-\nray image of a clinical phantom captured with one of the \ndetectors out of the presented range.  \n \n7.  Conclusion   \nIn this paper a 14-bit column-parallel ADC for wafer-scale \nX-ray CMOS imagers is presented. The concept is highly \nflexible and minor circuit extensions to the basic \nimplementation are sufficient to serve a wide product range \nof detectors and multiple purposes. \n \nFigure 12   Image captured with the wafer-scale X-ray \ndetector \n \nReferences \n1.  L.  Korthout  et  al.,  “A  wafer-scale  CMOS  APS  imager  for \nmedical X-ray applications” \n \n2.  R.Reshef, et al., “Large-Format Medical X-ray CMOS Image \nSensor  for  High  Resolution  High  Frame  Rate  Applications”, \nInternational Image Sensor Workshop, June 2009 \nSteven  Huang,  et  all.,”Design  of  a  PTC  inspired  Segmented \nADC for High Speed Column Parallel CMOS Image Sensor”. \nS. Matsuo, T. Bales, M.Shoda, S.Osawa, B. Almond, Y. Mo, \nJ.  Gleason,  T.  Chow,  I.  Takayanagi,“  A  Very  Low  Column \nFPN  and  Row  Temporal  Noise  8.9  M-Pixel,  60  fps  CMOS \nImage  Sensor  with  14bit  Column  Parallel  SA-  ADC,”  Dig. \nTech. Papers, Symp. VLSI Circuits, pp.138-139, 2008. \n5.  M.  Furuta,  Y.  Nishikawa,  T.  Inoue,  S.  Kawahito,  “A  high-\nspeed,  high-sensitivity  digital  CMOS  image  sensor  with  a \nglobal  shutter  and  12-bit  column-parallel  cyclic  A/D \nconverter,” IEEE J. Solid-State Circuits, vol.42, no.4, pp.766-\n774, 2007. \nFigure 10    Photograph of a wafer scale X-ray imager \n(100\uf06dm pixel pitch variant) with the 14-bit column-parallel \nADC including tile PCB \n3. \n4. \n']",
A Nyquist Rate Pixel Level ADC for CMOS Image Sensors.pdf,"['A Nyquist Rate Pixel Level ADC for CMOS Image Sensors\nDavid X.D. Yang\nBoyd Fowler\nAbbas El Gamal\nInformation Systems Laboratory, Stanford University, Stanford, CA 94305-4055\nAbstract\nfully parallel pixel level ADC. In [6, 7] the ﬁrst true\npixel level ADC technique is described. The ADC em-\nploys a one bit Σ∆ modulator at each pixel. The ADCs\nare implemented using very simple and robust circuits,\nand operate in parallel. However, the implementation\nhas several shortcomings including: large pixel size, high\noutput data due to oversampling, poor low light perfor-\nmance and high ﬁxed pattern noise. The large pixel size\nproblem quickly disappears with technology scaling as we\ndemonstrate in this paper. In fact, if photodetectors are\nto be built on top of a CMOS chip, pixel level ADC may\nrequire no additional area.\nA Nyquist rate Multi-Channel Bit Serial (MCBS) ADC\nusing successive comparisons is presented. The ADC is\nsuited to pixel level implementation in a CMOS image\nsensor.\nIt comprises a 1-bit comparator/latch pair per\n4 pixels and a DAC/controller shared by all pixels. A\nCMOS 320 × 240 sensor using the MCBS ADC is de-\nscribed. It achieves 8.9 × 8.9 µm pixel size at 25% ﬁll fac-\ntor in 0.35 µm CMOS technology. Measured INL/DNL\nfor the ADC are 2.3/1.2 LSB at 8-bit. Gain/oﬀset FPN\ndue to ADC are 0.24%/0.2%.\nIn this paper, we introduce the ﬁrst viable Nyquist-\nrate pixel level ADC technique. The technique, which we\ndenote by Multi-Channel Bit Serial (MCBS) ADC uses\nsuccessive comparisons to output one bit at a time si-\nmultaneously from all pixels. It can still be implemented\nusing simple robust circuits and overcomes the shortcom-\nings of our Σ∆ ADC. Output data rate is reduced by\nusing Nyquist rate conversion instead of oversampling.\nLow light performance is improved to the level of analog\nCMOS sensors by using direct integration instead of con-\ntinuous sampling. Nonuniformity is signiﬁcantly reduced\nby globally distributing the signals needed to operate the\nADC and by performing local autozeroing. The method\nhas an additional important advantage; the ADCs can\nbe fully tested by applying electrical signals externally\ninstead of light.\nIntroduction\nCMOS technology holds out the promise of a single-chip\ndigital camera. The simple approach of combining an\nanalog CMOS sensor array, a high speed ADC followed\nby a digital signal processor on a single chip, although sig-\nniﬁcantly reduces system cost and power, does not fully\nexploit the potential of integration and technology scal-\ning. Integration provides the opportunity to rethink the\nbasic partitioning of functionality among the pixel, col-\numn, and chip levels.\nIn this paper we focus on ADC implementation. ADC\ncan be performed at the chip level using a high speed\nconverter, at the column level using multiple lower speed\nconverters, or at the pixel level using very simple low\nspeed converters. Analysis by several authors [1, 2] shows\nthat pixel level ADC should achieve the highest SNR and\nthe lowest power consumption, since it is performed in\nparallel, close to where the signals are generated, and op-\nerates at very low speed. Unfortunately, none of the well\nestablished ADC techniques meets the stringent area and\npower requirements for a pixel level implementation. As\na result most published work on ADC for image sensors\nis focused on column and chip level implementations, e.g.\n[2].\nThe remainder of this paper is organized as follows. In\nthe next section we describe the operation of the MCBS\nADC. In the following section we discuss pixel circuit\ndesign and layout. Finally we present measured results\nfrom a 320×240 image sensor with MCBS ADC.\nMCBS ADC Operation\nThe severe constraints on pixel area and ﬁll factor pre-\nclude the use of existing ADC techniques. Traditional\nbit-parallel techniques such as single slope require an m-\nbit latch at each pixel to implement m-bit conversion,\nwhich is not feasible for typical m values. Moreover, bit-\nserial techniques such as successive approximation or al-\ngorithmic ADC require complex circuits with very precise\nFew authors took up the challenge of implementing\npixel-level ADC [3, 4, 5, 6, 7]. In [3, 4, 5] a voltage-\nto-frequency (VF) converter is used at each pixel so that\nno analog signals need to be transported. However, since\nthe ADC is performed one row at a time, this method\nis essentially a column ADC method rather than a true\n1\nand matched analog components. As a result, they are\nalso not suited to pixel level implementation.\ncompletes stepping through the boundary points, the\nlatched output is read out. Then RAMP and BITX\nare reset to zero in preparation for another sequence of\ncomparisons. The MSB is similarly generated by com-\nparing S to 4\n8 and the NMSB is generated by comparing\nS to 2\nBefore we describe the operation of our MCBS ADC\nwe make the following crucial observation. Note that an\nADC maps an analog signal S into a digital represen-\ntation (codeword) according to a quantization table. A\n3-bit Gray coded example is given in Table 1, where S\nis assumed to take values in the unit interval (0,1]. The\ntable lists the assignment of each input range to a 3-bit\ncodeword. The crucial observation is that we can gener-\nate each bit of the codeword independently. For example\nconsider the generation of the LSB. From the table, the\nLSB is a 1 when S ∈ ( 1\n8 ] ∪ ( 5\n8 ] and a 0 otherwise. To\ngenerate the LSB, any bit-serial Nyquist-rate ADC must\n8 , 7\n8 ]\nbe able to answer the question:\n?. Thus, the ADC is essentially a one-detector that indi-\ncates the input ranges resulting in a 1. Interestingly, this\none-detector can be simply implemented using a one-bit\ncomparator and a one-bit latch.\n8 and to 6\n8 .\n8 , 3\n8 , 7\nis S ∈ ( 1\n8 ] ∪ ( 5\n8 , 3\n|ADC Input Range|Codeword|\n|0− 1 8 1 − 2 8 8 2 − 3 8 8 3 − 4 8 8 4 − 5 8 8 5 − 6 8 8 6 − 7 8 8 7 −1 8|0 0 0 0 0 1 0 1 1 0 1 0 1 1 0 1 1 1 1 0 1 1 0 0|Figure 1: One-detector operation.\nThis 3-bit example can be easily generalized to per-\nform any m-bit ADC. To quantize S to m bits of pre-\ncision, the unit interval is divided into 2m input ranges\n2m , (i+1)\n( i\n2m ], 0 ≤ i ≤ 2m −1, and each range is represented\nby an m-bit codeword. To determine the m-bit codeword\nfor S, the ADC generates each bit serially (in any desired\norder). Each bit is generated by answering the question:\nis signal S ∈ A ?, where A is the set of input ranges that\nresult in 1. The ADC implements the question by succes-\nsive comparisons at the boundary points of the ranges in\nA using the one-detector described. The RAMP signal\nsteps through the boundary values monotonically, while\nBITX indicates the value (0 or 1) of the particular range.\nAt the end of each sequence of comparisons, the latched\nvalue is read out.\nTable 1: Codewords for m=3\nA block diagram of the one-detector, which constitutes\none channel of the MCBS ADC is shown in Figure 1.\nThe analog signal S is connected to the positive termi-\nnal of the comparator, and the signal RAMP, which\nis an increasing staircase waveform, is connected to the\nnegative terminal. The output of the comparator feeds\ninto the gate of the latch, and the digital signal BITX\nconnects to the data terminal of the latch. To gener-\nate the LSB, RAMP starts at zero and monotonically\nsteps through the boundary points ( 1\n8 ). At the\nsame time, BITX starts at zero and changes whenever\nRAMP changes1. As soon as RAMP exceeds S, the\ncomparator ﬂips, causing the latch to store the BITX\nvalue just after the RAMP changes. The stored value\nis the desired LSB. After the comparator ﬂips, RAMP\ncontinues on, but since RAMP is monotonic, the com-\nparator ﬂips exactly once so that the latch keeps the de-\nsired value. As shown in Figure 1, for input1, the com-\nparator ﬂips when RAMP steps to 5\n8 , latching BITX,\nwhich is 0, and for input2 a 1 is latched. After RAMP\nThe number of comparisons performed for each bit\nin the 3-bit example, generating the LSB\nvaries, e.g.\nrequires 4 comparisons, the NMSB 2 comparisons and\nthe MSB only 1 comparison. It can be shown that for\nm-bits of precision, a total of at least 2m − 1 compar-\nisons are needed for any code, and that the Gray code\nachieves this lower bound. Thus in addition to being ro-\nbust against single errors, the Gray code also minimizes\nthe number of comparisons needed.\n8 , 3\n8 , 5\n8 , 7\nAlthough we assumed a uniform quantization table in\nour discussion, it is easy to see that our ADC can imple-\nment any quantization table, e.g. ranges corresponding\nto logarithmic or gamma correction functions2.\nA block diagram of the MCBS ADC is shown in Fig-\nure 2. It comprises a one-detector at each pixel or shared\n1To meet the setup time requirement of the latch, BITX must\n2In this case the RAMP signal should have higher precision\ntransition slightly before RAMP changes.\nthan m.\n2\namong a group of neighboring pixels. The RAMP and\nBITX are globally distributed. The shared circuits con-\nsist of a simple state-machine and an m-bit DAC. The\nstate-machine produces BITX and the input to the DAC\nnecessary to generate the RAMP signal.\n|None||\n||None|Figure 3: Four pixels sharing a one-detector circuit.\nnwell) whenever possible. Since a salicide block mask\nwas not available, we attempted to improve quantum ef-\nﬁciency using ﬁeld oxide cuts in the n+ diﬀusion, and\nhence the spiral-shaped photodiodes. To prevent light\ninduced currents from aﬀecting the analog circuitry or\ncausing latchup, we used metal4 as a light shield every-\nwhere except over the photodetectors.\nb\np\nq\n_\ne\ns\nt\n.\nc\ni\nf\n(cid:10)\n(cid:10)\n(cid:2)\n(cid:1)\n(cid:2)\n(cid:2)\n(cid:1)\n(cid:10)\n(cid:2)\n(cid:1)\n(cid:10)\n(cid:10)\n(cid:10)\n(cid:1)\n(cid:5)\n(cid:3)\n(cid:1)\n(cid:1)\n(cid:3)\n(cid:10)\n(cid:1)\n(cid:10)\n(cid:10)\n(cid:10)\n(cid:10)\n(cid:8)\n(cid:10)\n(cid:8)\n(cid:10)\n(cid:8)\n(cid:10)\n(cid:10)\n(cid:10)\n(cid:10)\n(cid:10)\n(cid:10)\n(cid:10)\n(cid:8)\n(cid:10)\n(cid:10)\n(cid:10)\n(cid:10)\n(cid:10)\n(cid:10)\n(cid:10)\n(cid:10)\n(cid:10)\n(cid:1)\n(cid:10)\n(cid:1)\n(cid:10)\n(cid:10)\n(cid:10)\n(cid:10)(cid:10)\n(cid:9)\n(cid:8)\n(cid:8)\n(cid:8)\n(cid:8)\n(cid:8)\n(cid:4)\n(cid:4)\n(cid:4)\n(cid:4)\n(cid:4)\n(cid:10)(cid:10)(cid:10)\n(cid:2)\n(cid:10)\n(cid:2)\n(cid:10)\n(cid:10)\n(cid:10)\n(cid:1)\n(cid:10)\n(cid:10)\n(cid:2)\n(cid:10)\n(cid:10)\n(cid:10)\n(cid:3)(cid:3)(cid:3)(cid:3)(cid:3)(cid:3)(cid:3)(cid:3)(cid:3)(cid:3)(cid:3)(cid:3)(cid:3)(cid:3)(cid:3)(cid:3)(cid:3)(cid:3)(cid:3)(cid:3)(cid:3)\n(cid:10)\n(cid:2)\n(cid:10)\n(cid:2)\n(cid:10)\n(cid:10)\n(cid:1)\n(cid:10)\n(cid:1)\n(cid:10)\n(cid:8)\n(cid:10)\n(cid:8)\n(cid:10)\n(cid:2)\n(cid:10)\n(cid:2)(cid:2)\n(cid:10)\n(cid:10)\n(cid:2)\n(cid:10)\n(cid:10)\n(cid:10)\n(cid:2)\n(cid:10)\n(cid:2)\n(cid:1)\n(cid:8)\n(cid:1)\n(cid:8)\n(cid:8)\n(cid:8)\n(cid:2)\n(cid:8)\n(cid:8)\n(cid:8)\n(cid:8)\n(cid:8)\n(cid:4)\n(cid:4)\n(cid:4)\n(cid:4)\n(cid:2)\n(cid:2)\n(cid:4)\n(cid:1)\n(cid:3)\n(cid:3)\n(cid:6)\n(cid:6)\n(cid:6)\n(cid:5)\n(cid:3)\n(cid:3)\n(cid:3)\n(cid:3)\n(cid:3)\n(cid:3)\n(cid:3)\n(cid:3)\n(cid:3)\n(cid:1)\n(cid:1)\n(cid:1)\n(cid:2)\n(cid:2)\n(cid:1)\n(cid:2)\n(cid:2)\n(cid:2)\n(cid:2)\n(cid:1)\n(cid:1)\n(cid:2)\n(cid:2)\n(cid:2)\n(cid:2)\n(cid:2)\n(cid:2)\n(cid:8)\n(cid:8)\n(cid:8)\n(cid:8)\n(cid:8)\n(cid:8)\n(cid:8)\n(cid:8)\n(cid:8)\n(cid:8)\n(cid:8)\n(cid:8)\n(cid:8)\n(cid:5)\n(cid:4)\n(cid:4)\n(cid:4)\n(cid:4)\n(cid:3)\n(cid:3)\n(cid:3)\n(cid:3)\n(cid:3)\n(cid:3)\n(cid:2)\n(cid:2)\n(cid:2)\n(cid:2)\n(cid:2)\n(cid:2)\n(cid:4)\n(cid:10)(cid:10)\n(cid:1)\n(cid:2)\n(cid:2)\n(cid:7)\n(cid:6)\n(cid:6)\n(cid:6)\n(cid:2)\n(cid:2)\n(cid:1)\n(cid:2)\n(cid:1)\n(cid:1)\n(cid:2)\n(cid:3)\n(cid:3)\n(cid:3)\n(cid:3)\n(cid:3)\n(cid:3)\n(cid:3)\n(cid:3)\n(cid:3)\n(cid:3)\n(cid:3)\n(cid:1)\n(cid:10)\n(cid:10)\n(cid:10)\n(cid:10)\n(cid:10)\n(cid:10)\n(cid:2)\n(cid:10)\n(cid:2)\n(cid:10)\n(cid:2)(cid:2)(cid:2)(cid:2)\n(cid:10)\n(cid:10)\n(cid:10)\n(cid:10)\n(cid:10)\n(cid:10)\n(cid:10)\n(cid:10)\n(cid:2)\n(cid:10)\n(cid:10)\n(cid:10)\n(cid:10)\n(cid:10)\n(cid:10)\n(cid:10)\n(cid:10)\n(cid:10)\n(cid:9)\n(cid:8)\n(cid:8)\n(cid:8)\n(cid:8)\n(cid:8)\n(cid:2)\n(cid:8)\n(cid:8)\n(cid:8)\n(cid:8)\n(cid:8)\n(cid:8)\n(cid:7)\n(cid:7)\n(cid:4)\n(cid:4)\n(cid:4)\n(cid:4)\n(cid:3)\n(cid:3)\n(cid:3)\n(cid:3)\n(cid:3)\n(cid:3)\n(cid:2)\n(cid:2)(cid:2)(cid:2)(cid:2)(cid:2)\n(cid:2)(cid:2)(cid:2)(cid:2)(cid:2)\n(cid:2)\n(cid:4)\n(cid:2)\n(cid:1)\n(cid:2)\n(cid:2)\n(cid:7)\n(cid:6)\n(cid:2)\n(cid:2)\n(cid:2)\n(cid:1)\n(cid:1)\n(cid:1)\n(cid:1)\n(cid:2)(cid:2)\n(cid:1)\n(cid:2)(cid:2)\n(cid:2)(cid:2)\n(cid:1)\n(cid:8)\n(cid:8)\n(cid:8)\n(cid:8)\n(cid:8)\n(cid:8)\n(cid:8)\n(cid:4)\n(cid:10)\n(cid:1)(cid:1)(cid:1) (cid:1)(cid:1)\n(cid:10)\n(cid:10)\n(cid:10)\n(cid:10)\n(cid:10)\n(cid:10)\n(cid:10)\n(cid:10)\n(cid:10)\n(cid:10)\n(cid:10)\n(cid:10)\n(cid:1)(cid:1) (cid:1)(cid:1)(cid:1)(cid:1)\n(cid:10)\n(cid:10)\n(cid:10)\n(cid:10)\n(cid:10)\n(cid:10)\n(cid:10)\n(cid:10)\n(cid:10)\n(cid:10)\n(cid:10)\n(cid:10)\n(cid:8)\n(cid:8)\n(cid:8)\n(cid:8)\n(cid:8)\n(cid:8)\n(cid:4)\n(cid:4)\n(cid:4)\n(cid:3)\n(cid:3)\n(cid:3)\n(cid:3)\n(cid:3)\n(cid:3)\n(cid:3)\n(cid:3)\n(cid:2)\n(cid:1)(cid:1)(cid:1)(cid:1)(cid:1)(cid:1)(cid:1)\n(cid:1)(cid:1)(cid:1)(cid:1)(cid:1)(cid:1)(cid:1)\n(cid:4)\n(cid:1)\n(cid:2)\n(cid:8)\n(cid:8)\n(cid:5)\n(cid:3)\n(cid:2)\n(cid:3)\n(cid:1)\n(cid:2)\n(cid:2)\n(cid:1)\n(cid:1)\n(cid:1)\n(cid:1)\n(cid:1)\n(cid:8)\n(cid:8)\n(cid:8)\n(cid:8)\n(cid:4)\n(cid:8)\n(cid:8)\n(cid:7)(cid:7)\n(cid:6)\n(cid:4)\n(cid:4)\n(cid:4)\n(cid:4)\n(cid:3)(cid:3)(cid:3)(cid:3)(cid:3)(cid:3)(cid:3)\n(cid:3)\n(cid:3)\n(cid:2)\n(cid:1)\n(cid:1)\n(cid:1)\n(cid:2)\n(cid:1)\n(cid:8)\n(cid:8)\n(cid:5)\n(cid:2)\n(cid:2)\n(cid:3)\n(cid:3)\n(cid:3)\n(cid:3)\n(cid:3)\n(cid:3)\n(cid:2)\n(cid:2)\n(cid:2)\n(cid:2)\n(cid:1)\n(cid:1)\n(cid:1)\n(cid:1)\n(cid:1)\n(cid:1)\n(cid:1)\n(cid:1)\n(cid:1)\n(cid:1)\n(cid:1)\n(cid:8)\n(cid:8)\n(cid:8)\n(cid:8)\n(cid:4)\n(cid:4)\n(cid:4)\n(cid:4)\n(cid:2)\n(cid:8)\n(cid:8)\n(cid:2)\n(cid:8)\n(cid:4)\n(cid:2)\n(cid:1)\n(cid:1)\n(cid:1)\n(cid:7)\n(cid:2)\n(cid:5)\n(cid:2)\n(cid:2)\n(cid:2)\n(cid:3)\n(cid:3)\n(cid:3)\n(cid:3)\n(cid:3)\n(cid:3)\n(cid:1)\n(cid:1)\n(cid:2)\n(cid:1)\n(cid:1)\n(cid:1)\n(cid:1)\n(cid:1)\n(cid:1)\n(cid:1)\n(cid:1)\n(cid:1)\n(cid:1)\n(cid:1)\n(cid:1)\n(cid:1)\n(cid:1)\n(cid:8)\n(cid:8)\n(cid:8)\n(cid:8)\n(cid:4)\n(cid:4)\n(cid:4)\n(cid:4)\n(cid:2)\n(cid:2)\n(cid:8)\n(cid:8)\n(cid:8)\n(cid:4)\n(cid:5)\n(cid:2)(cid:2)(cid:2)(cid:2)(cid:2)\n(cid:3)(cid:3)\n(cid:2)\n(cid:2)\n(cid:1)\n(cid:3)\n(cid:3)\n(cid:3)\n(cid:3)\n(cid:1)\n(cid:1)\n(cid:1)\n(cid:1)\n(cid:1)\n(cid:1)\n(cid:1)\n(cid:1)\n(cid:2)\n(cid:6)\n(cid:2)\n(cid:3)(cid:3)(cid:3)\n(cid:3)\n(cid:3)\n(cid:3)\n(cid:3)\n(cid:1)\n(cid:1)\n(cid:4)\n(cid:4)\n(cid:8)\n(cid:8)\n(cid:8)\n(cid:8)\n(cid:2)\n(cid:8)\n(cid:8)\n(cid:5)\n(cid:4)\n(cid:4)\n(cid:3)\n(cid:1)(cid:1)(cid:1)(cid:1)\n(cid:1)(cid:1)(cid:1)(cid:1)\n(cid:2)\n(cid:8)\n(cid:4)\n(cid:2)\n(cid:1)\n(cid:1)\n(cid:10)\n(cid:2)\n(cid:10)\n(cid:2)(cid:2)\n(cid:10)\n(cid:10)\n(cid:10)\n(cid:10)\n(cid:10)\n(cid:8)\n(cid:8)\n(cid:3)\n(cid:3)\n(cid:3)\n(cid:3)\n(cid:3)(cid:3)(cid:3)\n(cid:2)\n(cid:1)\n(cid:2)\n(cid:1)\n(cid:1)\n(cid:1)\n(cid:1)\n(cid:1)\n(cid:1)\n(cid:2)\n(cid:3)\n(cid:3)\n(cid:3)\n(cid:2)\n(cid:2)\n(cid:4)\n(cid:4)\n(cid:9)\n(cid:8)\n(cid:8)\n(cid:8)\n(cid:8)\n(cid:8)\n(cid:8)\n(cid:7)\n(cid:6)\n(cid:4)\n(cid:4)\n(cid:3)\n(cid:2)\n(cid:8)\n(cid:4)\n(cid:1)\n(cid:1)\n(cid:2)\n(cid:1)\n(cid:1)\n(cid:1)\n(cid:3)\n(cid:3)\n(cid:1)\n(cid:1)\n(cid:1)\n(cid:1)\n(cid:1)\n(cid:1)\n(cid:1)\n(cid:1)\n(cid:1)\n(cid:2)(cid:2)(cid:2)\n(cid:2)\n(cid:10)\n(cid:10)\n(cid:10)\n(cid:10)\n(cid:10)\n(cid:10)\n(cid:10)\n(cid:8)\n(cid:8)\n(cid:2)\n(cid:3)\n(cid:3)\n(cid:1)\n(cid:2)\n(cid:2)\n(cid:1)\n(cid:1)\n(cid:1)\n(cid:1)\n(cid:1)\n(cid:1)\n(cid:1)\n(cid:1)\n(cid:2)\n(cid:10)(cid:10)\n(cid:10)\n(cid:2)\n(cid:8)\n(cid:8)\n(cid:8)\n(cid:8)\n(cid:4)\n(cid:8)\n(cid:8)\n(cid:8)\n(cid:4)\n(cid:4)\n(cid:4)\n(cid:3)\n(cid:2)\n(cid:4)\n(cid:2)\n(cid:3)\n(cid:3)\n(cid:10)\n(cid:1)\n(cid:10)\n(cid:1)\n(cid:10)\n(cid:1)\n(cid:10)\n(cid:1)\n(cid:10)\n(cid:1)\n(cid:10)\n(cid:1)\n(cid:10)\n(cid:1)\n(cid:10)\n(cid:10)\n(cid:10)\n(cid:1)\n(cid:10)\n(cid:1)\n(cid:10)\n(cid:1)\n(cid:10)\n(cid:1)\n(cid:10)\n(cid:1)\n(cid:10)\n(cid:1)\n(cid:10)\n(cid:1)\n(cid:10)\n(cid:10)\n(cid:10)\n(cid:10)\n(cid:10)\n(cid:10)\n(cid:2)\n(cid:10)\n(cid:8)\n(cid:8)\n(cid:8)\n(cid:8)\n(cid:8)\n(cid:8)\n(cid:3)(cid:3)(cid:3)(cid:3)(cid:3)(cid:3)(cid:3)(cid:3)\n(cid:3)(cid:3)(cid:3)(cid:3)(cid:3)(cid:3)(cid:3)(cid:3)(cid:3)(cid:3)(cid:3)(cid:3)\n(cid:3)(cid:3)\n(cid:1)\n(cid:1)\n(cid:8)\n(cid:8)\n(cid:8)\n(cid:4)\n(cid:10)\n(cid:2)\n(cid:10)\n(cid:2)\n(cid:2)\n(cid:2)\n(cid:8)\n(cid:8)\n(cid:8)\n(cid:5)\n(cid:4)\n(cid:4)\n(cid:4)\n(cid:3)\n(cid:3)\n(cid:3)\n(cid:3)\n(cid:3)\n(cid:3)\n(cid:3)\n(cid:2)\n(cid:2)(cid:2)(cid:2)(cid:2) (cid:2)(cid:2)(cid:2)\n(cid:2)(cid:2)(cid:2)(cid:2)(cid:2)(cid:2)(cid:2)(cid:2)(cid:2)\n(cid:4)\n(cid:4)\n(cid:4)\n(cid:4)\n(cid:4)\n(cid:4)\n(cid:4)\n(cid:4)\n(cid:4)\n(cid:4)\n(cid:4)\n(cid:4)\n(cid:4)\n(cid:4)\n(cid:4)\n(cid:4)\n(cid:4)\n(cid:4)\n(cid:4)\n(cid:4)\n(cid:4)\n(cid:4)\n(cid:10)\n(cid:10)\n(cid:10)\n(cid:10)\n(cid:10)\n(cid:10)\n(cid:10)\n(cid:10)\n(cid:10)\n(cid:10)\n(cid:10)\n(cid:10)\n(cid:10)\n(cid:10)\n(cid:10)\n(cid:10)\n(cid:10)\n(cid:10)\n(cid:10)\n(cid:10)\n(cid:10)\n(cid:10)\n(cid:10)\n(cid:8)\n(cid:8)\n(cid:8)\n(cid:8)\n(cid:8)\n(cid:8)\n(cid:2)\n(cid:4)\n(cid:9)\n(cid:8)\n(cid:8)\n(cid:8)\n(cid:7)\n(cid:6)\n(cid:6)\n(cid:4)\n(cid:2)\n(cid:2)\n(cid:2)\n(cid:2)\n(cid:1)\n(cid:1)\n(cid:10)\n(cid:10)\n(cid:2)\n(cid:8)\n(cid:8)\n(cid:8)\n(cid:8)\n(cid:3)(cid:3)(cid:3)(cid:3)(cid:3)\n(cid:8)\n(cid:8)\n(cid:2)\n(cid:2)\n(cid:2)\n(cid:3)\n(cid:3)\n(cid:3)(cid:3)(cid:3)\n(cid:3)\n(cid:3)\n(cid:3)\n(cid:3)\n(cid:3)\n(cid:3)\n(cid:3)\n(cid:2)\n(cid:2)\n(cid:2)\n(cid:2)\n(cid:2)\n(cid:4)\n(cid:4)\n(cid:3)\n(cid:3)\n(cid:3)\n(cid:6)\n(cid:4)\n(cid:4)\n(cid:4)\n(cid:4)\n(cid:4)\n(cid:4)\n(cid:4)\n(cid:4)\n(cid:4)\n(cid:4)\n(cid:4)\n(cid:4)\n(cid:4)\n(cid:4)\n(cid:4)\n(cid:4)\n(cid:4)\n(cid:4)\n(cid:4)\n(cid:4)\n(cid:2)\n(cid:2)\n(cid:2)\n(cid:2)\n(cid:2)\n(cid:2)\n(cid:8)\n(cid:8)\n(cid:8)\n(cid:4)\n(cid:8)\n(cid:8)\n(cid:8)\n(cid:10)\n(cid:10)\n(cid:10)\n(cid:3)\n(cid:10)\n(cid:3)\n(cid:10)\n(cid:10)\n(cid:3)\n(cid:10)\n(cid:2)\n(cid:10)\n(cid:2)\n(cid:10)\n(cid:2)\n(cid:10)\n(cid:2)\n(cid:10)\n(cid:3)\n(cid:10)\n(cid:3)\n(cid:10)\n(cid:10)\n(cid:3)\n(cid:10)\n(cid:3)\n(cid:10)\n(cid:3)\n(cid:10)\n(cid:3)(cid:3)(cid:3)(cid:3)(cid:3)(cid:3) (cid:3)\n(cid:10)\n(cid:10)\n(cid:3)(cid:3)(cid:3)(cid:3)(cid:3)\n(cid:10)\n(cid:2)(cid:2)(cid:2)\n(cid:10)\n(cid:10)\n(cid:1)\n(cid:10)\n(cid:1)\n(cid:10)\n(cid:10)\n(cid:10)\n(cid:10)\n(cid:10)\n(cid:10)\n(cid:8)\n(cid:8)\n(cid:3)\n(cid:8)\n(cid:8)\n(cid:5)\n(cid:3)\n(cid:3)\n(cid:3)\n(cid:3)\n(cid:3)(cid:3)(cid:3)(cid:3)\n(cid:3)\n(cid:3)\n(cid:2)\n(cid:2)\n(cid:2)\n(cid:4)\n(cid:2)\n(cid:7)\n(cid:5) (cid:5) (cid:5) (cid:5) (cid:5) (cid:5) (cid:5) (cid:5)\n(cid:4)\n(cid:4)\n(cid:2)\n(cid:4)\n(cid:4)\n(cid:4)\n(cid:4)\n(cid:4)\n(cid:4)\n(cid:4)\n(cid:4)\n(cid:4)\n(cid:4)\n(cid:4)\n(cid:4)\n(cid:4)\n(cid:4)\n(cid:4)\n(cid:4)\n(cid:3)\n(cid:4)\n(cid:3)(cid:3) (cid:3)\n(cid:4)\n(cid:4)\n(cid:8)\n(cid:8)\n(cid:8)\n(cid:2)\n(cid:2)\n(cid:4)\n(cid:8)\n(cid:8)\n(cid:8)\n(cid:10)\n(cid:10)\n(cid:10)\n(cid:10)\n(cid:10)\n(cid:10)\n(cid:10)\n(cid:10)\n(cid:10)\n(cid:10)\n(cid:10)\n(cid:10)\n(cid:10)\n(cid:10)\n(cid:10)\n(cid:10)\n(cid:10)\n(cid:10)\n(cid:10)\n(cid:10)\n(cid:10)\n(cid:10)\n(cid:10)\n(cid:10)\n(cid:10)\n(cid:10)\n(cid:10)\n(cid:8)\n(cid:1)\n(cid:1)\n(cid:3)\n(cid:3)\n(cid:8)\n(cid:8)\n(cid:8)\n(cid:5)\n(cid:3)\n(cid:3)\n(cid:3)\n(cid:3)\n(cid:2)\n(cid:3)\n(cid:2)\n(cid:3)\n(cid:3)\n(cid:3)\n(cid:3)\n(cid:3) (cid:3)(cid:3)\n(cid:3)\n(cid:3)\n(cid:3) (cid:3)(cid:3)\n(cid:4)\n(cid:3)\n(cid:4)\n(cid:4)\n(cid:4)\n(cid:2)\n(cid:4)\n(cid:4)\n(cid:4)\n(cid:4)\n(cid:4)\n(cid:4)\n(cid:4)\n(cid:4)\n(cid:4)\n(cid:4)\n(cid:4)\n(cid:4)\n(cid:4)\n(cid:4)\n(cid:4)\n(cid:4)\n(cid:4)\n(cid:2)\n(cid:4)\n(cid:2)\n(cid:2)\n(cid:2)\n(cid:3)\n(cid:3)\n(cid:3)\n(cid:2)\n(cid:2)\n(cid:2)\n(cid:8)\n(cid:8)\n(cid:8)\n(cid:2)\n(cid:4)\n(cid:8)\n(cid:8)\n(cid:8)\n(cid:2)\n(cid:1)\n(cid:1)\n(cid:8)\n(cid:2)\n(cid:2)\n(cid:3)\n(cid:2)\n(cid:3)\n(cid:4)\n(cid:4)\n(cid:4)\n(cid:4)\n(cid:4)\n(cid:4)\n(cid:4)\n(cid:4)\n(cid:4)\n(cid:4)\n(cid:4)\n(cid:4)\n(cid:4)\n(cid:4)\n(cid:4)\n(cid:4)\n(cid:4)\n(cid:4)\n(cid:4)\n(cid:4)\n(cid:4)\n(cid:4)\n(cid:2)\n(cid:2)\n(cid:2)\n(cid:8)\n(cid:8)\n(cid:8)\n(cid:6)\n(cid:3)\n(cid:4)\n(cid:2)\n(cid:3)\n(cid:3)\n(cid:3)\n(cid:2)\n(cid:2)\n(cid:2)\n(cid:8)\n(cid:8)\n(cid:8)\n(cid:1)\n(cid:1)\n(cid:8)\n(cid:4)\n(cid:4)\n(cid:4)\n(cid:2)\n(cid:2)\n(cid:10)\n(cid:10)\n(cid:10)\n(cid:10)\n(cid:10)\n(cid:10)\n(cid:10)\n(cid:10)\n(cid:10)\n(cid:2)\n(cid:10)\n(cid:10)\n(cid:10)\n(cid:10)\n(cid:10)\n(cid:10)\n(cid:10)\n(cid:10)\n(cid:2)\n(cid:10)\n(cid:10)\n(cid:10)\n(cid:10)\n(cid:10)\n(cid:10)\n(cid:2)\n(cid:10)\n(cid:8)\n(cid:8)\n(cid:8)\n(cid:2)\n(cid:8)\n(cid:8)\n(cid:4)\n(cid:8)\n(cid:8)\n(cid:8)\n(cid:8)(cid:8)(cid:8)\n(cid:7)\n(cid:7)\n(cid:5)\n(cid:3)\n(cid:4)\n(cid:2)\n(cid:2)\n(cid:2)\n(cid:2)\n(cid:2)\n(cid:2)\n(cid:2)\n(cid:2)\n(cid:2)\n(cid:2)\n(cid:2)\n(cid:3)\n(cid:3)\n(cid:3)\n(cid:3)\n(cid:3)\n(cid:3)\n(cid:2)\n(cid:2)\n(cid:2)\n(cid:2)\n(cid:2)\n(cid:3)(cid:3)(cid:3)(cid:3)(cid:3)(cid:3)(cid:3)(cid:3)(cid:3)\n(cid:6)\n(cid:3)(cid:3)(cid:3)(cid:3)(cid:3)(cid:3)\n(cid:3)\n(cid:3)\n(cid:3)\n(cid:1)\n(cid:10)\n(cid:10)\n(cid:10)\n(cid:10)\n(cid:1)\n(cid:1)\n(cid:1)\n(cid:1)\n(cid:1)\n(cid:1)\n(cid:1)\n(cid:1)\n(cid:1)\n(cid:1)\n(cid:1)\n(cid:1)\n(cid:1)\n(cid:2)\n(cid:2)\n(cid:8)\n(cid:8)\n(cid:8)\n(cid:1)\n(cid:8)\n(cid:1)\n(cid:8)\n(cid:8)\n(cid:8)(cid:8)(cid:8)(cid:8)\n(cid:4)\n(cid:4)\n(cid:4)\n(cid:3)\n(cid:3)\n(cid:2)\n(cid:2)\n(cid:2)\n(cid:2)\n(cid:2)\n(cid:2)\n(cid:4)\n(cid:2)\n(cid:3)\n(cid:3)\n(cid:2)\n(cid:2)\n(cid:4)\n(cid:10)\n(cid:10)\n(cid:10)\n(cid:10)\n(cid:10)\n(cid:10)\n(cid:10)\n(cid:10)\n(cid:10)\n(cid:10)\n(cid:10)\n(cid:10)\n(cid:10)\n(cid:10)\n(cid:10)\n(cid:10)\n(cid:10)\n(cid:10)\n(cid:10)\n(cid:10)\n(cid:10)\n(cid:10)\n(cid:10)\n(cid:10)\n(cid:2)\n(cid:2)\n(cid:8)\n(cid:8)\n(cid:8)\n(cid:8)\n(cid:8)\n(cid:8)\n(cid:8)\n(cid:8)\n(cid:7)\n(cid:3)\n(cid:3)\n(cid:3)\n(cid:2)\n(cid:2)\n(cid:2)\n(cid:2)\n(cid:2)\n(cid:2)\n(cid:2)\n(cid:2)\n(cid:2)\n(cid:2)\n(cid:2)\n(cid:2)\n(cid:2)\n(cid:2)\n(cid:2)\n(cid:8)\n(cid:2)\n(cid:10)\n(cid:10)\n(cid:10)\n(cid:10)\n(cid:10)\n(cid:10)\n(cid:10)\n(cid:10)\n(cid:10)\n(cid:10)\n(cid:8)\n(cid:8)\n(cid:1)\n(cid:8)\n(cid:8)\n(cid:8)\n(cid:8)\n(cid:3)\n(cid:8)\n(cid:4)\n(cid:4)\n(cid:4)\n(cid:3)\n(cid:3)\n(cid:3)\n(cid:3)\n(cid:3)\n(cid:3)\n(cid:3)\n(cid:3)\n(cid:3)\n(cid:2)\n(cid:2)\n(cid:2)\n(cid:2)\n(cid:2)\n(cid:2)\n(cid:2)\n(cid:2)\n(cid:2)\n(cid:2)\n(cid:1)\n(cid:1)\n(cid:1)\n(cid:1)\n(cid:1)\n(cid:1)\n(cid:1)\n(cid:1)\n(cid:1)\n(cid:1)\n(cid:1)\n(cid:1)\n(cid:1)\n(cid:1)\n(cid:1)\n(cid:1)\n(cid:1)\n(cid:1)\n(cid:1)\n(cid:2)\n(cid:1)\n(cid:1)\n(cid:1)\n(cid:8)\n(cid:4)\n(cid:4)\n(cid:9)\n(cid:8)\n(cid:7)\n(cid:6)\n(cid:5)\n(cid:5)\n(cid:2)\n(cid:3)\n(cid:10)(cid:10)\n(cid:10)\n(cid:2)\n(cid:10)\n(cid:10)\n(cid:3)\n(cid:10)\n(cid:10)\n(cid:10)\n(cid:1)\n(cid:8)\n(cid:8)\n(cid:1)\n(cid:2)\n(cid:8)\n(cid:1)\n(cid:8)\n(cid:1)\n(cid:8)\n(cid:2)\n(cid:8)\n(cid:8)\n(cid:8)\n(cid:2)\n(cid:4)\n(cid:4)\n(cid:4)\n(cid:3)\n(cid:3)\n(cid:3)(cid:3)(cid:3)(cid:3)\n(cid:3)\n(cid:3)\n(cid:3)\n(cid:3)\n(cid:2)\n(cid:3)\n(cid:2)\n(cid:1)\n(cid:1)\n(cid:1)\n(cid:1)\n(cid:1)\n(cid:1)\n(cid:1)\n(cid:1)\n(cid:1)\n(cid:1)\n(cid:1)\n(cid:1)\n(cid:1)\n(cid:4)\n(cid:4)\n(cid:2)(cid:2)(cid:2)(cid:2)(cid:2)\n(cid:8)\n(cid:2)\n(cid:8)\n(cid:8)\n(cid:8)\n(cid:1)\n(cid:8)\n(cid:2)\n(cid:8)\n(cid:1)\n(cid:2)\n(cid:8)\n(cid:4)\n(cid:4)\n(cid:4)\n(cid:3)\n(cid:3)\n(cid:2)\n(cid:1)\n(cid:1)\n(cid:1)\n(cid:1)\n(cid:1)\n(cid:1)\n(cid:1)\n(cid:1)\n(cid:1)\n(cid:1)\n(cid:1)\n(cid:4)\n(cid:1)\n(cid:1)\n(cid:1)\n(cid:1)\n(cid:4)\n(cid:10)\n(cid:10)\n(cid:10)\n(cid:8)\n(cid:8)\n(cid:8)\n(cid:2)\n(cid:4)\n(cid:2)(cid:2)(cid:2)(cid:2)(cid:2)\n(cid:9)\n(cid:1)\n(cid:8)\n(cid:2)\n(cid:8)\n(cid:1)\n(cid:2)\n(cid:8)\n(cid:8)\n(cid:3)\n(cid:8)\n(cid:3)\n(cid:8)\n(cid:4)\n(cid:4)\n(cid:4)\n(cid:3)\n(cid:3)\n(cid:2)\n(cid:1)\n(cid:1)\n(cid:1)\n(cid:1)\n(cid:1)\n(cid:1)\n(cid:1)\n(cid:1)\n(cid:1)\n(cid:1)\n(cid:1)\n(cid:4)\n(cid:1)\n(cid:1)\n(cid:1)\n(cid:1)\n(cid:10)\n(cid:10)\n(cid:10)\n(cid:8)\n(cid:8)\n(cid:7)\n(cid:5)\n(cid:2)\n(cid:8)\n(cid:2)\n(cid:1)\n(cid:8)\n(cid:8)\n(cid:2)\n(cid:8)\n(cid:8)\n(cid:8)\n(cid:4)\n(cid:4)\n(cid:4)\n(cid:3)\n(cid:3)\n(cid:1)\n(cid:2)\n(cid:1)\n(cid:1)\n(cid:1)\n(cid:3)(cid:3)(cid:3)(cid:3)(cid:3)(cid:3)(cid:3)\n(cid:8)\n(cid:4)\n(cid:3)\n(cid:3)\n(cid:1)\n(cid:1)\n(cid:1)\n(cid:1)\n(cid:1)\n(cid:1)\n(cid:1)\n(cid:1)\n(cid:4)\n(cid:10)\n(cid:10)\n(cid:10)\n(cid:2)\n(cid:8)\n(cid:1)\n(cid:1)\n(cid:8)\n(cid:8)\n(cid:7)\n(cid:5)\n(cid:3)\n(cid:3)\n(cid:3)\n(cid:3)\n(cid:2)\n(cid:1)\n(cid:1)\n(cid:2)\n(cid:1)\n(cid:1)\n(cid:1)\n(cid:2)\n(cid:8)\n(cid:8)\n(cid:8)\n(cid:8)\n(cid:8)\n(cid:4)\n(cid:4)\n(cid:4)\n(cid:4)\n(cid:8)\n(cid:1)(cid:1)(cid:1)(cid:1)(cid:1)(cid:1)(cid:1)\n(cid:1)(cid:1)(cid:1)(cid:1)(cid:1)(cid:1)(cid:1)\n(cid:4)\n(cid:2)\n(cid:1)\n(cid:1)\n(cid:2)\n(cid:8)\n(cid:8)\n(cid:8)\n(cid:3)\n(cid:3)\n(cid:3)\n(cid:3)\n(cid:2)\n(cid:2)\n(cid:2)\n(cid:8)\n(cid:8)\n(cid:8)\n(cid:8)\n(cid:8)\n(cid:4)\n(cid:4)\n(cid:4)\n(cid:2)\n(cid:8)\n(cid:4)\n(cid:10)\n(cid:10)\n(cid:10)\n(cid:2)(cid:2)\n(cid:10)\n(cid:10)\n(cid:10)\n(cid:10)\n(cid:10)\n(cid:10)\n(cid:1)\n(cid:10)\n(cid:1)\n(cid:10)\n(cid:10)\n(cid:10)\n(cid:10)\n(cid:10)\n(cid:1)\n(cid:10)\n(cid:10)\n(cid:2)(cid:2)\n(cid:10)\n(cid:10)\n(cid:10)\n(cid:10)\n(cid:10)\n(cid:10)\n(cid:10)\n(cid:9)\n(cid:8)\n(cid:8)\n(cid:1)(cid:1) (cid:1)(cid:1)(cid:1)(cid:1)\n(cid:8)\n(cid:8)\n(cid:7)\n(cid:7)\n(cid:4)\n(cid:3)\n(cid:3)\n(cid:3)\n(cid:3)\n(cid:2)(cid:2)(cid:2)(cid:2)(cid:2)\n(cid:2)(cid:2)(cid:2)(cid:2)(cid:2)\n(cid:1)(cid:1)(cid:1) (cid:1)(cid:1)\n(cid:8)\n(cid:3)\n(cid:3)\n(cid:2)\n(cid:1)\n(cid:2)\n(cid:1)\n(cid:2)\n(cid:2)\n(cid:2)\n(cid:1)\n(cid:6)\n(cid:6)\n(cid:5)\n(cid:1)\n(cid:1)\n(cid:2)\n(cid:2)\n(cid:2)\n(cid:2)\n(cid:10)(cid:10)\n(cid:1)\n(cid:8)\n(cid:8)\n(cid:8)\n(cid:8)\n(cid:8)\n(cid:4)\n(cid:4)\n(cid:4)\n(cid:3)\n(cid:3)\n(cid:3)\n(cid:2)\n(cid:1)\n(cid:1)\n(cid:8)\n(cid:4)\n(cid:10)\n(cid:10)\n(cid:10)\n(cid:10)\n(cid:10)\n(cid:10)\n(cid:10)\n(cid:10)\n(cid:10)\n(cid:10)\n(cid:10)\n(cid:10)\n(cid:10)\n(cid:10)\n(cid:10)\n(cid:10)\n(cid:10)\n(cid:10)\n(cid:10)\n(cid:10)\n(cid:10)\n(cid:10)\n(cid:10)\n(cid:10)\n(cid:9)\n(cid:8)\n(cid:8)\n(cid:8)\n(cid:8)\n(cid:7)\n(cid:7)\n(cid:4)\n(cid:3)\n(cid:3)\n(cid:3)\n(cid:3)\n(cid:1)\n(cid:1)\n(cid:1)\n(cid:2)\n(cid:3)\n(cid:3)\n(cid:2)\n(cid:2)\n(cid:8)\n(cid:2)\n(cid:2)\n(cid:2)\n(cid:2)\n(cid:2)\n(cid:2)\n(cid:2)\n(cid:2)\n(cid:3) (cid:3)(cid:3)\n(cid:2)\n(cid:2)\n(cid:2)\n(cid:2)\n(cid:1)\n(cid:1)\n(cid:1)\n(cid:2)\n(cid:6)\n(cid:6)\n(cid:6)\n(cid:5)\n(cid:3)(cid:3)\n(cid:3)(cid:3)\n(cid:2)\n(cid:2)\n(cid:2)\n(cid:1)\n(cid:1)\n(cid:1)\n(cid:8)\n(cid:8)\n(cid:8)\n(cid:8)\n(cid:8)\n(cid:4)\n(cid:4)\n(cid:4)\n(cid:3)\n(cid:3)\n(cid:8)\n(cid:4)\n(cid:3)\n(cid:3)\n(cid:3)\n(cid:3)\n(cid:3)\n(cid:1)\n(cid:3)\n(cid:3)\n(cid:3)\n(cid:3)\n(cid:3)\n(cid:3)\n(cid:3)\n(cid:3)\n(cid:3)\n(cid:3)\n(cid:3)\n(cid:3)\n(cid:3)\n(cid:3)\n(cid:3)\n(cid:1)\n(cid:1)\n(cid:1)\n(cid:8)\n(cid:8)\n(cid:8)\n(cid:8)\n(cid:4)\n(cid:2)\n(cid:8)\n(cid:2)\n(cid:10)\n(cid:2)\n(cid:10)\n(cid:10)\n(cid:10)\n(cid:10)\n(cid:10)\n(cid:10)\n(cid:10)\n(cid:10)\n(cid:10)\n(cid:2)\n(cid:10)\n(cid:2)\n(cid:10)\n(cid:10)\n(cid:10)\n(cid:10)\n(cid:10)\n(cid:10)\n(cid:2)(cid:2)(cid:2)\n(cid:10)\n(cid:2)\n(cid:10)\n(cid:2)\n(cid:10)\n(cid:10)\n(cid:10)\n(cid:2)\n(cid:10)\n(cid:2)\n(cid:10)\n(cid:10)(cid:10)\n(cid:6)\n(cid:6)\n(cid:6)\n(cid:2)\n(cid:8)\n(cid:8)\n(cid:8)\n(cid:8)\n(cid:8)\n(cid:4)\n(cid:4)\n(cid:4)\n(cid:8)\n(cid:4)\n(cid:3)\n(cid:3)\n(cid:3)\n(cid:3)\n(cid:3)\n(cid:3)\n(cid:3)\n(cid:3)\n(cid:1)\n(cid:1)\n(cid:9)\n(cid:8)\n(cid:8)\n(cid:3)\n(cid:1)\n(cid:1)\n(cid:3)\n(cid:3)\n(cid:4)\n(cid:3)\n(cid:3)\n(cid:3)\n(cid:3)\n(cid:3)\n(cid:3)\n(cid:3)\n(cid:3)\n(cid:3)\n(cid:8)\n(cid:10)(cid:10)(cid:10)\n(cid:10)\n(cid:10)\n(cid:10)\n(cid:10)\n(cid:10)\n(cid:10)\n(cid:10)\n(cid:10)\n(cid:10)\n(cid:10)\n(cid:10)\n(cid:10)\n(cid:10)\n(cid:10)\n(cid:10)\n(cid:10)\n(cid:10)\n(cid:10)\n(cid:10)\n(cid:10)\n(cid:10)\n(cid:10)\n(cid:10)\n(cid:8)\n(cid:8)\n(cid:8)\n(cid:8)\n(cid:8)\n(cid:8)\n(cid:4)\n(cid:4)\n(cid:4)\n(cid:4)\n(cid:1)\n(cid:1)\n(cid:8)\n(cid:8)\n(cid:4)\n(cid:1)\n(cid:1)\nFigure 2: MCBS ADC Block Diagram.\nb\np\nq\nb\ng\nn\nd\nr\ne\ns\ne\nw\no\nr\nd\nv\nr\na\nm\np\nt\ni\nt\nx\ns\n0\nt\n \n \n \nS\nc\na\ne\nl\n:\n \n0\n3\n9\n7\n2\n4\n6\n|(cid:2)(cid:8)(cid:8)(cid:10)(cid:8)(cid:10)(cid:8)(cid:8)(cid:8)(cid:8)(cid:8)(cid:8)(cid:10)(cid:8)(cid:10)(cid:8) (cid:4) (cid:4)|(cid:2) (cid:2) (cid:2)(cid:8) (cid:8)(cid:1) (cid:2)(cid:2)(cid:1)(cid:10)(cid:2)(cid:1)(cid:10)(cid:2)(cid:3)(cid:2)(cid:3) (cid:1) (cid:1)(cid:2) (cid:2) (cid:2) (cid:2)(cid:1) (cid:8) (cid:8)(cid:10) (cid:10) (cid:10) (cid:10)(cid:2) (cid:2) (cid:2) (cid:2)(cid:1) (cid:1) (cid:1) (cid:1)(cid:1) (cid:1)(cid:8) (cid:8)(cid:10) (cid:10) (cid:10) (cid:10)(cid:2) (cid:1) (cid:1)(cid:8) (cid:8)(cid:2) (cid:3) (cid:3)(cid:5)(cid:7)(cid:1) (cid:1)(cid:8) (cid:8)(cid:2) (cid:3) (cid:3)(cid:5)(cid:7)(cid:1) (cid:1)(cid:8) (cid:8)(cid:2) (cid:2) (cid:2) (cid:2) (cid:2)(cid:3) (cid:3)|(cid:1) (cid:1)(cid:2) (cid:2) (cid:2) (cid:2) (cid:2)(cid:2) (cid:2) (cid:2)(cid:3) (cid:3) (cid:3)(cid:4) (cid:4) (cid:4) (cid:4)(cid:5)(cid:8) (cid:8) (cid:8)(cid:8) (cid:8) (cid:4)(cid:1)(cid:2) (cid:2)(cid:6) (cid:6)(cid:7)(cid:10) (cid:10)(cid:3) (cid:3) (cid:3) (cid:3)(cid:3) (cid:3) (cid:3) (cid:3)(cid:2) (cid:2) (cid:2)(cid:2) (cid:2) (cid:2) (cid:2) (cid:2) (cid:2) (cid:2) (cid:2)(cid:3) (cid:3) (cid:3)(cid:4) (cid:4) (cid:4) (cid:4) (cid:4) (cid:7)(cid:8) (cid:8) (cid:8)(cid:8) (cid:8)(cid:9)(cid:10) (cid:10) (cid:10) (cid:10) (cid:10) (cid:10) (cid:10) (cid:10) (cid:10) (cid:10) (cid:10) (cid:10) (cid:10)(cid:1)(cid:2) (cid:2) (cid:6)(cid:7)(cid:2) (cid:2) (cid:2)(cid:4)(cid:8) (cid:8)(cid:1) (cid:1) (cid:1) (cid:1) (cid:1) (cid:1)(cid:1) (cid:1) (cid:1) (cid:1) (cid:1) (cid:1) (cid:1)(cid:3) (cid:3) (cid:3)(cid:3) (cid:3)(cid:4) (cid:4) (cid:4) (cid:4) (cid:8) (cid:8) (cid:8)(cid:10) (cid:10) (cid:10) (cid:10) (cid:10) (cid:10) (cid:10) (cid:10) (cid:10) (cid:10) (cid:10) (cid:10) (cid:10)(cid:1) (cid:1) (cid:1)(cid:2) (cid:2)(cid:3) (cid:5)(cid:8) (cid:8) (cid:4)(cid:8) (cid:3) (cid:3)(cid:3) (cid:3) (cid:3) (cid:3) (cid:3) (cid:3)(cid:4) (cid:4) (cid:4) (cid:4)(cid:6)(cid:7) (cid:1) (cid:1) (cid:1) (cid:1)(cid:1) (cid:1) (cid:1)(cid:2) (cid:2) (cid:2) (cid:2)(cid:2)(cid:3) (cid:3)(cid:8) (cid:8)(cid:2) (cid:4) (cid:4) (cid:4) (cid:4) (cid:4) (cid:8)(cid:8) (cid:1) (cid:1) (cid:1) (cid:1)(cid:1) (cid:1)(cid:1) (cid:1) (cid:1) (cid:2) (cid:2) (cid:2)(cid:2)(cid:2) (cid:3) (cid:3)(cid:3)(cid:2) (cid:4) (cid:4) (cid:4) (cid:4) (cid:4) (cid:8)(cid:8) (cid:5)(cid:1) (cid:1)(cid:1) (cid:1) (cid:1) (cid:2) (cid:2) (cid:3) (cid:3)(cid:3) (cid:3) (cid:3) (cid:3)(cid:1) (cid:1) (cid:1) (cid:1)(cid:2) (cid:3)(cid:4) (cid:4) (cid:4) (cid:4) (cid:4) (cid:8)(cid:8) (cid:1) (cid:1) (cid:1) (cid:1) (cid:2)(cid:2) (cid:2) (cid:2) (cid:2) (cid:3) (cid:3)(cid:3) (cid:8) (cid:8)(cid:10) (cid:10) (cid:10) (cid:10) (cid:10) (cid:10)(cid:2) (cid:3)(cid:4) (cid:4) (cid:4) (cid:4) (cid:4) (cid:6)(cid:7)(cid:8)(cid:8) (cid:9)(cid:1) (cid:1) (cid:1) (cid:1)(cid:1) (cid:1) (cid:1) (cid:1) (cid:1) (cid:1) (cid:1) (cid:2) (cid:2) (cid:2) (cid:2) (cid:3) (cid:3) (cid:3) (cid:8) (cid:8)(cid:10) (cid:10) (cid:10) (cid:10) (cid:10) (cid:10)(cid:2) (cid:3)(cid:4) (cid:4) (cid:4) (cid:4) (cid:4) (cid:8)(cid:8) (cid:10)(cid:1) (cid:1) (cid:1) (cid:1) (cid:1) (cid:1) (cid:1) (cid:2)(cid:3)(cid:3) (cid:3) (cid:3) (cid:3) (cid:3) (cid:3) (cid:3) (cid:3) (cid:3)(cid:8) (cid:8) (cid:8)(cid:10) (cid:10) (cid:10) (cid:10) (cid:10) (cid:10) (cid:10) (cid:10) (cid:10)(cid:2)(cid:2) (cid:2) (cid:2) (cid:2) (cid:2) (cid:2) (cid:2) (cid:2) (cid:2) (cid:2) (cid:2) (cid:3)(cid:3) (cid:3) (cid:4) (cid:4) (cid:4) (cid:4) (cid:4) (cid:8) (cid:8)(cid:8) (cid:10) (cid:10)(cid:4) (cid:4) (cid:4) (cid:4) (cid:4) (cid:4) (cid:4) (cid:4) (cid:4) (cid:4) (cid:4) (cid:4)(cid:8) (cid:8) (cid:8)(cid:10) (cid:10) (cid:10) (cid:10) (cid:10) (cid:10) (cid:10) (cid:10) (cid:10)(cid:2) (cid:2)(cid:4) (cid:4) (cid:6)(cid:7)(cid:8) (cid:9)(cid:2) (cid:2)(cid:2) (cid:2) (cid:2)(cid:2) (cid:3)(cid:3) (cid:3)(cid:3) (cid:3) (cid:3) (cid:3) (cid:3) (cid:3)(cid:3) (cid:8) (cid:8)(cid:8) (cid:10) (cid:10)|\n|None|(cid:2) (cid:2)(cid:3) (cid:3)(cid:6)(cid:2)(cid:2) (cid:3)(cid:1)(cid:5)(cid:8)(cid:3)(cid:1)(cid:3)(cid:8)(cid:2)(cid:1)(cid:8)(cid:3)(cid:3)(cid:10)(cid:1)(cid:3)(cid:5) (cid:3)(cid:1)(cid:8)(cid:3)(cid:1)(cid:3)(cid:8)(cid:2)(cid:1) (cid:2)(cid:3) (cid:3)(cid:2)(cid:2) (cid:2)(cid:10)(cid:10) (cid:2)(cid:8)(cid:3)(cid:3) (cid:10)(cid:2) (cid:3)(cid:10) (cid:10)(cid:1) (cid:8)(cid:10)(cid:1)(cid:3)(cid:8) (cid:2)(cid:3) (cid:8)(cid:10) (cid:4) (cid:10) (cid:10)(cid:1) (cid:2)(cid:2)(cid:3) (cid:3)(cid:8)|None|\n|(cid:4)(cid:4)(cid:4)(cid:4) (cid:4)(cid:4)(cid:4)(cid:4) (cid:8)(cid:10)(cid:8)(cid:10)(cid:8)(cid:8)(cid:10)|(cid:2) (cid:4)(cid:2)(cid:4)(cid:2)(cid:4)(cid:2)(cid:4)(cid:2)(cid:2) (cid:6)(cid:1) (cid:10)(cid:10)(cid:2)(cid:2)(cid:10) (cid:1) (cid:2)(cid:2)(cid:3)(cid:3) (cid:3) (cid:3)(cid:3) (cid:3) (cid:3)(cid:3) (cid:3) (cid:3)(cid:5) (cid:8) (cid:8)(cid:10) (cid:10) (cid:10) (cid:10)(cid:3) (cid:3)(cid:1) (cid:1)(cid:5) (cid:8) (cid:8)(cid:10) (cid:10) (cid:10) (cid:10)(cid:2) (cid:2) (cid:2)(cid:8) (cid:8)(cid:1) (cid:1)(cid:2) (cid:2) (cid:2)(cid:3) (cid:3)(cid:1) (cid:1) (cid:8) (cid:8)(cid:5)(cid:7)(cid:10) (cid:10) (cid:10) (cid:10)|(cid:3) (cid:3)(cid:4) (cid:4) (cid:4) (cid:4) (cid:4) (cid:4) (cid:4) (cid:4) (cid:4)(cid:2) (cid:2)(cid:4) (cid:8)(cid:2)(cid:2)(cid:3)(cid:3)(cid:3) (cid:4) (cid:4) (cid:4) (cid:4)(cid:2) (cid:3)(cid:3) (cid:3) (cid:3) (cid:3) (cid:3) (cid:3) (cid:3) (cid:3)(cid:8)(cid:10) (cid:10) (cid:10) (cid:10) (cid:10) (cid:10) (cid:10) (cid:10) (cid:10)(cid:3) (cid:2) (cid:2)(cid:2) (cid:2)(cid:3) (cid:3)(cid:3) (cid:10) (cid:10)(cid:10) (cid:10) (cid:10) (cid:10)(cid:4) (cid:3)(cid:4) (cid:4) (cid:4) (cid:4) (cid:4) (cid:4) (cid:4) (cid:4) (cid:4)(cid:5) (cid:5) (cid:5) (cid:5)(cid:2) (cid:2)(cid:4) (cid:8)(cid:3) (cid:4) (cid:4) (cid:4)(cid:5)(cid:2) (cid:3) (cid:3) (cid:3) (cid:3)(cid:8)(cid:10) (cid:10) (cid:10) (cid:10) (cid:10) (cid:10) (cid:10) (cid:10) (cid:10)(cid:3) (cid:3)(cid:3) (cid:2)(cid:3) (cid:3)(cid:3)(cid:10) (cid:10) (cid:10) (cid:10)(cid:3) (cid:3)(cid:4) (cid:3)(cid:4) (cid:4) (cid:4) (cid:4) (cid:4) (cid:4) (cid:4) (cid:4) (cid:4)(cid:2) (cid:2) (cid:3)(cid:4) (cid:8)(cid:8) (cid:4) (cid:4) (cid:4)(cid:3)(cid:2) (cid:2)(cid:4) (cid:4) (cid:4) (cid:4) (cid:4) (cid:4) (cid:4) (cid:4) (cid:4) (cid:4)(cid:2) (cid:2)(cid:3)(cid:4) (cid:8)(cid:8)(cid:2) (cid:4) (cid:4) (cid:4)(cid:3)(cid:4) (cid:2) (cid:2) (cid:2) (cid:2) (cid:2) (cid:2) (cid:2) (cid:2) (cid:4)(cid:8)(cid:8) (cid:8) (cid:8)(cid:10) (cid:10) (cid:10) (cid:10) (cid:10) (cid:10) (cid:10) (cid:10) (cid:10)(cid:3) (cid:4) (cid:4)(cid:2) (cid:2) (cid:3) (cid:3)(cid:3) (cid:3)(cid:4)(cid:7)(cid:8) (cid:8)(cid:8) (cid:8)(cid:10)(cid:6)(cid:4) (cid:3) (cid:3) (cid:3) (cid:3) (cid:3) (cid:3) (cid:3)(cid:3)(cid:1) (cid:1) (cid:1) (cid:1) (cid:1) (cid:1) (cid:1)(cid:2) (cid:2)(cid:8) (cid:8)(cid:8) (cid:10)(cid:2) (cid:2) (cid:2) (cid:2) (cid:2) (cid:2) (cid:2) (cid:2) (cid:2) (cid:4)(cid:8) (cid:8) (cid:8)(cid:10) (cid:10) (cid:10) (cid:10) (cid:10) (cid:10) (cid:10) (cid:10) (cid:10)(cid:8)(cid:1) (cid:4) (cid:4) (cid:4) (cid:8) (cid:8)(cid:10)(cid:2) (cid:2) (cid:3) (cid:3)(cid:3) (cid:3)(cid:7)(cid:8) (cid:8)(cid:10)(cid:2) (cid:1) (cid:1) (cid:1) (cid:1) (cid:1) (cid:1)(cid:1)(cid:1) (cid:1) (cid:1)(cid:2) (cid:2)(cid:3) (cid:10)(cid:10)(cid:8) (cid:4)(cid:8)(cid:1)(cid:1) (cid:3) (cid:3)(cid:4) (cid:4) (cid:4)(cid:8) (cid:8)(cid:10)(cid:10) (cid:10) (cid:10) (cid:10)(cid:4)(cid:2) (cid:5)(cid:7)(cid:9)(cid:3) (cid:1) (cid:1) (cid:1)(cid:1) (cid:1) (cid:1)(cid:2) (cid:2)(cid:3)(cid:8) (cid:10)(cid:4)(cid:8)(cid:1) (cid:3)(cid:4) (cid:4) (cid:4) (cid:4) (cid:8) (cid:8)(cid:10) (cid:10) (cid:10) (cid:10)(cid:10) (cid:10)(cid:2)(cid:2) (cid:2) (cid:2) (cid:2)(cid:4) (cid:1) (cid:1) (cid:1)(cid:1) (cid:1) (cid:1)(cid:2) (cid:2)(cid:3)(cid:8) (cid:1) (cid:1) (cid:4)(cid:8)(cid:1) (cid:4) (cid:4) (cid:4)(cid:8) (cid:8)(cid:10) (cid:10) (cid:10)(cid:2) (cid:1) (cid:1) (cid:1)(cid:1) (cid:1) (cid:1)(cid:2) (cid:2)(cid:3)(cid:8) (cid:1) (cid:1) (cid:4)(cid:8)(cid:1) (cid:2) (cid:2) (cid:2)(cid:4) (cid:4) (cid:4) (cid:4)(cid:9)(cid:8) (cid:8)(cid:10) (cid:10) (cid:10)(cid:3) (cid:1) (cid:1) (cid:1) (cid:1) (cid:1) (cid:1)(cid:2) (cid:2)(cid:3)(cid:3) (cid:3)(cid:8) (cid:4)(cid:3)(cid:8)(cid:1) (cid:3) (cid:3) (cid:3) (cid:4) (cid:4) (cid:4) (cid:4)(cid:3) (cid:3)(cid:5)(cid:7)(cid:8) (cid:8)(cid:10) (cid:10) (cid:10)(cid:4) (cid:1) (cid:1)(cid:2) (cid:2)(cid:8) (cid:1) (cid:1) (cid:1) (cid:1) (cid:1) (cid:1) (cid:1) (cid:4)(cid:2) (cid:4) (cid:4) (cid:4)(cid:3) (cid:3)(cid:8)(cid:2)(cid:8) (cid:3)(cid:8) (cid:8)(cid:4) (cid:1) (cid:1) (cid:1) (cid:1) (cid:1) (cid:1)(cid:1)(cid:2) (cid:2)(cid:2) (cid:2) (cid:2) (cid:2) (cid:2)(cid:3) (cid:3) (cid:4)(cid:7)(cid:8) (cid:8)(cid:9)(cid:10) (cid:10) (cid:10) (cid:10) (cid:10) (cid:10) (cid:10) (cid:10) (cid:10)(cid:2) (cid:4) (cid:4) (cid:4)(cid:1) (cid:1)(cid:10) (cid:10) (cid:10) (cid:10)(cid:3) (cid:8)(cid:2) (cid:2)(cid:6) (cid:3)(cid:5)(cid:4) (cid:1) (cid:1) (cid:2)(cid:3) (cid:3)(cid:8) (cid:10) (cid:10) (cid:1)(cid:3) (cid:3) (cid:4)(cid:7)(cid:8) (cid:8)(cid:9)(cid:10) (cid:10) (cid:10) (cid:10) (cid:10) (cid:10) (cid:10) (cid:10) (cid:10) (cid:4) (cid:4) (cid:4)(cid:1) (cid:1)(cid:10) (cid:10) (cid:10) (cid:10)|\n|(cid:8)(cid:10)(cid:8)(cid:8)(cid:8)(cid:8)(cid:8)(cid:8)(cid:8)(cid:10)(cid:8)(cid:10)|(cid:3) (cid:3)(cid:1) (cid:3)(cid:3)(cid:10)(cid:3)(cid:3) (cid:2)(cid:2)(cid:2)(cid:2) (cid:2)(cid:10)(cid:2)(cid:2)(cid:3)(cid:6) (cid:1)(cid:2) (cid:2) (cid:2)(cid:8) (cid:8)(cid:10) (cid:10) (cid:10)(cid:1) (cid:1)(cid:2) (cid:2) (cid:2)(cid:2)(cid:3) (cid:3) (cid:3)(cid:8) (cid:8)(cid:5)|None|\n|None|(cid:2)(cid:2)(cid:2)(cid:2)(cid:2)(cid:2)(cid:2) (cid:2)(cid:3)(cid:3) (cid:1)(cid:2)(cid:3) (cid:3)(cid:3) (cid:3)(cid:8)(cid:8)(cid:3)(cid:8)(cid:5)(cid:7)(cid:3) (cid:1)(cid:3)(cid:3)(cid:8)(cid:8)(cid:3)(cid:8)(cid:3) (cid:3) (cid:8)(cid:1)(cid:8)(cid:1)(cid:2)(cid:8)(cid:10) (cid:8)(cid:1)(cid:8)(cid:1)(cid:2)(cid:8)(cid:10)(cid:1)(cid:2)(cid:1)(cid:8)(cid:10) (cid:2)(cid:10)(cid:2)(cid:1)(cid:10) (cid:2)(cid:10)(cid:2)(cid:1)(cid:10) (cid:10)(cid:1)(cid:2)(cid:1) (cid:1)(cid:8)(cid:10) (cid:10)|None|.\n \n \ns\n1\n \n \n(\n1\n0\n0\n9\n0\nX\nPixel Circuit Design\n)\n \n \n \n \n \nS\nz\ne\ni\n:\n \n1\n8\n \nx\n \n1\n9\nm\nc\nr\no\nn\ns\n \ni\n \n \n \nA schematic of four pixels sharing a one-detector circuit\nis shown in Figure 3. The circuit uses 18 transistors. The\ncomparator consists of a transconductance ampliﬁer fol-\nlowed by a Wilson current mirror and a cascode output\nload.\nIt is biased to operate in subthreshold to maxi-\nmize gain and minimize power. The latch operates as\na 2T DRAM cell where M1 is the write port pass tran-\nsistor and M2 is the read port buﬀer. Pixel nonunifor-\nmity is reduced by sharing the circuits that generate the\nglobal signals, which constitute the most complex ADC\ncircuits. The nonuniformity due to the one-detector cir-\ncuit arises from two sources: variation in analog switch-\ning feedthrough and comparator oﬀset. Comparator oﬀ-\nset is reduced by autozeroing, which is accomplished by\nstoring the oﬀset value on the photodiode capacitor by\nbrieﬂy turning on M4 after conversion is completed.\n \n \n \nv\nb\na\ns\n2\ni\nv\nb\na\ns\n1\ni\nb\ni\nt\n(cid:2)\n(cid:10)\n(cid:2)\n(cid:1)\n(cid:10)\n(cid:2)\n(cid:1)\n(cid:2)\n(cid:2)\n(cid:10)\n(cid:10)\n(cid:2)\n(cid:10)\n(cid:2)\n(cid:1)\n(cid:10)\n(cid:2)\n(cid:1)\n(cid:2)\n(cid:2)\n(cid:10)\n(cid:10)\n(cid:10)\n(cid:1)\n(cid:3)\n(cid:1)\n(cid:10)\n(cid:1)\n(cid:5)\n(cid:1)\n(cid:3)\n(cid:3)\n(cid:10)\n(cid:3)\n(cid:10)\ns\n2\ns\n3\nFigure 4: Layout of a 2×2 pixel block.\nThe layout of a 2×2 pixel block is shown in Fig-\nure 4. The layout is symmetrically organized to reduce\nﬁxed pattern noise among the four pixels and to en-\nsure uniform spatial sampling. This includes using iden-\ntical geometry photodiodes with equal spacings among\nthem, implementing capacitor M5 using four symmet-\nrically placed MOS transistors, and ensuring that the\nphotodiodes have very similar wire and transistor sur-\nroundings. The eﬀect of pixel circuit induced substrate\nnoise, e.g. impact ionization noise, on the n+ − psub pho-\ntodiodes is minimized by using PMOS transistors (in an\nA 320x240 Image Sensor\nA 320 × 240 image sensor with the MCBS ADC was de-\nsigned and fabricated in a 0.35µm CMOS process. The\nchip consists of a 160×120 array of 2×2 pixel blocks, each\nsharing the one-detector circuit described, a row decoder,\ncolumn sense ampliﬁers and multiplexers. The sensor ar-\nchitecture and image readout is very similar to a ROM,\nas described in [7]. The main characteristics of the chip\n3\nConclusion\nare listed in Table 2. Since each one-detector is multi-\nplexed among four pixels, the sensor outputs one quarter\nframe at a time. Each quarter frame is read out one bit\nplane at a time.\nWe have introduced the ﬁrst viable Nyquist rate pixel\nlevel ADC technique. The ADC requires very simple and\nrobust circuits, which can be implemented in a standard\nCMOS process. We demonstrated experimentally that\nthe ADC achieves a high enough level of performance for\nimage sensor applications. The ADC results in very low\nFPN and can be fully tested electrically. We believe that\nthis ADC technique goes a long ways towards realizing\nthe potential of pixel level ADC.\n0.35 µm, 4-layer metal,\n1-layer poly, nwell CMOS\n3027 µm × 2328 µm\n8.9 µm × 8.9 µm\n4.5 (18 per four pixels)\n25%\n224 pin PGA\n3.3 v\n|Technology Sensor Area Pixel Area Transistors per pixel Fill Factor Package Supply Voltage|0.35µm, 4-layer metal, 1-layer poly, nwell CMOS 3027µm × 2328µm 8.9µm × 8.9µm 4.5 (18 per four pixels) 25% 224 pin PGA 3.3v|Acknowledgments\nTable 2: 320×240 Area Image Sensor Characteristics\nWe would like to acknowledge the generous support of\nIntel Corp. and the Hewlett Packard Co. and the contri-\nbutions of M. Hao, X. Liu and M. Godfrey to the design\nand testing of the sensor.\nAn important advantage of the MCBS ADC is that it\nis electrically testable. To test the ADC the photodetec-\ntors are disconnected by turning oﬀ all select transistors.\nThe one-detector input (node v5 in Figure 3) is then set\nto the desired RAMP value by turning on M4, and the\nits output is read out. The ADC transfer function can\nbe determined by sweeping the input voltage range. Fig-\nure 5 shows the measured ADC transfer functions for 16\npixel blocks. The ADC measured integral and diﬀerential\nnonlinearites are 2.3 LSB and 1.2 LSB at 8 bits, respec-\ntively. The pixel gain and oﬀset FPN due to ADC are\n0.24% and 0.2% respectively.\n20\n40\n60\n80\n100\nADC Transfer Characteristic (10us)\n300\n120\n20\n40\n60\n80\n100\n120\n140\n160\n250\nFigure 6: A 160x120 image\n200\nReferences\n[1] U. Ringh, C. Jansson, and K. Liddiard. Readout concept\nemploying a novel on Chip 16 bit ADC for smart IR focal\nplane arrays. Proceedings of SPIE, Vol. 2745, 1996.\n[2] B. Pain and E. Fossum. Approaches and analysis for on-\nfocal-plane analog-to-digital conversion. Proceedings of\nSPIE, vol. 2226, 1994.\ne\nd\no\nC\n \n150\nt\nu\np\nt\nu\nO\n100\n50\n[3] B. Pain, S. Mendis, R. Schober, R. Nixon, and E. Fos-\nsum. Low-power low-noise analog circuits for on-focal-\nplane signal processing of infrared sensors. Proceedings\nof SPIE, Vol. 1946, 1993.\n0\n1\n1.5\n2\n2.5\nInput Voltage\nFigure 5: ADC transfer curve at 10 µs conversion time.\n[4] U. Ringh, C. Jansson, C. Svensson, and K. Liddiard.\nCMOS analog to digital conversion for uncooled bolome-\nter infrared detector arrays. Proceedings of SPIE, Vol.\n2474, 1995.\nA sample image caputured by the sensor is shown in\nFigure 6. We were not able to capture a higher quality\nimage as a result of the high MOS transistor leakage due\nto drain induced barrier lowering (DIBL), substrate noise\ndue to digital output buﬀer switching, and the very low\nquantum eﬃciency due to salicide.\n[5] W. Yang. A Wide-Dynamic-Range, Low-Power Photo-\nISSCC Digest of Technical Papers, San\nsensor Array.\nFransico, CA, February 1994.\n[6] B. Fowler, A. El Gamal, and D. X. D. Yang. A CMOS\nArea Image Sensor with Pixel-Level A/D Conversion.\nISSCC Digest of Technical Papers, San Fransico, CA,\nFebruary 1994.\n[7] D. Yang, B. Fowler, and A. El Gamal. A 128×128 Pixel\nCMOS Area Image Sensor with Multiplexed Pixel Level\nA/D Conversion . IEEE 1996 Custom Integrated Circuits\nConference, San Diego, CA, May 1996.\n4\n']",
A readout IC for an uncooled microbolometer infrared FPA with on-chip self-heating.pdf,"['Analog Integr Circ Sig Process (2013) 77:29–44\nDOI 10.1007/s10470-013-0116-9\nA readout IC for an uncooled microbolometer infrared FPA\nwith on-chip self-heating compensation in 0.35 lm CMOS\nDaniel Sva¨rd • Christer Jansson • Atila Alvandpour\nReceived: 15 February 2013 / Revised: 12 July 2013 / Accepted: 29 July 2013 / Published online: 17 August 2013\n(cid:2) Springer Science+Business Media New York 2013\n1 Introduction\nAbstract This paper describes a readout integrated cir-\ncuit architecture for an infrared focal plane array intended\nfor infrared network-attached video cameras in surveil-\nlance applications. The focal plane array consists of\n352 9 288 uncooled thin-ﬁlm microbolometer detectors\nwith a pitch of 25 lm, enabling ambient\ntemperature\noperation. The circuit features a low-noise readout path,\ndetector resistance mismatch correction and a non-linear\nramped current pulse scheme for the electrical biasing of\nthe detectors in order to relax the dynamic range require-\nment of ampliﬁers and the ADC in the readout channel,\nimposed by detector process variation and self-heating\nduring readout. The design is implemented in a 0.35-lm\nstandard CMOS process and two versions of a smaller\n32 9 32-pixel test chip have been fabricated and measured\nfor evaluation. The latest test chip achieves a dynamic\nrange of 97 dB and an input-referred RMS noise voltage of\n6.4 lV yielding an estimated NETD value of 26 mK with\nf/1 optics. At a frame rate of 60 FPS the chip dissipates\n170 mW of power from a 3.4 V supply.\nThermal\ninfrared imaging has received much research\nattention in recent time. It has several applications within\ndifferent industries, particularly in military, automotive,\nprocess and security/surveillance industries. While IR\nimaging has been available for a long time, it has been in\nthe form of large, bulky photon detector systems in the\nneed for active cooling of the infrared detectors in order to\noperate properly. This fact has made such imaging systems\nexpensive and of little use in many application areas. With\nthe advent of the thin-ﬁlm microbolometer detector [1–3],\nthe requirement of cooling the detectors to achieve high\nperformance was removed and this opened up the oppor-\ntunity to create less expensive and smaller systems oper-\ncooling while having good enough\nating without\nperformance for all but the most extreme applications [4].\nIn this paper a readout integrated circuit (ROIC) archi-\ntecture for a 352 9 288-pixel infrared focal plane array\n(IRFPA) using microbolometers with a pitch of 25 lm is\npresented. The design is aimed toward a network-attached\ninfrared video camera for use in visual surveillance appli-\ncations, where infrared imaging can help in conditions\nwhere normal imaging would be limited, such as in low\nlight, total darkness, fog or where an object is masked\nvisually but not thermally by another object. This appli-\ncation requires the system to function in ambient temper-\natures ranging from -10 to 70 (cid:3)C, which imposes very\nstrict requirements on the electrical biasing of the mic-\nrobolometer detectors.\nKeywords Readout integrated circuit (cid:2) Uncooled\nmicrobolometer (cid:2) Infrared imaging (cid:2) High-resolution\ndata conversion (cid:2) Self-heating compensation (cid:2) Bias\nheating compensation\nThe focus of the paper is on the biasing of the detectors\nto relax the required dynamic range of the ROIC due to\nprocess variation and self-heating; and on the low-noise\nreadout channel used to digitize the detector output signals.\nA well designed scheme for biasing of the microbolometer\nD. Sva¨rd (&) (cid:2) C. Jansson (cid:2) A. Alvandpour\nDepartment of Electrical Engineering, Linko¨ping University,\nLinko¨ping, Sweden\ne-mail: svard@isy.liu.se\n123\n30\nAnalog Integr Circ Sig Process (2013) 77:29–44\n2 Uncooled resistive microbolometers\ndetectors is important to remove unwanted signal compo-\nnents due to detector self-heating and process variation.\nSeveral such biasing circuits have been reported in litera-\nture [5–9], however they focus more on non-uniformity\ncorrection than on self-heating compensation.\nThe microbolometer\nis the core of uncooled IRFPA\nimaging systems. It is fabricated in micro electromechan-\nical system (MEMS) processes that can later be attached to\nstandard CMOS process wafers to complete an integrated\nsolution with both detectors and electronics on a single\nchip.\nOne common biasing circuit connects the microbolo-\nmeter in a bridge conﬁguration with a reference bolometer\nthat is fabricated to be blind to the incident infrared radi-\nation and thermally connected to the substrate. The signal\nis read out by keeping the voltage over the bolometers\nconstant and integrating the signal current with a capacitive\ntransimpedance ampliﬁer (CTIA) [5–7]. In most cases this\nreference detector is common for one whole column (or\nrow) of pixels and will suffer from mismatch with the other\ndetectors. This static mismatch is normally compensated by\nchanging the voltage levels over\nthe detectors when\nselecting a new row, however the current from the self-\nheating is not cancelled and will be directly integrated by\nthe CTIA and will increase the dynamic range requirement\non the succeeding readout circuitry. Alternatively, it will\nlimit\nthe useful range of bolometer bias level, which\ndecreases the performance.\nThe bolometer is made up of a thermistor material, such\nas amorphous silicon, silicon–germanium or vanadium\noxide [10], that changes resistance in relation to the inci-\ndent infrared radiation. This material is coated on the top\nside with an absorbing layer and on the bottom with a\nreﬂective layer to maximize the absorbed energy. The\nbolometer is electrically interfaced with the CMOS chip\nsurface by means of two metal legs that are contacted to\neach side of the bolometer, see Fig. 1. The metal legs\nsupport the bolometer detector above the chip surface and\nprovide thermal isolation from the chip as they are made\nrelatively long and thin to reduce thermal conduction. For\noptimal\nthe microbolometer must be\noperated in a vacuum, thus vacuum packaging is used in\nmost infrared imaging detectors.\nisolation,\nthermal\nOther works use a differential readout structure [8, 9],\nwhere the reference and normal detectors are biased sep-\narately with constant currents and are integrated and read\nout differentially with a CTIA to cancel the common sig-\nnal. Here too the reference detectors are common to a\nwhole column (or row) and will suffer from mismatch. This\nis usually compensated by changing the bias currents of the\ndetectors. This will cancel the average offset due to the\nmismatch during the pulse bias period, but the mismatch\ncauses the two self-heating responses to not cancel com-\npletely anymore. This will\nleave a dynamic mismatch\ncomponent that will put a higher dynamic range require-\nment on the readout circuitry. Because of the constant\ncurrent biasing, the self-heating will cause the voltages\nover the bolometers to decrease and reduce their respon-\nsivity. Moreover, the residual self-heating also leads to\nﬁxed pattern noise as the temperature drifts.\nAn important property of the microbolometer is its\nability to change resistance according to a change in its\ntemperature, given by the thermal coefﬁcient of resistance\n(TCR) of the detector material. Given that the incident\ninfrared radiation to a single detector only changes its\ntemperature with a few millikelvin for a change of one\nkelvin in the observed object [10], a high TCR is necessary\nto produce a detectable signal response when scene tem-\nperature differences are in the range of a few tens of mil-\nlikelvin. Current\ninfrared\nmicrobolometers of –2 to –4 %/K [11, 12].\nresearch shows TCRs of\nWhen designing an ROIC for uncooled microbolometers\nand targeting a performance that is limited by the thermal\nnoise of the bolometers, the dynamic range requirement of\nQuantum well SiGe\nbolometer membrane\n\nGold posts to\nread-out CMOS\nsubstrate\nThe ROIC in this paper uses a ramping current source to\nbias each bolometer such that it experiences a constant\nvoltage. This scheme enables compensation of both static\nand dynamic mismatch caused by process variations in\ndetector resistances and self-heating to reduce the dynamic\nrange required in the readout circuitry.\nThe paper is organized as follows:\nis\nin Sect. 2 the\nuncooled resistive microbolometer\nintroduced and\ndesign considerations with regard to dynamic range and\nnoise are described. Section 3 introduces the overall\narchitecture of the system with particular attention given to\nthe bolometer biasing scheme and to the readout channel.\nMeasurement results are presented in Sect. 4 and the paper\nis concluded in Sect. 5.\nFig. 1 Example of the structure of an infrared microbolometer\n123\nAnalog Integr Circ Sig Process (2013) 77:29–44\n31\nthe ROIC becomes a great challenge. The main limiting\nfactors of the dynamic range are the bolometer resistance\nspread created during manufacturing, the self-heating of\nthe bolometers that occurs during readout,\nthe actual\nwanted signal and the bolometer noise.\nrow is selected. If for a desired frame rate of 60 FPS with\n352 active rows, the row readout time is 47.3 ls. Allowing\n13 % (6.1 ls) of this time for settling and constraining the\ntime constant of the bolometer selection to this, gives an\nupper limitation on the resistance of *360 kX: Increasing\nthe resistance further will result in successively reduced\nperformance due to the slow settling that restricts signal\nbuild-up and results in lower signal-to-noise ratio. More-\nover, high resistance values are undesirable because of the\nincreased thermal noise of the microbolometer.\nMoreover, ﬂicker noise is an important parameter due to\nthe low signal frequencies as well as the eyes’ sensitivity to\npatterns generated by it. Since the ﬂicker noise is relatively\nhigh in a CMOS process, this is something that needs to be\naddressed in an ROIC.\nOn the other end of the spectrum, the lowest possible\nbolometer resistance is mainly determined by the self-\nheating. The biasing scheme in this paper is based on trying\nto keep the voltage over the bolometer at a constant level\nfor all effects except incident radiation, meaning that as the\nbolometer warms up and the resistance drops, more current\nis sourced into it in a feed-forward loop. The limit is then\nset by how low this bias voltage can be allowed to be. For\nthis design the bias voltage can be adjusted down to 1.2 V\nwhich still gives a reasonable response, but can be adjusted\nup to 2.14 V on the other end. From (1) this gives a lower\nbound on the average resistance of *14 kX; assuming a\nthermal capacity of 4:3 (cid:4) 10(cid:5)10 J=K (see Table 1).\n2.1 Bolometer static mismatch\nJust as with resistors in any process, the bolometer resis-\ntance will be subject to process variations. During initial\ndevelopment of the bolometers, a resistance spread of up to\n±10 % has been estimated possible. This number\nis\nexpected to drop as the process matures, but the ROIC must\nbe able to handle 20 % mismatch to be usable during\ndevelopment.\n2.2 Self-heating\nFor large changes in temperature the relation between\nThe resistance of a microbolometer can be measured by\nbiasing it with a current and measuring the voltage drop\nover it. The bias current in itself will cause it to warm up\nand, because of the high negative TCR of the bolometer, its\nresistance will drop. To achieve a sensitive imaging sensor,\na low bolometer resistance is desired for a low thermal\nnoise while a high bias voltage is desired for high\nresponsiveness. This causes a high bias power and hence\nlarge self-heating during readout.\nthe bolometer resistance and its temperature is [13]:\n(cid:2)\n(cid:3)\n(cid:5)TCR(cid:2)T 2\n0\n1\nTbol\n(cid:5) 1\nT0\nRbolðTbolÞ ¼ R0 (cid:2) e\nð2Þ\nwhere R0 is the bolometer resistance at the nominal tem-\nperature T0. The speciﬁcation says that the readout should\nwork at ambient temperatures up to 70 (cid:3)C. Including an\naverage 5 K self-heating increase and a mismatch of\n-10 %, a nominal resistance of 80 kX would according to\n(2) become *20 kX at a TCR of -3 %/K. This gives a\nmargin to the minimum resistance and allows operation\nwithin the speciﬁed ambient temperature range of -10 to\n70 (cid:3)C with a TCR as large as -3 %/K.\nThe change in temperature due to the self-heating\ndepends on the applied biasing energy and the thermal\ncapacity of the bolometer membrane and can be estimated\nfor small variations by the following linearized Eq. [13]:\nV 2\nbias (cid:2) tbias\nRbol (cid:2) Cth;bol\n2.4 Thermal noise ﬂoor\nDT (cid:3)\n;\nð1Þ\nThe smallest detectable signal will be determined by the\nsystem noise. Here, only the thermal noise of the bolometer\nitself is considered while its ﬂicker and thermal ﬂuctuation\nnoise is neglected. The total input-referred system electri-\ncal noise power can be modeled as the sum of the noise\npowers of the bolometer resistance, the biasing circuitry as\nwell as the input-referred noise power of the readout\nchannel and the reference generation:\nwhere Vbias is the applied bias voltage, tbias is the biasing\ntime, Rbol\nis the average bolometer resistance during\nbiasing and Cth,bol is the thermal capacity of the bolometer.\nA speciﬁcation of handling self-heating up to 10 K was\nset to enable good performance. Assuming a reasonable\nbolometer TCR of -2.6 %/K,\nthe resulting resistance\nchange is then as much as DR ¼ DT (cid:2) jTCRj ¼ 26 %.\n2.3 Bolometer nominal resistance\nn;tot ¼ v2\nv2\nn;bol þ v2\nn;bias þ v2\nn;roic:\nð3Þ\nThe highest bolometer resistance is set by the settling time\nconstant of the bolometer in parallel with the parasitic\ncapacitance from the column bus (*17 pF) when a new\nThe ﬁrst term in (3) is set when choosing the size of the\nbolometer resistance. As will be described in Sect. 3.1 the\nbolometer bias circuitry will add noise equal to half of the\n123\n32\nAnalog Integr Circ Sig Process (2013) 77:29–44\nnoise power of the bolometer resistance. The rest of the noise\nis due to the readout channel and reference generation.\nNormalized to the bolometer noise, this gives the following\nrelation of the total system electrical noise voltage:\nTable 1 Parameter values for NETD performance estimation\nParameter\nValue\nF\n1\nb\nAb\n/8–14 lm\n(cid:8)\n(cid:7)\nDP\nDT\nTCR\ne8(cid:5)14 lm\nVb\nG\n62 %\n6.25 9 10-10 m2\n98 %\n2:624 W=ðK m2Þ\n[15]\nﬃﬃﬃﬃﬃﬃﬃﬃﬃﬃﬃﬃﬃﬃﬃﬃﬃﬃﬃﬃﬃﬃﬃﬃﬃﬃﬃﬃﬃﬃﬃﬃﬃﬃﬃﬃﬃﬃﬃﬃ\n(cid:6)2\n(cid:5)\n1 þ 0:5 þ\n:\ns\nvn;tot\nvn;bol\nvn;roic\nvn;bol\nð4Þ\n¼\n[15]\n[14]\nThe relation in (4) shows that the contribution of the\nROIC noise to the total noise is non-linear and at some\npoint, further reduction of the total noise does not motivate\nthe cost of reducing the ROIC noise due to the increased\npower consumption. A total noise voltage of 1.6 times the\nnoise voltage of the bolometer was chosen to have low\nnoise but also reasonable power requirements, but no\nattempt was made to ﬁnd the absolute best power-noise\ntrade-off. With a total noise of 1.6 times the bolometer\nnoise, the ROIC noise contribution would according to (4)\nhave to be limited to 1.03 times the bolometer noise.\n8(cid:5)14 lm\n-2.6 %/K\n92 %\n[15]\n1.6 V\n3:7 (cid:4) 10(cid:5)8 W=K\n4:34 (cid:4) 10(cid:5)10 J=K\n[15]\nCth\n[15]\nfor the bolometer material, eDk is the absorption of the\nbolometer membrane in the wavelength interval Dk; Vb is\nthe detector biasing voltage, G is the total thermal con-\nduction between the bolometer and its surroundings, x is\nthe infrared modulation frequency and Cth is the thermal\ncapacity of the bolometer membrane.\nThe thermal noise voltage of the nominal bolometer\nresistance of 80 kX at the nominal temperature of 25 (cid:3)C\nand an integration time of tint = 41.2 ls can be calculated\nto be\nthe\nequivalent noise bandwidth, 1/(2tint), is derived from a\nrectangular pulse of length tint. The integration time is\ntaken as 87 % of row time and leaves the initial 13 % for\nrow switching and settling. The total system electrical\nnoise is then vn;tot ¼ 1:6 (cid:2) vn;bol ¼ 6:4 lV and the ROIC is\nallowed to add vn;roic ¼ 1:03 (cid:2) vn;bol ¼ 4:12 lV:\np\nvn;bol ¼ ﬃﬃﬃﬃﬃﬃﬃﬃﬃﬃﬃﬃﬃﬃﬃﬃﬃﬃﬃﬃﬃﬃﬃﬃﬃﬃﬃﬃﬃ\n4kTRbol=ð2tintÞ\n¼ 4:0 lV; where\nAs (5) and (6) show, the NETD is highly dependent on\nthe bolometer material and its processing as well as the\ninfrared optics. At the moment of writing, the values of\nthese parameters have yet to be ﬁnalized for the intended\nbolometer process. Instead, typical values of these param-\neters given in [15] have been used and are listed in Table 1\nfor reference. When estimating the NETD for the 6.4 lV of\ntotal system electrical noise derived in Sect. 2.4, it is\nimportant to also consider the RMS noise voltage resulting\nfrom the thermal ﬂuctuation noise of the bolometer, given\nby [14]\n2.5 Noise equivalent temperature difference\nAn important measure of the performance of an infrared\nimaging system is its noise equivalent temperature differ-\nence (NETD). It quantiﬁes the minimum detectable tem-\nperature change in the scene and can be calculated using\nthe following Eqs. [14, 15]:\n4 (cid:2) F2 (cid:2) vn;sys\n(cid:7)\nb (cid:2) Ab (cid:2) RV (cid:2) /Dk (cid:2) DP\nDT\nﬃﬃﬃﬃﬃﬃﬃﬃﬃﬃﬃﬃﬃ\nk (cid:2) T 2\nbol\nCth\ns\nvn;th ¼ TCRj\nj (cid:2) Vb (cid:2)\n;\nð7Þ\nwhere k is the Boltzmann constant and Tbol is the bolom-\neter temperature. At 25 (cid:3)C the noise voltage due to the\nthermal ﬂuctuation noise is 2.2 lV giving a total system\nnoise of 6.8 lV. At low frequencies the resulting NETD\ncan then be estimated to 26 mK at a bias level of 1.6 V and\nwith f/1 optics. State-of-the-art NETD ﬁgures for pixel\npitches of \\50 lm ranges from 30 to 100 mK [10, 6],\nshowing that this is indeed a competitive value.\nNETD ¼\nand\nð5Þ\n(cid:8)\nDk\nTCRj\np\nj (cid:2) eDk (cid:2) Vb\nﬃﬃﬃﬃﬃﬃﬃﬃﬃﬃﬃﬃﬃﬃﬃﬃﬃﬃﬃﬃﬃﬃﬃﬃﬃﬃﬃ\nG2 þ x2 (cid:2) C2\nth\nRV ¼\n;\nð6Þ\nwhere F is the f-number of the infrared optics, vn;sys is the\ntotal system noise voltage, b is the bolometer ﬁll factor, Ab\nis the nominal bolometer area (usually the square of the\npixel pitch), RV is the detector responsivity, /Dk is the\ntransmission of the infrared optics in the wavelength\ninterval Dk; ðDP=DTÞDk is the change in power per unit\narea with respect to the temperature change radiated by a\nblackbody in the wavelength interval Dk at a temperature\nof 300 K, TCR is the temperature coefﬁcient of resistance\n2.6 Dynamic range requirement\nThe dynamic range requirement of the ROIC is found by\nrelating the largest relative change of bolometer resistance\nthat will occur to the smallest relative resistance change\nthat needs to be detected. The relative resistance change of\n(cid:3)\n(cid:2)\nDRbol\nRbol\na bolometer detector\ndue to a change in scene\n123\nAnalog Integr Circ Sig Process (2013) 77:29–44\n33\ntemperature (DTscene) can be estimated by the following\nequation derived from (5) and (6):\n(cid:7)\n/Dk (cid:2) eDk (cid:2) DP\nDT\n4 (cid:2) F2\nFor this design, a column-parallel, row-by-row readout\nof the bolometers was chosen because it offers a good\ncompromise between large parallelism and silicon area.\nLarge parallelism is desirable because it allows longer\nreadout times and thus reduces the noise bandwidth, which\nin turn allows use of bolometers with higher resistance.\nHigher resistance bolometers proves advantageous since\nthe effects of noisy parasitic contact resistances in the\nbolometers are reduced, which relaxes the requirements on\ntransconductance and bandwidth in the readout electronics.\nHowever, large parallelism—such as pixel-parallel read-\nout—means that\nthe readout circuit occupies a much\ngreater area and may be difﬁcult to ﬁt in connection with\nthe bolometer array. Exceptions to this exist [16], but\nperformance may be limited by the amount of area avail-\nable per readout channel—particularly when the pixel pitch\nis shrinking toward sub-20-lm as state-of-the-art suggests\n[6]. The column-parallel approach balances these trade-offs\nin a very regular and practical structure.\n(cid:8)\nb (cid:2) Ab\nG\nDRbol\nRbol\nDk\n(cid:2) DTscene:\n¼ TCR (cid:2)\nð8Þ\n(cid:2)\nFor a desired relative temperature dynamic range in the\nscene of 100 K, the maximum relative resistance change\ndue to the signal can be estimated from (8) with parameter\nvalues from Table 1 to *1.6 %. This change in resistance\nis an order of magnitude lower than that of self-heating and\nthe initially stated bolometer static mismatch. Together\nthese all add up to a relative resistance change of 47.6 %.\nSimilarly, a system noise level corresponding to an\nNETD of 26 mK can be estimated to produce a relative\nresistance change of *4.2 ppm. Relating this value to the\n47.6 % of the signal, self-heating and mismatch yields a\ndynamic range of *113,000 or 101 dB. While an ideal,\nnoise-less 17-bit ADC would give the desired dynamic\nrange, in reality additional resolution would be required to\nsuppress the quantization noise enough to allow most of the\nnoise to come from the ampliﬁers and bias sources. Such\nhigh dynamic range—of 18 bits or more—is very difﬁcult\nto realize in ADCs with high enough throughput while\nmaintaining the capability of time multiplexing the signal\nsources required for column-parallel readout.\nThe IRFPA consists of 352 9 288 normal bolometers\nand four columns, two on either side of the array, and two\nrows, one at the top and one at the bottom, of blind bolo-\nmeters. These blind bolometers are thermally isolated from\nthe substrate, just as the normal bolometers are, however\nthey are coated with a reﬂective layer shielding them from\nthe incident infrared radiation. Their resistances can be\nread out to serve as a reference for the calibration and\ncorrection system since they experience the same response\nas the normal bolometers with respect to ambient temper-\nature changes and self-heating, however they remain lar-\ngely unaffected by the radiation from the scene.\n2.7 Flicker noise\nDue to the slowly changing infrared signals and the eyes’\nlow-frequency ﬂicker noise\nsensitivity to spatial noise,\nmust be considered and minimized when designing the\nROIC, both in the biasing of the bolometers and in the\nanalog readout channel itself. A too large ﬂicker noise in\nthe ROIC will show up in the image as vertical or hori-\nzontal lines, depending on from where it originates, and\nwill degrade the visual quality of the image. Simulations\nhave shown that a ﬂicker noise corner frequency of\n*40 Hz is needed to make the visual artifacts from ﬂicker\nnoise insigniﬁcant compared to the thermal noise.\nA conceptual schematic of the bolometer readout is\nshown in Fig. 3. During readout, the bolometer rows are\nswitched in one after another to a column-wise current bias\nbus. All columns are then read out by parallel readout\nchannels consisting of preampliﬁers and A/D converters.\nThe readout is done through a second bus, separate from\nthe bias bus. The biasing and the readout are separated into\ntwo different buses to minimize the ﬂicker noise contri-\nbution of the switch transistors. The ﬂicker noise of a MOS\ntransistor is proportional to the amount of current ﬂow\nthrough it. The switch transistors for the bias bus carry a\nlarge current, however because they are in series with the\nlarge impedance of the current source, their ﬂicker noise\nhas a very small effect on the bias current. The switch\ntransistors for the readout bus, on the other hand, carry only\nthe small\nload current from the readout channel. This\ncurrent is much smaller than the bias current and hence the\nﬂicker noise from these switches is much smaller than it\nwould be if the bias and readout would have been on the\nsame bus.\n3 System architecture\nFigure 2 shows the overall architecture of the system. It\nconsists of an FPA of infrared bolometers; circuitry for\ncolumn-wise biasing of the bolometers; a programmable\nramped current pulse bias generation circuit; row selection\nlogic; column readout channels including ampliﬁcation and\ndigitization; reference voltage and bias current generation\ncircuitry; programmable control logic; and a serial LVDS\ninterface for programming of the chip as well as for output\nof the read out signals.\nThe time for readout of a row is determined by the frame\nrate and the number of rows. For an array of 352 rows with\n123\n34\nAnalog Integr Circ Sig Process (2013) 77:29–44\nFig. 2 General system\narchitecture of the ROIC\n|Fig.2 Generalsystem architectureoftheROIC Correction Data Clock External Reference|Shift Registers Bias Pulse Mismatch Correction Registers Generation Input LVDS Interface Adjustable Bias Current Sources DACs Row of CMOS Test Resistors Reference DAC Blind Detector Row gnimiT snmuloC snmuloC cigoL V-to-I dna Microbolometer noitceleS rotceteD rotceteD Detector Array lortnoC 352 Rows x 288 Columns woR dnilB dnilB dna ecnerefeR latigiD noitarenreG tnerruC Blind Detector Row 2 2 BFMC 292 Preamplifiers saiB ADC 292 Integrating ADCs Reference Parallel-to-Serial Shift Registers Output LVDS Interface|External BG Voltage Image Data|Image Data\nCompensation\nData\n16\nRow of CMOS\nTest Resistors\nResistive\nWeighting\nC\nA\nD\nC\nA\nD\nC\nA\nD\nc\ni\ng\no\nL\np\nm\na\nR\ns\na\ni\nB\nd\nn\na\ns\nt\nn\na\nt\ns\nn\no\nC\ng\nn\ni\nt\na\ne\nH\n \ng\nn\ni\ns\ns\ne\nr\nd\nd\nA\nw\no\nR\n \n \n \n \n \ns\nr\ne\nt\ns\ni\ng\ne\nR\n-\nf\nl\ne\nS\nBlind\nBolometers\nPreamplification\nIntegration & A/D Conversion\nImage Data\nFig. 3 Simpliﬁed bolometer readout and biasing scheme. Each column has a programmable current source whose value is controlled by a digital\nramping circuit followed by DACs and interpolation\n123\nAnalog Integr Circ Sig Process (2013) 77:29–44\n35\na frame rate of 60 FPS, this leaves 47.3 ls for readout. Due\nto the multiplexing of different rows on the same bus, this\ntime also needs to include an initial delay before the start of\nintegration to ensure that any switching transients have\ndied out and a proper signal level is achieved. The length\nof this initial delay can be programmed.\n90\n|||||||\n|||||−|10 %|\n||||||−5 %|\n||||||0 %|\n||||||5 %|\n||||||10 %|\n|||||||\n|||||||85\n80\n)\nA\nμ\n(\n75\n \nt\nn\ne\nr\nr\nu\nC\n70\n3.1 Bolometer biasing\n65\n60\nAs described in Sect. 2.2, the self-heating of the bolometer\ndetector causes its resistance to drop because of its negative\nTCR. This drop may be an order of magnitude larger than\nthe detector resistance change due to the incident radiation\nand therefore puts a stricter requirement on the dynamic\nrange of the succeeding analog readout circuitry. In order\nto relax this requirement,\nthe voltage drop across the\ndetectors caused by the self-heating must be minimized\nduring the readout period. This is accomplished by using\nramped current pulse biasing of the bolometers [13]. As\nshown in Fig. 4, the bias current is successively increased\nas the bolometer resistance decreases from the self-heating\nduring the readout. When the readout period is ﬁnished, the\nbias current source will be switched to the next detector\nand the recently read out detector is left to cool off for the\nremainder of the frame cycle.\n55\n50\n0\n10\n20\n30\n40\n50\nBias Time (μs)\nFig. 5 Simulation of the bias current required to keep the voltage\nover the bolometer constant during readout, for mismatch levels of\n-10, -5, 0, 5 and 10 %. This shows a non-linear\nrelationship\nbetween self-heating and resistance mismatch\nanalog voltages; and interpolating between them to gen-\nerate 16 different bias voltages as shown in Fig. 6. Any of\nthese 16 voltages can then be selected to drive the current\nsource that bias each column by means of a 4-bit correction\nword that is individually speciﬁed for each bolometer in the\narray.\nSystem-level simulations have shown that by using this\nbias method, the effects from static mismatch and self-\nheating are reduced by a factor of 16 and 96, respectively.\nThe dynamic range requirement derived in Sect. 2.6 is thus\nreduced to *7,500 or 77 dB, i.e. 13 bits, for the suc-\nceeding ampliﬁers and ADC. An ADC resolution of 16 bits\nwould then give enough margin to make the quantization\nnoise an insigniﬁcant noise contributor; and is also feasible\nto implement in a column-parallel readout circuit.\nThe results of a high-level simulation of the biasing cur-\nrent required for a constant voltage over the bolometer dur-\ning the readout period, for mismatch levels of -10, -5, 0, 5\nand 10 %, is shown in Fig. 5. The simulation was performed\nfor a bolometer with a nominal resistance of 80 kX and a\nTCR of -2.6 %/K at an ambient temperature of 70 (cid:3)C,\nwith the bolometer parameters listed in Table 1. The ﬁgure\nclearly shows that the current required for constant voltage\nbias is not linear with respect to the mismatch.\nAlthough the relative effect of the static mismatch and\nself-heating is on the same order (20 and 26 %, respec-\ntively) the reduction through this compensation scheme is\nsigniﬁcantly different (6 times). The reason for this dif-\nferentiation is that while the mismatch is constant over\nROIC temperature changes, the self-heating is not. By\nhaving a strong suppression of the self-heating, a more\nstable response over large changes in ambient temperature\nis ensured, which reduces the rate at which the shutter must\nbe operated with to suppress ﬁxed pattern noise. Moreover,\nas the detector process matures, the mismatch is expected\nto decrease causing less impact on the dynamic range.\nAlso, should the process improve to produce bolometers\nwith higher TCR, then the self-heating would have an even\nmore pronounced effect as seen in Sect. 2.2. Increasing the\ncorrection of the mismatch also costs more than the self-\nheating in terms of circuit complexity and size, particularly\nin the bias current source and its control voltage genera-\ntion, that grow exponentially with the added correction\nresolution.\nThe exact shape of the current pulse needs to be tunable\nin order to ﬁt the response of the bolometer detectors.\nBecause of static mismatch in resistance of the bolometers,\nthis means that the pulse has to be individually tailored for\neach detector. This is accomplished by digitally synthe-\nsizing three different ramp shapes; converting them into\nt\nn\ne\nr\nr\nu\nC\ns\na\ni\nB\ntbias\n \nTime\ntframe\n.\np\nm\ne\nT\nr\no\nt\nc\ne\nt\ne\nD\n \nTime\nFig. 4 Detector biasing waveform (top) and detector temperature\nresponse to the biasing (bottom). Figures not to scale\n123\n36\nAnalog Integr Circ Sig Process (2013) 77:29–44\n|Sensor Column 2R|None|Correction Selection bol 16:1 MUX|None|\n|||None|None|\n|R bol R bol|None||None|\n|None|None|None||Buffers\n||None|None||None|None|None|None|\n|None||None|||None||None|\n|None|None|||||||VC(t)\nVB(t)\nVA(t)\nR-2R R-2R\nDAC\nDAC\nR-2R\nDAC\n10\n10\n10\n2\n2\n2\nt\n2\n3\nc\n+\nt\n1\n3\nc\n+\n0\n3\nc\nt\n2\n2\nc\n+\nt\n1\n2\nc\n+\n0\n2\nc\nt\n2\n1\nc\n+\nt\n1\n1\nc\n+\n0\n1\nc\n \n \n \n \n \n \nResistive Weighting\ninto 16 Biases\n \n \n \n \n \n \nFig. 6 Bolometer bias current source control. Three ramps are D/A converted and weighted together to form 16 different bias voltages that can\nbe selected individually for each bolometer in the array to drive its bias current source\n3.1.1 Circuit implementation\nRs=2Rbol\nRbol\nRbol\nThe bias current source is implemented by a source-\ndegenerated PMOS current source as shown in Fig. 7. The\nnoise performance of this current source is very important\nsince any noise from it will show up at the input of the\nreadout circuit. It is readily shown that the power spectral\ndensity of the thermal noise voltage over the bolometer in\nFig. 7 is\nVbias\nRbol\nRbol\nRbol\nRbol\nVbol\nRbol\nRbol\nRbol\n""\n!\n#\n \nv2\nn;bias\n4kTRs\nRbol\nRs\nv2\nn;bol ¼ 4kTRbol 1 þ\n;\n1 þ\nð9Þ\nFig. 7 Source degenerated PMOS current source. The degeneration\nresistance is made up of eight blind microbolometer detectors for\nambient temperature response matching\nwhere Rbol is the bolometer resistance, Rs is the source\ndegeneration resistance and v2\nn;bias is the noise voltage at the\ngate of the transistor; assuming gm Rs (cid:6) 1 and that Rs is\nlower than the transistor output impedance. From (9) it is\nclear that the source degeneration resistance should be\nlarger than the detector resistance in order for the current\nsource not to dominate the noise. In this design, the source\nresistance was set to twice the size of the detector resis-\ntance to reduce the noise contribution while keeping the\nvoltage drop over the source resistance manageable. The\nresistance itself is made up of eight blind bolometers\nconnected serially and in parallel (left side of Fig. 7) to\nreduce its ﬂicker noise contribution and increase absolute\nmatching by increasing the resistor area.\ntemperature. A thermally isolated blind bolometer would\nsuffer from severe self-heating in this position due to its\nconstant biasing and thus cannot be used for this purpose.\nBy using the thermally connected type of blind bolometer\nin the current source, the matching between the current\nsource and detector is maintained over changes in ambient\ntemperature, thus eliminating the need to switch in or out\nresistances for calibration, as would be the case if using\nnormal resistors.\nThe high resistance of the source degeneration resistor\ncauses a large voltage drop over it and thus reduces head-\nroom for the transistor. To be able to have an acceptable\nvoltage over the detector (1-2 V) for good responsivity, the\ncurrent source needs to be connected to a higher supply\nvoltage than the rest of the circuit. This voltage is generated\nby a DAC and can be changed from 5.8 to 9 V in steps of\n100 mV. Currently, the DAC is located off-chip, but it is\nplanned to be included on-chip in a future version of the\nThese blind bolometers are different from the ones\nattached to the detector array described previously, in that,\nin addition to the reﬂective coating, they are also thermally\nconnected to the substrate. This thermal connection greatly\nreduces their self-heating response to the bias current\nand thus they only change resistance with the ambient\n123\nAnalog Integr Circ Sig Process (2013) 77:29–44\n37\nchip. Despite the use of this higher supply voltage, a standard\n0.35 lm process was used. Only passive devices are con-\nnected to this high voltage, and the voltages over the active\ndevices are well within the limits of the standard 3.3 V\ndevices. However, mid-oxide 5 V devices were used in the\nESD protection of the high-voltage supply pads.\nto be used to adapt the response of the detectors to the current\noperating conditions on-the-ﬂy, using the columns of blind\nbolometers on either side of the array as references.\n3.2 Analog readout channel\nThe generation of the gate voltage of the current source\nmust also be designed for low noise. The straightforward\nsolution to generate this voltage would be through a PMOS\ncurrent mirror that is driven by an NMOS current DAC, as\nthis would give a simple current-to-current correspon-\ndence. However, to meet the low-noise requirement, the\nDAC would have to occupy a prohibitively large area due\nto the poor ﬂicker noise performance of the transistors.\nInstead,\nthe solution with R-2R DACs and resistive\nweighting in Fig. 6 was used in this design.\nDigitization of the detector signals in each column can be\ndone either serially or in parallel. In the serial approach,\nonly one ADC is needed to convert all channels. This has\nthe beneﬁt that the conversion exhibits the same response\nfor all channels. Moreover, this also makes it feasible to\nuse digital non-linearity correction techniques for the ADC\nand it saves area for large arrays. However, the required\nthroughput is proportional to the number of pixels in the\ndesign and is signiﬁcantly increased compared to a parallel\nscheme, which together with the strict dynamic range\nrequirement make the slower, inherently linear class of\nconverters unsuitable. The higher speed also increases the\nrequirements on the analog multiplexing of the channels\nand makes it difﬁcult to scale the design to larger arrays. In\ncontrast,\nthe parallel approach—used in this design—\nreduces the required throughput to be proportional to the\nnumber of rows. This makes it possible to use inherently\nlinear converters and have signal integration inside the\nADC. Furthermore, the analog multiplexing of channels is\nremoved and this scheme scales better to higher resolution\nimage formats. However, the larger number of converters\nmakes it very difﬁcult to implement individual digital non-\nlinearity correction for them and the converter response\nwill differ between channels.\nBecause of the non-linear nature of the self-heating, all\nthree digitally generated pulses have the possibility to\ninclude a constant, a linear and a square term on the form\nViðtÞ ¼ ci0 þ ci1 (cid:2) t þ ci2 (cid:2) t2;\nð10Þ\nwhere i is the number of the DAC and coefﬁcients cij can\nbe programmed independently for each DAC. The logic for\ngenerating the digital input codes for each of the DACs are\nshown in Fig. 8 and it also shows the word lengths of the\nDC, linear and square coefﬁcients in (10).\nWhile the self-heating equation has higher order non-\nlinear components, a second-order polynomial approxi-\nmation was chosen as a compromise between implemen-\ntation complexity and compensation accuracy. The three\npulse voltages, VA(t) - VC(t) in Fig. 6, are then buffered\nand weighted into the 16 combinations that are used for the\nbolometer resistance mismatch correction, V1 - V16. The\nweighting is such that it allows for correction of non-linear\nrelationship between the mismatch and the self-heating.\nThe weights are given by the following relation:\nDue to the time-multiplexed nature of the readout\nscheme, normal delta-sigma modulators can not be used\nbecause of\nlack of one-to-one correspondence\nbetween input and output samples. Integrating converters\ncan realize high resolution while being inherently linear\nand compact, however they require 2N clock cycles for the\nconversion and at this resolution, array size and frame rate,\nthe sample rate would have to be prohibitively high: over\n1 GHz. Similarly, an incremental delta-sigma ADC of the\nﬁrst order also needs 2N clock cycles. Higher order con-\nverters relax this requirement, however they require several\nOTAs and more complex decimation ﬁlters that occupy\nmore area, which makes them difﬁcult to ﬁt in a massively\nparallel readout architecture with a small pitch. Moreover,\nhigher order modulators are less effective at integrating the\nnoise due to uneven weighting of the input samples over\nthe readout period.\ntheir\n(cid:5)\n(cid:6)\nk (cid:5) 1\n15\nVkðtÞ ¼ 1 (cid:5)\n(cid:2) VAðtÞ\n!\n \nðk (cid:5) 1Þ2\n225\nk (cid:5) 1\n15\n(cid:2) VBðtÞ\n(cid:5)\nþ\n!\n \nðk (cid:5) 1Þ2\n225\n(cid:2) VCðtÞ\nk ¼ 1. . .16;\nfor\nð11Þ\nþ\nwhere VA(t) is the best bias voltage for bolometers with the\nhighest resistance due to mismatch; VC(t) is the best bias\nvoltage for bolometers with the lowest resistance due to\nmismatch; and VB(t) is an additional voltage without the\nsquare mismatch term to make it possible to realize a non-\nlinear response for Vk(t) with respect to k.\nBy using an extended counting ADC with a ﬁrst order\nmodulator, the decimation ﬁlter can be a simple counter\nand the counting conversion phase needs 2N-M clock cycles,\nwhere M is the number of bits in the extended conversion\nphase. In this design, the 16-bit resolution is split equally\nThe coefﬁcients and correction codes are programmed\nfrom outside the chip, allowing for digital signal processing\n123\n38\nAnalog Integr Circ Sig Process (2013) 77:29–44\nFig. 8 Digital logic circuitry\nfor generating the input code for\neach of the DACs that are used\nto the bias current ramps. The\narithmetic is unsigned and the\ndigital word lengths are\nspeciﬁed for each part of the\ngeneration\nr\ne\nt\ns\ng\ne\nR\nr\ne\nt\ns\ng\ne\nR\nr\ne\nt\ns\ng\ne\nR\n8\n16\n16\n23\n18\n523\nP\nZ\nP\nZ\nci2\n(t2 coeff.)\n8-bits\n>\n>\ni\ni\ni\n19\n18\n2\nZP\nLSB\n>>2\n17\nZP\n18\nr\ne\nt\ns\ng\ne\nR\nr\ne\nt\ns\ng\ne\nR\n10\n18\n18\nP\nZ\nci1\n(t1 coeff.)\n10-bits\ni\ni\n19\n>>1\n18\n<<2\n20\nr\ne\nt\ns\ng\ne\nR\n20\nci0\n(DC coeff.)\n20-bits\ni\n21\n>>1\nZP = Zero Padding\n>>N = N-bit Truncation\n<<N = N-bit Left Shift\n20\nRegister\nLSB\nMSB\n10\n10\n10-bit DAC Code\nbetween the two phases; eight bits in the counting phase,\nand nine bits with one bit redundancy in the extended\nphase. The total number of required clock cycles, including\none for resetting the modulator, is thus 266. The ADC is\nsimilar to that in [17], with an in-loop successive approx-\nimation converter for the extended phase, but modiﬁed for\ndifferential operation and with a different switching\nscheme giving improved performance. The reference\nvoltages to the single-bit DACs in the feedback path are\ngenerated by a charge redistribution DAC that is common\nfor all channels, thereby reducing the area required for each\nchannel.\npower, is noiseless in itself and is insensitive to the input\ncommon-mode level. Moreover, because the extended\ncounting ADC provides signal integration over the readout\ntime, this should not be done by the interfacing ampliﬁer,\nas is done in the CTIA. The capacitive ampliﬁer has a high-\nCi\nRbol\n∝ tint\nGain\nThe CTIA shown in Fig. 9(a) is a commonly used circuit\nfor interfacing the bolometer to the ADC in integrated\ncircuits [6, 5, 8]. Since the bolometer is connected directly\nto the input of the OTA, the voltage over the detector is\neasily controlled. However, the circuit performs a contin-\nuous-time integration of the detector current and, as seen in\nFig. 9(a), the gain of the circuit will thus be proportional to\n1/RbolCi. This gain is difﬁcult to control and will vary with\nthe ambient temperature due to the temperature depen-\ndency of the bolometer resistance, Rbol—an undesirable\neffect that would need compensation.\nRbolCi\nVb\n(a) The CTIA, a commonly used interface\nfor bolometer readout.\nC\nnC\n∝\nRbol\nGain\nn\nVb\n(b) Capacitive ampliﬁer used in this design.\nInstead, the capacitive ampliﬁer in Fig. 9(b) is a better\nchoice, since its gain is well deﬁned by a capacitor ratio—\nas is common in CMOS integrated circuits. A capacitive\ngain setting network also does not consume any static\nFig. 9 Comparison of\ninterface\nampliﬁers; (a) the commonly used CTIA; and (b) the ampliﬁer used\nin this design\nthe gain of bolometer\nreadout\n123\nAnalog Integr Circ Sig Process (2013) 77:29–44\n39\nchannel, but also the input impedance of the channel. A\nhigh chopping frequency suppresses ﬂicker noise better,\nhowever it also switches more capacitance at the input of\nthe channel and hence loads the bolometer more. This in\nturn results in a reduced channel gain which leads to\nincreased noise and a higher NETD ﬁgure. Inversely, a low\nchopping frequency results in lower ﬂicker noise suppres-\nsion, but a higher input\nimpedance and hence higher\nchannel gain. For the lowest possible noise and the best\npossible NETD, this frequency must be selected such that\nthere is a balance between the ampliﬁer ﬂicker noise con-\ntribution and the total channel gain.\nimpedance node at its input and is thus susceptible to\ntransistor leakage currents causing a DC voltage drift, as\nwell as the shot noise currents from transistor switches\ngenerating low-frequency noise. However, these effects\ncan also be mitigated through the use of offset cancellation\ntechniques such as chopper stabilization or correlated\ndouble sampling. The capacitive ampliﬁer together with\nchopping is the solution used in this design.\nA simpliﬁed schematic of the complete readout channel\nis shown in Fig. 10. Two stages of ampliﬁcation precedes\nthe ADC, the ﬁrst with a ﬁxed gain of 10 and the second\nwith a programmable gain of 1–16. The whole channel is\nchopper stabilized to reduce the impact of transistor ﬂicker\nnoise, switch leakage currents and OTA offset. Chopper\nstabilization also converts the single-ended signal into a\ndifferential signal and hence enables the use of differential\ncircuits to improve linearity, SNR and power supply\nrejection.\n4 Chip measurement\nDuring the course of the work, two test chips consisting of\na 32 9 32-pixel array that could ﬁt in an multi-project\nwafer run has been fabricated and measured to evaluate the\nsystem before the full 352 9 288-pixel chip is manufac-\ntured. Because the process of integrating the microbolo-\nmeters onto the CMOS chip requires complete wafers for\npost-processing, these test chips did not contain any bolo-\nmeters. Instead, to be able to test the readout electronics,\nadditional rows of resistors from the CMOS process with a\nnominal resistance of 50 kX was placed on chip to imitate\nthe microbolometer\nresistances. CMOS resistors also\nreplaced the blind bolometers used in the source degener-\nation resistors of the bias current sources.\nAs shown in Fig. 10, there are two choppers in the readout\nchannel: one at the input of the ﬁrst preampliﬁer and one at\nthe input of the ADC. The frequency of the ﬁrst chopper can\nbe programmed by means of a programmable clock divider\nto ﬁve different settings: 1; 1\n2 ; 1\n16. This makes it\npossible to adapt the noise response of the channel to suit the\nﬂicker noise corner frequency. However, a changing chop-\nping frequency will complicate the demodulation and signal\nintegration inside the ADC. To make sure that the ADC sees\nan input signal chopped at a constant frequency, the clock\nsignal to the second chopper is XORed with that of the ﬁrst,\nmaking sure it is only inverting the signal when the ﬁrst one is\nnot. Hence, the effective chopping frequency at the input of\nthe ADC is constant.\n4 ; 1\n8 and 1\nFor the ﬁrst revision of the test chip, polysilicon resis-\ntors were used in place of the microbolometers. As will be\nseen in the measurement results, these resistors exhibit a\nvery high ﬂicker noise, severely limiting the total noise\nperformance of the circuit. A second revision of the chip\nIt is important to note that the chopping frequency not\nonly affects the ﬂicker noise performance of the readout\nFixed Gain of 10\nProgrammable\nGain of 1 - 16\nExtended Counting ADC\nCfb\nRefs\n1-bit DAC\nC1\nC2\nCint\nRef\n10C1\nxC2\nCin\n−\n−\n−\n−\n16\nFeedback\nLogic\nControl\nLogic\n+\n+\n+\n+\nRbol\n10C1\nxC2\nCin\nRef\nC2\nCint\nC1\n1-bit DAC\nRefs\nCfb\nProgrammable\nClock Divider\nComparator Clock\nChopper Clock\nFig. 10 Analog column readout channel. A 16 bit extended counting ADC is preceded by two preampliﬁcation stages. The ampliﬁers and ADC\nare chopper stabilized to decrease their ﬂicker noise contributions\n123\n40\nAnalog Integr Circ Sig Process (2013) 77:29–44\nclearly visible. The ﬂicker noise corner frequency was\nestimated to be 5.9 kHz and the total input-referred RMS\nnoise voltage during bias was measured to be 17.0 lV.\nwas later fabricated to include bug ﬁxes and where the\npolysilicon resistors were exchanged for p-type diffused\nresistors that were believed to have lower ﬂicker noise.\nSubsequent measurements also validated this supposition,\nshowing improved noise performance. However, actual\nto\nﬂicker noise performance of the circuit\nevaluate because the ﬂicker noise of the intended microb-\nolometers is highly process dependent and may differ from\nthat of the CMOS resistors.\nThe input-referred noise spectrum of the second chip is\nshown in Fig. 11(d). The ﬁgure shows\nsigniﬁcantly\nreduced ﬂicker noise compared to Fig. 11(b), thanks to the\nlower ﬂicker noise of the diffused resistors used in place of\nthe bolometers. The corner frequency was reduced and\nestimated to be 290 Hz and the total input-referred RMS\nnoise voltage was measured to be 6.4 lV.\nis difﬁcult\nThe spectra in Fig. 11 were generated by averaging of\nthe spectra of all 32 channels on the chip. The noise values\nwere all measured with the readout channel gain and\nchopping frequency setting that gave the lowest noise and\nat a bias voltage of 1.6 V. The integration time was the\nsame as would be used for the full-size 288 9 352-pixel\narray at a frame rate of 60 FPS, excluding time for settling\nas described in Sect. 2.4, i.e. 41 ls. Hence the noise per-\nformance of the full size chip is expected to be the same.\nWhile the NETD is highly dependent on microbolometer\nparameters and performance as well as optics, NETD values\nresulting from the measured noise values can be estimated in\nthe same way as was done in Sect. 2.5 using the values in\nTable 1. With an added 2.2 lV of thermal ﬂuctuation noise,\nthis gives the NETD values of 66 and 26 mK for the poly-\nsilicon and diffused resistors, respectively. However, it is\nimportant to note that these are only estimated values and\nthat they may differ depending on the parameters and ﬂicker\nnoise performance of the microbolometers.\n4.1 Noise performance\nFigure 11(a, c) show the input-referred frequency spectrum\nof the measured signal at the output of the readout channels\nof the ﬁrst and the second test chip, respectively, with the\ninputs of the readout channel shorted together, i.e. without\nany input signal. This shows the noise performance of the\npreampliﬁers and ADC in the readout path. As seen in the\nﬁgures, there is no sign of ﬂicker noise at the lower fre-\nquencies, meaning that the chopper stabilization works as\nexpected—the ﬂicker noise of the ampliﬁers and ADC is\nmodulated to higher frequencies and ﬁltered out. The input-\nreferred RMS noise voltage of the readout channel of both\nrevisions of the chip was measured to be 4.0 lV.\nThe input-referred frequency spectrum measured at the\noutput of the readout channels of the ﬁrst chip, when the\npolysilicon resistors are biased with a constant current, is\nshown in Fig. 11(b). In the ﬁgure, the low frequency ﬂicker\nnoise of the polysilicon resistors and bias circuitry is\n(a)\n10\n(b)\n10\n−5\n−5\n)\nz\nH\n/√\nV\n)\nz\nH\n/√\nV\n(\n(\n \n \ny\nt\ni\ns\nn\ne\nD\ne\ng\na\nt\nl\no\nV\ne\ns\ni\no\nN\ny\nt\ni\ns\nn\ne\nD\ne\ng\na\nt\nl\no\nV\ne\ns\ni\no\nN\n−6\n−6\n10\n10\n \n \n−7\n−7\n10\n10\n \n \n−8\n−8\n10\n10\n0\n0\n2\n4\n6\n8\n10\n2\n4\n6\n8\n10\nFrequency (kHz)\nFrequency (kHz)\n(c)\n(d)\n−5\n−5\n10\n10\n)\nz\nH\n/√\nV\n)\nz\nH\n/√\nV\n(\n(\n \n \ny\nt\ni\ns\nn\ne\nD\ne\ng\na\nt\nl\no\nV\ne\ns\ni\no\nN\ny\nt\ni\ns\nn\ne\nD\ne\ng\na\nt\nl\no\nV\ne\ns\ni\no\nN\n−6\n−6\n10\n10\n \n \n−7\n−7\n10\n10\n \n \n−8\n−8\n10\n10\n0\n2\n4\n6\n8\n10\n0\n2\n4\n6\n8\n10\nFrequency (kHz)\nFrequency (kHz)\nFig. 11 Input referred noise spectra for the analog readout channel in (a) the ﬁrst chip and (c) the second chip; and for the total system noise\nduring biasing with (b) polysilicon resistors and (d) p-type diffused resistors\n123\nAnalog Integr Circ Sig Process (2013) 77:29–44\n41\n4.2 Preampliﬁer and ADC dynamic range\npulses using different values of the coefﬁcients ci0, ci1, ci2\nin (10). The constant pulse only has ci0 set; the linear pulse\nhas both ci0 and ci1 set; the square pulse has ci0 and ci2 set; and\nthe linear and square pulse has all the three coefﬁcients set.\nThis shows that the circuitry can realize ramped current\npulses with a second-order shape with respect to time.\nThe dynamic range of the readout channel depends on the\ntotal gain of the channel. For the best possible sensitivity\nand also the lowest input-referred noise value, a high gain\nis desired. However, at high gain, large signals will saturate\nthe ADC and thereby reduce the dynamic range. For the\nhighest dynamic range the lowest possible gain is desired.\nThe total channel gain is inﬂuenced not only by the\ncapacitance ratio in the ampliﬁers of the readout channel,\nbut also by the voltage division between the detector\nresistance and the input impedance of the readout channel,\nwhich can be altered by changing the chopping frequency.\nFigure 12 shows the measured dynamic range as a function\nof the total channel gain and shows that it ranges from 91\nto 65 dB for the chip with polysilicon resistors, and from\n97 to 75 dB for the chip with diffused resistors.\nA non-linear relationship of pulse magnitudes for the 16\ncurrents can be realized by selecting the ﬁrst- and/or sec-\nond-order time coefﬁcients differently between the three\nDAC voltages and is shown in Fig. 15(a), where the DC\ncoefﬁcients are equal for all three DACs. A combination of\nall of these possibilities is shown in Fig. 15(b) where the\ncircuit realizes a second-order relationship between the\noffsets and the pulse magnitudes as well as a second-order\nshape with respect to time.\n(a)\n(b)\n36\n36\n4.3 Bias current ramps and mismatch correction\n34\n34\n32\n32\nThe bias current pulse generation and mismatch correction\nfunctionality was tested by connecting all columns together\nand measuring the voltage generated over the test resistors\nwith an oscilloscope. Connecting all columns together was\nnecessary to provide enough drive strength for the oscil-\nloscope. Figure 13(a) shows the 16 different bias currents\ngenerated for a linear relationship of the mismatch, and\nFig. 13(b) shows the same when realizing a second-order\npolynomial relationship between the offsets of the currents.\ntime-constant currents were selected to clearly\nHere,\nvisualize the offset relationships. Any of the 16 currents\ncan be chosen individually for each pixel to correct for\nresistance mismatch.\n)\n)\n30\nA\nμ\n(\n30\nA\nμ\n(\n \n \nt\nn\ne\nr\nr\nu\nC\ns\na\ni\nB\nt\nn\ne\nr\nr\nu\nC\ns\na\ni\nB\n28\n28\n26\n26\n \n \n24\n24\n22\n22\n20\n20\n18\n18\n0\n10\n30\n20\nBias Time (μs)\n40\n0\n10\n30\n20\nBias Time (μs)\n40\nFig. 13 Measurement of a constant-time bias current from the 16\ndifferent precorrection levels when realizing offsets with (a) a ﬁrst-\nrelationship; and (b) a second-order polynomial\norder\nlinear\nrelationship\nThe circuits ability to generate time-varying current pul-\nses is shown in Fig. 14. The ﬁgure shows four different\n34\nConstant\nLinear\nSquare\nLinear + Square\n100\n32\n|||Polysilic Diffused|on resistors resistors|\n|None|None|||\n|||||\n|||||\n|||||)\nA\nμ\n(\n)\nB\nd\n(\ne\ng\nn\na\nR\nc\ni\nm\na\nn\ny\nD\n90\n \n30\nt\nn\ne\nr\nr\nu\nC\ns\na\ni\nB\n \n28\n80\n \n \n26\n70\n24\n0\n5\n10\n15\n25\n20\nBias Time (μs)\n30\n35\n40\n60\n10\n20\n40\n30\nReadout Channel Gain (dB)\n50\nFig. 14 Measured bias current pulse ramps showing the possibility of\nshape conﬁguration through coefﬁcient programming. Four different\nshapes are realized by appropriately selecting the constant, linear and\nsquare coefﬁcients for the bias current DACs\nFig. 12 Dynamic range of the readout channel as a function of\nchannel gain. Peak values reach 91 dB for the polysilicon resistors\nand 97 dB for the diffused resistors\n123\nAnalog Integr Circ Sig Process (2013) 77:29–44\n42\nBias & Reference\n\nBias Pulse A\nGeneration,\n\nGeneration\n\nAmplifiers\nand ADCs\n\n(a)\n(b)\n36\n32\n34\n31\n32\n)\n)\n30\nA\nμ\n(\nA\nμ\n(\n30\n \n \nt\nn\ne\nr\nr\nu\nC\ns\na\ni\nB\n28\nt\nn\ne\nr\nr\nu\nC\ns\na\ni\nB\n29\n26\n \n \n24\n28\n22\n27\n20\n18\n26\n0\n10\n30\n20\nBias Time (μs)\n40\n0\n10\n30\n20\nBias Time (μs)\n40\nFig. 15 Measurements of combinations of both second-order mis-\nmatch correction and second-order pulse shapes. A non-linear\nrelationship of pulse magnitudes is shown in (a) while (b) shows a\nsecond-order offset as well as a second-order magnitude relationship\nfor the 16 bias currents\nFig. 16 Die photograph of the 32 9 32-pixel test chip. The die size\n(including pads) is 12.3 mm2. The full-size 352 9 288-pixel chip\noccupies 114.7 mm2\n4.4 System ﬁgures and performance comparison\nTable 2 32 9 32-pixel test chip characteristics\nThe serial LVDS communication protocol\nto program,\ncontrol and read out the data from the ROIC was imple-\nmented on an FPGA on a printed circuit board complete\nwith the ROIC, low-noise band-gap references, low-noise\npower supply regulation and a high-voltage DAC to drive\nthe bolometer bias current sources. The DAC is also con-\ntrolled through the FPGA, which in turn is accessed from a\ncomputer through the USB protocol.\nAt a frame rate of 60 FPS,\nParameter\nResistors\nValue\nUnit\nlm\nTechnology\n0.35\nArray size\n32 9 32\npixels\nSupply voltage\n3.4, 5.8–9\nV\nFrame rate\n60\nFPS\nPower consumption\nNoise in readout1\nTotal noise1\n170\nmW\nlVrms\nlVrms\nlVrms\nkHz\n4.0\nthe test chips dissipate\n170 mW of power from a 3.4 V supply. The circuitry on\nthese test chips are sized the same as for the full-size\n352 9 288-pixel array, thus the added power consumption\nof the full-size array will mainly come from the extra 256\nreadout channels. Simulations show that one readout\nchannel consumes approximately 890 lW of power mak-\ning an additional power of 230 mW for an estimated power\nconsumption of 400 mW for the full-size array. Table 2\nshows a summary of the performance of the test chips and a\nchip photograph is shown in Fig. 16.\nPoly\n17.0\nDiffused\n6.4\nFlicker noise corner\nPoly\n5.9\nDiffused\n290\nHz\nDynamic range\nPoly\nDiffused\n91\n97\ndB\ndB\nNETD2\nPoly\n66\nmK\nDiffused\n26\nmK\n1 RMS noise level referred to the bolometer\n2 Estimated values\nTable 3 Performance\ncomparison of ROICs for\nIRFPAs\n[6]\n[18]\n[8]\n[4]\nThis work\n0.35\nTechnology (lm)\n–\n0.5\n0.5\n–\n352 3 288\nArray size\nPixel pitch (lm)\n640 9 480\n320 9 240\n160 9 120\n320 9 240\n25\n17\n25\n52\n50\n60\n26a\n97\n400a\n16 bits\nFrame rate (FPS)\n30\n60\n50\n60\nNETD (mK)\n45\n63\n330\n14\nDR (dB)\n–\n–\n60\n66\nPower (mK)\n350\n–\n80\n–\nDigital output\n14 bits\nNo\nNo\nNo\na Estimated values\n123\nAnalog Integr Circ Sig Process (2013) 77:29–44\n43\n(Eds.), Infrared technology and applications XXIV (Vol. 3436,\npp. 636–646). Bellingham, WA: SPIE.\nA performance comparison of state-of-the-art ROICs\npublished in literature is shown in Table 3 and shows that\nthe estimated NETD and dynamic range performance\nachieved by this work is very competitive. The power\nconsumption of [8] is lower due to lower resolution and\ndigitization of the bolometer signals being done off-chip.\nThe circuits in [4, 18] also use off-chip digitization, but\ntheir power consumption was not reported. The ROIC in\n[6] does support a frame rate of 60 FPS in analog output\nmode, but performance was only reported for 30 FPS.\n5. Lv, J., Jiang, Y., Zhang, D., & Zhou, Y. (2010). An ultra low\nnoise readout integrated circuit for uncooled microbolometers.\nAnalog Integrated Circuits and Signal Processing, 63, 489–494.\n6. Tissot, J. L., Tinnes, S., Durand, A., Minassian, C., Robert, P., &\nVilain, M. (2010). High-performance uncooled amorphous sili-\ncon VGA and XGA IRFPA with 17l m pixel-pitch. In D.\nA. Huckridge & R. R. Ebert (Eds.), Electro-optical and infrared\nsystems: Technology\n7834,\np. 78340K). Bellingham, WA: SPIE.\napplications VII\nand\n(Vol.\n7. Simoens, F., Tchagaspanian, M., Arnaud, A., Imperinetti, P.,\nChammings, G., Yon, J. J., et al. (2007). New IRCMOS archi-\ntecture applied to uncooled microbolometers developed at LETI.\nIn B. F. Andresen, G. F. Fulop & P. R. Norton (Eds.), Infrared\ntechnology and applications XXXIII (Vol. 6542, pp. 65421T1–\n65421T6). Bellingham, WA: SPIE.\n5 Conclusions\n8. Perenzoni, M., Mosconi, D., & Stoppa, D. (2010). A 160 9 120-\npixel uncooled IR-FPA readout integrated circuit with on-chip\nnon-uniformity compensation. In Proceedings of the ESSCIRC\n(pp. 122–125).\nUncooled thin-ﬁlm resistive microbolometers have made\nthermal infrared imaging at ambient temperature operation\nof the detector focal plane array, both possible and cost\neffective. However, the requirements on the readout inte-\ngrated circuit in terms of dynamic range and noise per-\nformance become very high.\n9. Mesgarzadeh, B., Sadeghifar, M. R., Fredriksson, P., Jansson, C.,\nNiklaus, F., & Alvandpour, A. (2009). A low-noise readout cir-\ncuit in 0.35-lm CMOS for low-cost uncooled FPA infrared net-\nwork camera. In B. F. Andresen, G. F. Fulop & P. R. Norton\n(Eds.), Infrared technology and applications XXXV (Vol. 7298,\npp. 72982F1–72982F8). Bellingham, WA: SPIE.\nThe readout integrated circuit for a 352 9 288-pixel\nIRFPA presented in this paper was designed in a standard\n0.35-lm CMOS process and uses a non-linear current pulse\nbiasing scheme to reduce the effects of detector self-heat-\ning. It also features programmable correction of detector\nresistance process variation. A chopper-stabilized readout\npath removes the ﬂicker noise of the readout circuitry and\nprovides 16-bit digitization of the detector signals.\n10. Niklaus, F., Vieider, C., & Jakobsen, H. (2007). MEMS-based\nuncooled infrared bolometer arrays: a review. In J.-C. Chiao, X.\nChen, Z. Zhou & X. Li (Eds.), MEMS/MOEMS technologies and\napplications III (Vol. 6836, p. 68360D). Bellingham, WA: SPIE.\n11. Roer, A., Lapadatu, A., Elfving, A., Kittilsland, G., & Hohler, E.\n(2010). Low cost, high performance far infrared microbolometer.\nIn F. Berghmans, A. G. Mignani & C. A. van Hoof (Eds.),\nOptical sensing and detection (Vol. 7726, p. 77260Z). Belling-\nham, WA: SPIE.\nTwo versions of a 32 9 32-pixel test chip were manu-\nfactured and evaluated, and have shown that the circuit\nachieves a very low-noise readout of detector signals. The\nlatest test chip achieves a dynamic range of 97 dB and an\ninput-referred RMS noise voltage of 6.4 lV yielding an\nestimated NETD of 26 mK with f/1 optics. At a frame rate\nof 60 FPS the chip dissipates 170 mW of power from a\n3.4 V supply.\n12. Roxhed, N., Niklaus, F., Fischer, A. C., Forsberg, F., Hoglund, L.,\nEricsson, P., et al. (2010). Low-cost uncooled microbolometers\nfor thermal imaging. In F. Berghmans, A. G. Mignani & C. A.\nvan Hoof (Eds.), Optical sensing and detection (Vol. 7726,\np. 772611). Bellingham, WA: SPIE.\n13. Jansson, C., Ringh, U., & Liddiard, K. C. (1995). Theoretical\nanalysis of pulse bias heating of resistance bolometer infrared\ndetectors and effectiveness of bias compensation. In B. F. And-\nresen & M. Strojnik (Eds.), Infrared technology XXI (Vol. 2552,\npp. 644–652). Bellingham, WA: SPIE.\n14. Marasco, P. L., & Dereniak, E. L. (1993). Uncooled infrared\nsensor performance. In B. F. Andresen & F. D. Shepherd (Eds.),\nInfrared technology XIX (Vol. 2020, pp. 363–378). Bellingham,\nWA: SPIE.\nAcknowledgments This work was sponsored by the Swedish\nGovernmental Agency for Innovation Systems (VINNOVA) as part of\nproject INC in co-operation between Linko¨ping University, Faun AB\nand Axis Communications AB.\n15. Niklaus, F., Decharat, A., Jansson, C., & Stemme, G. (2008).\nPerformance model for uncooled infrared bolometer arrays and\nperformance predictions of bolometers operating at atmospheric\npressure. Infrared Physics & Technology, 51(3), 168–177.\n16. Hwang, C. H., Kwon, I. W., Lee, Y. S., & Lee, H. C. (2008).\nCMOS readout integrated circuit involving pixel-level ADC for\nmicrobolometer FPAs. In B. F. Andresen, G. F. Fulop & P.\nR. Norton (Eds.), Infrared technology and applications XXXIV\n(Vol. 6940, p. 694029). Bellingham, WA: SPIE.\nReferences\n1. Hartmann, R., & Selders, M. (1982). High-sensitivity thin-ﬁlm\nbolometers. In Sensor 1982—Sensor technology and temperature\nmeasurement. Essen, West Germany, (pp. 102–116).\n17. Jansson, C. (1995). A high-resolution, compact, and low-power\nADC suitable for array implementation in standard CMOS. IEEE\nTransactions on Circuits and Systems I: Fundamental Theory and\nApplications, 42(11), 904–912.\n2. Liddiard, K. (1984). Thin-ﬁlm resistance bolometer IR detectors.\nInfrared Physics, 24(1), 57–64.\n3. Liddiard, K. (1986). Thin-ﬁlm resistance bolometer IR detectors-\nII. Infrared Physics, 26(1), 43–49.\n18. Yon, J. J., Astier, A., Bisotto, S., Chamingis, G., Durand, A.,\nMartin, J. L., et al. (2005). First demonstration of 25 lm\npitch uncooled amorphous silicon microbolometer IRFPA at\n4. Radford, W. A., Wyles, R., Wyles, J., Varesi, J. B., Ray, M.,\nMurphy, D. F., et al. (1998). Microbolometer uncooled infrared\ncamera with 20-mK NETD. In B. F. Andresen & M. Strojnik\n123\n44\nAnalog Integr Circ Sig Process (2013) 77:29–44\ninterfaces. He also worked on on-chip power management. From 2008\nto 2011 Dr. Jansson was at Electronic Devices division at Linko¨ping\nUniversity as guest researcher with focus on sensor interfacing and\nanalog-to-digital conversion of sensor signals. Since 2011 he is\nemployed by Anacatum Design as a mixed signal designer, mainly\nfocused on ADC development. He has published 23 papers in interna-\ntional journals and conferences, and holds 12 patents.\nLETI-LIR. In B. F. Andresen & G. F. Fulop (Eds.), Infrared\ntechnology and applications XXX (Vol. 432, pp. 432–440).\nBellingham, WA: SPIE.\nDaniel Sva¨rd received\nthe\nM.Sc. degree in electrical engi-\nneering from Linko¨ping Uni-\nversity, Linko¨ping, Sweden in\n2010. Since March 2010 he has\nbeen a member of the Electronic\nDevices research group at the\nDepartment of Electrical Engi-\nneering of Linko¨ping Univer-\ncurrently\nsity, where he\nworking\nPh.D.\ntoward\ndegree in electrical engineering.\nHis research interests are low-\npower, low-noise sensor readout\nintegrated circuits and high-res-\nAtila Alvandpour received the\nM.Sc. and Ph.D. degrees from\nLinko¨ping University, Sweden,\nin 1995 and 1999, respectively.\nFrom 1999 to 2003, he was a\nresearch scientist with\nsenior\nCircuit Research Lab,\nIntel\nCorporation. In 2003, he joined\nthe department of Electrical\nEngineering, Linko¨ping Uni-\nversity, as a Professor of VLSI\ndesign. Since 2004, he is the\nhead of Electronic Devices\ndivision. His research interests\ninclude various issues in design\nof integrated circuits and systems in advanced nano-scale technolo-\ngies, with special focus on efﬁcient analog frontends, data converters,\nclock generators/synthesizers, and digital circuits for high-speed\ncommunication links as well as low-power sensors and medical\ndevices. He has published more than 100 papers in international\njournals and conferences, and holds 24 U.S. patents. Prof. Alvandpour\nis a senior member of IEEE, and has served as member of many\ntechnical program committees of IEEE and other international con-\nferences, including the IEEE Solid-State Circuits Conference, ISSCC,\nand European Solid-State Circuits Conference, ESSCIRC. He has also\nsevered as guest editor for IEEE Journal of Solid-State Circuits.\nis\nthe\nolution analog-to-digital converters.\nChrister Jansson received the\nM.Sc. and Ph.D. degrees from\nLinko¨ping University in 1989\nand 1995,\nrespectively. From\n1995 to 1999 he was a researcher\nat the National Defence Research\nEstablishment in Sweden where\nhe developed high-performance\nand novel circuit techniques for\nuncooled microbolometer cam-\neras for infrared imaging. During\n1999 to 2008 he had employment\nat 3 different private companies\nmainly focused on high-perfor-\nmance analog-to-digital conver-\nsion for multistandard radio for base stations and for analog video\n123\n']",
A High-Speed CMOS Image Sensor with Column-Parallel Two-Step Single-Slope ADCs.pdf,"['IEEE TRANSACTIONS ON ELECTRON DEVICES, VOL. 56, NO. 3, MARCH 2009\n393\nA High-Speed CMOS Image Sensor With\nColumn-Parallel Two-Step Single-Slope ADCs\nSeunghyun Lim, Student Member, IEEE, Jeonghwan Lee, Student Member, IEEE,\nDongsoo Kim, Student Member, IEEE, and Gunhee Han, Member, IEEE\nADCs occupy less silicon area while keeping the comparable\nspeed to SA ADCs. Ultrahigh-speed sensor that provides a pixel\nrate of 900 Mpixel/s has been reported in [4]. However, it con-\nsumes high power due to high-speed op-amp in each column.\nSS ADCs have been widely applied in a CMOS imager because\nthey provide relatively high resolution with minimal area and\nlow power consumption for a low-speed imager. Although high-\nspeed CMOS imagers based on an SS ADC have been recently\nreported in [7] and [8], they use very high clock frequency\nwhich requires high power consumption.\nAbstract—This paper proposes a column-parallel\ntwo-step\nsingle-slope (SS) ADC for high-speed CMOS image sensors. Error\ncorrection scheme to improve the linearity is proposed as well. A\nprototype sensor of 320 × 240 pixels has been fabricated with a\n0.35-μm CMOS process. Measurement results demonstrate that\nthe proposed ADC can achieve the conversion time of 4 μs, which\nis ten times faster than the conventional SS ADC. The proposed\nerror correction effectively removes the dead band problem and\nyields DNL of +0.53/ −0.78 LSB and INL of +1.42/ −1.61 LSB.\nThe power consumption is 36 mW from a supply voltage of 2.8 V.\nIndex Terms—Column-parallel ADC, single-slope (SS) ADC,\ntwo-step ADC.\nMeanwhile, two-step SS ADCs based on multiple ramp\nsignals have been recently reported in [9]–[11]. However, these\ntwo-step SS ADCs require several ramp generators correspond-\ning to the number of coarse ADC steps. This architecture has\nincreased area and power consumption due to the multiple ramp\ngenerators and multiple ramp signal lines. Therefore, coarse\nADC resolution is limited to only 2 or 3 b with little speed\nimprovement.\nI. INTRODUCTION\nD UE TO THE beneﬁt of low power consumption and easy\nsystem integration with on-chip circuits, recent advances\nin CMOS image sensors have made them viable alternatives\nto charge-coupled devices, particularly in high-speed videog-\nraphy. There exist three architectures for ADC integration in\nCMOS image sensors: a single-channel ADC, a pixel-level\nADC, and a column-parallel ADC. The single-channel ADC\nuses a single ADC for an entire pixel array. Hence, extremely\nhigh-speed ADC should be required to achieve a high frame\nrate. The pixel-level ADC implements an ADC in every pixel,\nproviding extremely high frame rate at the price of silicon area\nand power consumption. The column-parallel ADC which has\nan ADC in each column can achieve a good tradeoff among\nframe rate, ﬁll factor, silicon area, and power consumption.\nTherefore, the column-parallel architecture is the most widely\nused architecture for both low-speed mobile imager and high-\nspeed high-performance imager.\nThis paper proposes a new two-step SS ADC using a single\nramp generator for high-speed image sensors [12]. Section II\ndescribes the operation principle and the limit of a conventional\ntwo-step SS ADC. Section III proposes a new two-step SS ADC\narchitecture and the error correction. Section IV presents the\nexperimental results, and Section V provides the conclusion.\nII. CONVENTIONAL TWO-STEP SS ADC\nIn a CMOS image sensor with column-parallel SS ADCs,\neach column consists of a comparator and latches, whereas a\nramp generator and a counter are shared by all ADCs, as shown\nin Fig. 1. Each comparator in a column compares a ramp signal\nwith an input signal from the pixel array, and then, the output\nof the comparator is changed when the ramp signal exceeds the\ninput signal. The change of the comparator output causes the\nlatch to store the counter value that corresponds to the time\nelapse until the ramp signal reaches to the input signal level.\nTherefore, an SS ADC requires 2P clock steps for a P -bit A/D\nconversion.\nThe column-parallel ADC architecture can be grouped by\nits ADC into a successive approximation (SA) ADC [1]–[3],\na cyclic ADC [4], and a single-slope (SS) ADC [5], [6]. SA\nADCs have been utilized in various high-speed image sensors\nup to 1000 frames/s at 512 × 512 pixels or UDTV sensors.\nSince the SA ADC should include a DAC that occupies a large\nsilicon area, it is not applicable for consumer products. Cyclic\nAmong general ADCs, a two-step ADC divides the A/D\nconversion process into M -bit coarse and N -bit ﬁne ADCs\nwhere P = M + N in an ideal case [13]. First, the coarse ADC\nperforms A/D conversion with a large step size, and then, the\nresult of the coarse ADC is converted to an analog signal using\na DAC. The difference between the input signal and the DAC\noutput is called residue, and it is digitized by the ﬁne ADC.\nThe outputs of the coarse ADC and the ﬁne ADC represent the\nupper bit and the lower bit of the ﬁnal ADC, respectively.\nManuscript received September 5, 2008; revised November 25, 2008. Cur-\nrent version published February 25, 2009. This work was supported in part\nby the MKE (Ministry of Knowledge Economy), Korea, under the ITRC\n(Information Technology Research Center) support program supervised by the\nIITA (Institute of Information Technology Advancement) (IITA-2008-(C1090-\n0801-0012)) and in part by Samsung Electronics Co., Ltd. The review of this\npaper was arranged by Editor J. Tower.\nThe authors are with the Department of Electrical and Electronic Engi-\nneering, Yonsei University, Seoul 120-749, Korea (e-mail: seunghyun.lim@\ngmail.com).\nDigital Object Identiﬁer 10.1109/TED.2008.2011846\n0018-9383/$25.00 © 2009 IEEE\n394\nIEEE TRANSACTIONS ON ELECTRON DEVICES, VOL. 56, NO. 3, MARCH 2009\nPixel array\n\nRow |i\nDecoder\n\nRamp\ngenerator\n\nCounter\n\nVes\n\nVin\n\nCounter value t\nVes\n\nVin\n\n2"" clocks 2"" clocks\n(coarse ADC) (fine ADC)\n\nmultiple V,.\nramp\ngenerator V,1\n\ncounter &\ncontrol\n\nFig. 1. Block diagram and timing diagram of a column-parallel SS ADC.\nThis two-step ADC scheme is applicable to an SS ADC.\nFig. 2(a) shows the principle of the two-step SS ADC. The ﬁrst\nramp signal spans the full scale, VFS with the step of ΔC which\nis VFS/2M . The comparator ﬁnds the section in which the input\nbelongs to among 2M sections. Then, the second ramp signal\nspans the range of the section that was found during the coarse\nADC with the step of ΔF which is ΔC/2N . The comparator\nﬁnds the subsection in which the input belongs to among 2N\nsubsections. The conversion time of the two-step SS ADC is\nreduced to 2M + 2N clock steps.\nFig. 2. Conventional two-step SS ADC with multiple ramp. (a) Timing\ndiagram. (b) Block diagram.\nresult of DAC to obtain the residue after the coarse ADC in\ntwo-step ADC.\nFig. 2(b) shows the block diagram of the conventional two-\nstep SS ADC based on multiple ramp signals [9]. During the\ncoarse ADC phase, all comparators uses the ramp signal Vrc,\nwhich spans full scale, to ﬁnd the upper bits of the overall ADC.\nThen, each column selects one of the multiple ramps depending\non the coarse ADC outputs. During the ﬁne ADC phase, all 2M\nramps operate concurrently, and each ramp spans ΔC, as shown\nin Fig. 2(a). Then, the output of the ﬁne ADC corresponds to\nthe lower bits of the overall ADC. This two-step SS ADC with\nmultiple slopes requires 2M ramp generators which consume\nhigh power and 2M ramp signal lines which occupy large area.\nThe mismatch of the ramp slopes and offsets cause serious\nperformance degradation. Therefore, the choice of coarse ADC\nresolution M is generally limited to only two or three, and thus,\nthe speed improvement is not signiﬁcant.\nFig. 3(a) shows the schematic diagram of the proposed two-\nstep SS ADC. The column ADC consists of a comparator, a\ncapacitor, three switches, a logic gate, and latches. A DAC-\nbased ramp generator and a counter are shared by all column\nADCs. C1 and φ1 are used for CDS operation [14] which\ncancels the ﬁrst comparator offset and the pixel offset. C2 and\nφ2 are used to cancel the offset of the second comparator which\ncompensates the limited gain of the ﬁrst comparator. Fig. 3(b)\nand (c) shows the ramp signal waveform and the timing diagram\nfor two-step SS ADC. When the coarse ADC starts, switches\nSC and SH are on, respectively. This switch arrangement makes\nthe capacitor voltage VH follow the ramp signal VR. If the input\nsignal VIN is mΔC < VIN < (m + 1)ΔC , the comparator\noutput VO is changed to logic high when VR becomes (m +\n1)ΔC . Then, the upper M -bit latch stores the counter value as\na coarse ADC result m. SH is turned off at this moment, and\nthe ramp signal is stored in the capacitor CH . Therefore, VH is\ngiven by\nIII. PROPOSED TWO-STEP SS ADC\nA. Operation Principle of Proposed ADC\nVH = (m + 1) · ΔC.\nThe basic concept of the proposed circuit is to store the ramp\nvalue at the moment of latching during the coarse ADC and then\nusing the stored value as an offset voltage of the ramp signal\nduring the ﬁne ADC. The stored ramp value corresponds to the\n(1)\nThe counter is reset and the ﬁne ADC phase starts. CH is\nconnected in series with the ramp signal by turning on the\nLIM et al.: HIGH-SPEED CMOS IMAGE SENSOR WITH COLUMN-PARALLEL TWO-STEP SINGLE-SLOPE ADCs\n395\nos\no\nco\n\nVo\n\nfrom counter\n\n(a)\n\n(b)\n\ncoarse ADC\n\n(c)\n\nfine ADC\nJAV 9ulj jo\neBues papua}xe\n\n(m+1)Ao Ves Viv\n2Ac\n\nfine ADC\n\nAc\n\naaa\n\nVe\n\n%\nVes\nVin\n\nAc|\n\n0\n\n- Ad\n\n- 1.5Ac]\n\ni\nS\nJ\n\nVres\nDBL cb ennennenvenenceneenenneneeanenntnntnttntenenttntaneeeentaneeneetenti\n\n(b)\nFig. 5.\n(b) Proposed ramp signal for error correction.\n(a) Residue plot of the proposed ADC with error correction.\nPixel Array\n320 x 240\n\nColum n-parallel ADCs\nwith CDS circuits\n\nFig. 3. Proposed two-step SS ADC with single ramp. (a) Simpliﬁed schematic\ndiagram. (b) Ramp signal waveform. (c) Timing diagram: Arrows represent the\nmoment of latching.\nover-ranged\n\na residue\n\nVres\n\nAc|\n\ninput range\nof fine ADC\n\nmAc  (m+1)4c Vrs\n\nFig. 4. Residue plots of proposed ADC with nonidealities.\nswitch SF while SC and SH are off. Then, the comparator\nreference voltage VC becomes the sum of the ramp signal and\nVH obtained from the coarse ADC as follows:\nFig. 6. Chip micrograph of the prototype sensor.\nVC = VR + VH = VR + (m + 1) · ΔC.\n(2)\nCombining these two results, the ﬁnal digital output, p can\nbe obtained as follows:\nwhere the ramp signal spans from −ΔC to VREF , as shown in\nFig. 3(b). Then, VC spans from mΔC to (m + 1)ΔC. When\nVC exceeds the input signal, the comparator changes its output\nto logic high again and the counter output is stored in the lower\nN bits of the latch as a ﬁne ADC result n.\np = 2N · m + n.\n(3)\nUnlike the conventional two-step SS ADC with multiple\nthe proposed structure with single ramp\nramp generators,\n396\nIEEE TRANSACTIONS ON ELECTRON DEVICES, VOL. 56, NO. 3, MARCH 2009\nPixel output (V)\n\n0.8\n\nS\na\n\nnd\nFS\n\n0.2\n\n-t Pixel output\n~®- Nonlinearity\n\n20 40 60 80 100\nLight intensity (lux)\n\nNonlinearity (%)\nFig. 7. Photoelectric conversion characteristics at 80 frames/s.\n[as7lqna\n\n[asqlni\n\n512 768 1024\n\n(a)\n\n256\n\nnon\noc ¢\n\n[as7lqNa\n\n512 768 1024\n\n256\n\njo\nv\n\n512 768 1024\n\n(b)\n\n256\n\nN\n\nror\n\n[ssqnni\n\n°\n¢\nFig. 9. Lower 8b images from the prototype sensor. (a) Without error correc-\ntion. (b) With error correction.\noffset is canceled out at the input using CDS. The signal-\ndependent charge injection can be minimized by turning off SH\nprior to SC.\nThe major source of error in the proposed two-step SS ADC\nis signal-independent charge injection and clock feedthrough\nwhen SH is turned off. The inﬂuence of this error can be\nanalyzed with the residue plot where the residue is deﬁned as\nfollows:\nVRES = VIN − (VH − ΔC).\n(4)\nFig. 8. Measured DNL and INL. (a) Without error correction. (b) With error\ncorrection.\nTaking into account the signal-independent error, VE caused\nby feedthrough of SH , (1) should be rewritten as follows:\ngenerator enables to divide the resolution for coarse and ﬁne\nADCs arbitrarily. In particular, the total number of clocks is\nminimum when M = N .\nVH = (m + 1) · ΔC − VE.\n(5)\nThe residue plot is obtained from (4) and (5), as shown in\nFig. 4. VE causes vertical shift of the residue plot exceeding\nthe input range of the ﬁne ADC. This overranged residue is\nconverted to a saturated value (all 1s) in the ﬁne ADC phase\nand, hence, results in dead bands in the ﬁnal digital output.\nB. Error Correction\nNonidealities such as comparator offset and clock feed-\nthrough of sampling switches may make the proposed structure\nmalfunctioned. Unlike the common two-step ADCs, the same\ncomparator is used for both of the coarse and ﬁne ADC phases.\nTherefore, the comparator offset causes the offset of the overall\nADC curve without causing the dead band. Although, this\nTo solve this problem, the input range of the ﬁne ADC\nis extended covering the overranged residue, as shown in\nFig. 5(a). This extension is achieved by expanding the range\nof ﬁne ramp signal by ±0.5 ΔC, as shown in Fig. 5(b). This\nLIM et al.: HIGH-SPEED CMOS IMAGE SENSOR WITH COLUMN-PARALLEL TWO-STEP SINGLE-SLOPE ADCs\n397\nTABLE I\nPERFORMANCE SUMMARY\n19]\n\nConventional\n\nTechnology 0.25-44m CMOS 0.35-ym CMOS,\nArray format 400 (H) x 330 (V) 320 (H) x 240 (V)\nPixel size 7.4 um x 7.4 um 5.6 wm x 5.6 um\nSensitivity* N/A 0.52 V/lux:s\nConversion gain* N/A 46 UV /e-\nFull well capacity* N/A 18,500e-\nRandom noise at dark* N/A 490 UV ims\nDynamic range* N/A 64.8 dB\nADC resolution 3b-coarse / 8b-fine 10 bit 5b-coarse / 6b-fine\nADC DNL N/A +0.64/-0.7 LSB +0.53/-0.78 LSB\nADC INL +1.4/-1.0 LSB +1.44/-1.58 LSB +1.42/-1.61 LSB\nA/D Conversion time 16 ws 41 us 4 us\nColumn FPN at dark 0.13% 0.12% 0.1%\nMaximum frame rate 144 frames/s 92 frames/s 700 frames/s\nPower supply 25V 2.8V 2.8V\nPower consumption 52 mW 30 mW 36 mW\n\n* Pixel data at 12.5-ms integration time.\n\nextension corresponds to the introduction of one bit redundancy\nin classical two-step ADC. Subsequently, the digital outputs of\ncoarse and ﬁne ADCs are combined as in (3). Although the dead\nband is corrected by the proposed error correction scheme, the\nVE still causes the offset in the ﬁnal output. The column-to-\ncolumn deviation of VE may cause columnwise ﬁxed pattern\nnoise (FPN) the same as in conventional SS ADC.\na factor of four to the conventional two-step SS ADC with\nmultiple ramps [9]. The measured column FPN is under 0.1%\nat dark condition, which is close to the conventional SS ADC.\nThe power consumption of the prototype sensor is 36 mW.\nThe performance of the prototype imager is summarized with\nrecently reported result [9] and the conventional SS ADC from\nthe same fabrication process in Table I.\nV. CONCLUSION\nIV. MEASUREMENT RESULTS\nA two-step SS ADC with error correction for high-speed\nCMOS imagers is proposed. As the proposed ADC uses a\nsingle ramp generator for the coarse and ﬁne ADCs, it is free\nfrom ramp slope mismatch and high power consumption that\nwere the bottlenecks of the conventional two-step SS ADC\nwith multiple ramp generators. The measurement result demon-\nstrated that the proposed ADC has ten times higher conversion\nspeed without any signiﬁcant increase of power consumption\nwhen compared to the conventional SS ADC. The measurement\nresult also showed that the proposed error correction effectively\nremoved the dead band. The proposed two-step SS-ADC can\nbe used for high-resolution and high-speed image sensors in\nconsumer electronics.\nThe prototype sensor is fabricated in a 0.35-μm double-poly\ntriple-metal CMOS process. The chip micrograph is shown in\nFig. 6. A 320 × 240 array of 5.6-μm pitch 4T-APS pixel and\nthe proposed two-step SS ADCs are implemented on 3.6 mm ×\n3.2 mm die. The ADC clock frequency is 25 MHz. The resolu-\ntion of the ADC is divided into 5-b coarse and 6-b ﬁne ADCs\nto achieve a 10-b resolution. An identical image sensor with\nthe conventional SS ADC was fabricated as well for the fair\nperformance comparison.\nFig. 7 shows the measured photoelectric conversion charac-\nteristic of the pixel. The measured sensitivity is 0.52 V/lx · s.\nis within +0.35%/\nThe nonlinearity of the pixel output\n−0.38%. The pixel random noise is 490 μVrms at dark level.\nFig. 8 shows the measured differential nonlinearity (DNL) and\nintegral nonlinearity (INL) of the proposed ADC. The measured\nDNL and INL without error correction are +2.9/ −1.0 LSB\nand +3.75/ −3.85 LSB while they are signiﬁcantly reduced\ndown to +0.53/ −0.78 LSB and +1.42/ −1.61 LSB with the\nproposed error correction. DNL without error correction causes\nobtrusive discontinuity in the captured image, particularly in\nlow illumination, as shown in Fig. 9(a). This degradation is\nremoved by the proposed error correction scheme, as shown\nin Fig. 9(b). The maximum frame rate is 700 frames/s. The\nA/D conversion time of the proposed ADC is improved by\na factor of ten compared to the conventional SS ADC and\nREFERENCES\n[1] A. Krymski and K. Tajima, “CMOS image sensor with integrated\n4 Gb/s camera link transmitter,” in Proc. IEEE ISSCC Dig. Tech. Papers,\nSan Francisco, CA, Feb. 2006, pp. 504–505.\n[2] A. Krymski, N. E. Bock, N. Tu, D. Van Blerkom, and E. R. Fossum,\n“A high-speed, 240-frame/s, 4.1-MPixel CMOS sensor,” IEEE Trans.\nElectron Devices, vol. 50, no. 1, pp. 130–135, Jan. 2003.\n[3] I. Takayanagi, M. Shirakawa, K. Mitani, M. Sugawara, S. Iversen,\nJ. Moholt, J. Nakamura, and E. R. Fossum, “A 1.25-inch 60-frames/s\n8.3-Mpixel digital-output CMOS image sensor,” IEEE J. Solid-State\nCircuits, vol. 40, no. 11, pp. 2305–2314, Nov. 2005.\n[4] M. Furuta, Y. Nishikawa, T. Inoue, and S. Kawahito, “A high-speed,\nhigh-sensitivity digital CMOS image sensor with a global shutter and\n398\nIEEE TRANSACTIONS ON ELECTRON DEVICES, VOL. 56, NO. 3, MARCH 2009\n12-bit column-parallel cyclic A/D converters,” IEEE J. Solid-State Cir-\ncuits, vol. 42, no. 4, pp. 766–774, Apr. 2007.\nJeonghwan Lee (S’06) received the B.S. degree\nfrom the Department of Electrical and Electronic\nEngineering, Yonsei University, Seoul, Korea,\nin\n2006, where he is currently working toward the\nPh.D. degree.\n[5] Y. Kim, Y. T. Kim, S. H. Choi, H. K. Kong, S. I. Hwang, J. H. Ko,\nB. S. Kim, T. Asaba, S. H. Lim, J. S. Hahn, J. H. Im, T. S. Oh, D. M. Yi,\nJ. M. Lee, W. P. Yang, J. C. Ahn, E. S. Jung, and Y. H. Lee, “A 1/2-inch\n7.2 MPixel CMOS image sensor with 2.25 μm pixels using 4-shared pixel\nstructure for pixel-level summation,” in Proc. IEEE ISSCC Dig. Tech.\nPapers, San Francisco, CA, Feb. 2006, pp. 1994–2003.\nHis research interests include a high-speed CMOS\nimage sensor.\n[6] S. Ham, W. Jung, D. Lee, Y. Lee, and G. Han, “Ramp slope built-in-self-\ncalibration scheme for single-slope column analog-to-digital converter\ncomplementary metal–oxide–semiconductor image sensor,” Jpn. J. Appl.\nPhys., vol. 45, no. 7, pp. L201–L203, Feb. 2006.\n[7] Y. Nitta, Y. Muramatsu, K. Amano, T. Toyama, J. Yamamoto, K. Mishina,\nA. Suzuki, T. Taura, A. Kato, M. Kikuchi, Y. Yasui, H. Nomura, and\nN. Fukushima, “High-speed digital double sampling with analog CDS\non column parallel ADC architecture for low-noise active pixel sensor,”\nin Proc. IEEE ISSCC Dig. Tech. Papers, San Francisco, CA, Feb. 2006,\npp. 2024–2031.\n[8] S. Yoshihara, Y. Nitta, M. Kikuchi, K. Koseki, Y. Ito, Y. Inada,\nS. Kuramochi, H. Wakabayashi, M. Okano, H. Kuriyama, J. Inutsuka,\nA. Tajima, T. Nakajima, Y. Kudoh, F. Koga, Y. Kasagi, S. Watanabe, and\nT. Nomoto, “A 1/1.8-inch 6.4 Mpixel 60 frame/s CMOS image sensor\nwith seamless mode change,” IEEE J. Solid-State Circuits, vol. 41, no. 12,\npp. 2998–3006, Dec. 2006.\nDongsoo Kim (S’06) received the B.S. and M.S.\ndegree from the Department of Electrical and Elec-\ntronic Engineering, Yonsei University, Seoul, Korea,\nin 2001 and 2004, respectively, where he is currently\nworking toward the Ph.D. degree in electrical and\nelectronic engineering.\n[9] M. F. Snoeij, P. Donegan, A. J. P. Theuwissen, K. A. A. Makinwa, and\nJ. H. Huijsing, “Multiple-ramp column-parallel ADC architectures for\nCMOS image sensors,” IEEE J. Solid-State Circuits, vol. 42, no. 12,\npp. 2968–2976, Dec. 2007.\nHis research interests include a CMOS image\n[10] L. Lindgren, “A new simultaneous multislope ADC architecture for array\nimplementations,” IEEE Trans. Circuits Syst. II, Exp. Briefs, vol. 53, no. 9,\npp. 921–925, Sep. 2006.\nsensor and a smart sensor.\n[11] “Double-ramp ADC for CMOS sensors,” U.S. Patent 6 670 904, Dec. 30,\n2003.\n[12] J. Lee, S. Lim, and G. Han, “A 10 b column-wise two-stage single-slope\nADC for high-speed CMOS image sensor,” in Proc. IEEE Int. Image\nSensor Workshop, Ogunquit, ME, Jun. 2007, pp. 196–199.\n[13] B. Razavi, Principles of Data Conversion System Design. New York:\nIEEE Press, 1995.\n[14] S. Lim, J. Cheon, S. Ham, and G. Han, “A new correlated double sampling\nand single slope ADC circuit for CMOS image sensors,” in Proc. Int. SoC\nDes. Conf., Seoul, Korea, Oct. 2004, pp. 129–131.\nSeunghyun Lim (S’06) received the B.S. and M.S.\ndegrees from the Department of Electrical and Elec-\ntronic Engineering, Yonsei University, Seoul, Korea,\nin 2003 and 2005, respectively, where he is currently\nworking toward the Ph.D. degree, focusing on analog\nand mixed-signal design.\nGunhee Han (M’97) received the B.S. degree from\nYonsei University, Seoul, Korea, in 1990 and the\nPh.D. degree from Texas A&M University, College\nStation, in 1997.\nHe was with Texas A&M University until 1998.\nHe is currently an Associate Professor with the De-\npartment of Electrical and Electronic Engineering,\nYonsei University. His research interests include a\nCMOS image sensor, a high-speed serial communi-\ncation, and a Δ–Σ modulator.\nHis research interests include a CMOS image\nsensor and a high-speed ADC.\n']",
"A Column Level, Low Power 1MSs Double Ramp AD Converter for Monolithic Active Pixel Sensors in High Energy Physics.pdf","['ARTICLE IN PRESS\nNuclear Instruments and Methods in Physics Research A 620 (2010) 252–259\nContents lists available at ScienceDirect\nNuclear Instruments and Methods in\nPhysics Research A\njournal homepage: www.elsevier.com/locate/nima\nReview\nA column level, low power, 1 M sample/s double ramp A/D converter for\nmonolithic active pixel sensors in high energy physics\nN. Pillet n, S. Heini, Y. Hu\nInstitut Pluridisciplinaire Hubert-Curien, UMR 7178 CNRS/ULP, 23, rue du Loess, 67037 Strasbourg Cedex, France\na r t i c l e i n f o\na b s t r a c t\nMonolithic active pixel sensors (MAPS) using standard low cost CMOS technologies available from\nindustrial manufacturers have demonstrated excellent tracking performances for minimum ionizing\nparticles. The need for highly granular, fast, thin sensors with a full digital output drives an R&D effort,\naiming to design and optimize a low power high speed A/D converter integrated at the column level.\nFollowing this main issue, a double digital ramp A/D converter has been proposed for CMOS monolithic\nactive pixel sensors in this paper. This A/D converter responds to the constraints of size, power\ndissipation and precision for CMOS sensors for particle detection. It also represents a ﬁrst step in order\nto reach the high speed of conversion needed for this kind of application. The A/D converter has a\nresolution of 4 bits for conversion speed of 1 M sample/s with only 264 mW of static consumption in a\nvery particular pitch of 25 mm (cid:2) 900 mm.\nArticle history:\nReceived 23 January 2009\nReceived in revised form\n17 March 2010\nAccepted 23 March 2010\nAvailable online 8 April 2010\nKeywords:\nMAPS\nADC\nCMOS\nLow power\n& 2010 Elsevier B.V. All rights reserved.\nContents\nIntroduction . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 252\n1.\n2.\nClassic Wilkinson A/D converter . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 253\n3. Double digital slope Wilkinson converter. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 255\n4.\nBuilding blocks design and ADC simulations . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 255\n5. Measurement results . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 258\nConclusion and outlook . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 258\n6.\nReferences . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 259\n1.\nIntroduction\nThe detection of charged particles in high energy physics or\nmedical\nimaging applications is a real challenge for today’s\nmicroelectronics sensors. CMOS monolithic active pixel sensors\nare charged particle tracking devices, integrating on the same\nsubstrate radiation sensitive detector elements with their front-\nend readout electronics. They are fabricated using standard CMOS\nprocesses available through many commercial microelectronics\nfoundries. The detection principle of a MAPS is illustrated in Fig. 1.\nWhen a charged particle passes through the sensor, a number of\nelectrons are created in the epitaxial (epi) layer. These electrons\nwill be collected with thermal diffusion by the diode D1 and then\nconverted by the capacitors Cqonv to a voltage, the value of which\nis directly determined by the number of electrons created in the\nepi layer.\nSilicon detectors have found use in many ﬁelds of experi-\nmental physics research. Their applications extend to nuclear and\nparticle physics, astrophysics, crystallography and medicine for\nimaging, tracking, mechanical alignment, etc. Especially in high\nenergy physics experiments highly granular,\nthin, radiation\ntolerant, fast and multi-layer silicon detectors have to be installed\nvery close to the interaction region to detect the charged particles\n[1,2]. In comparison to existing devices (CCDs, hybrid pixels), the\nCMOS monolithic active pixel sensors (MAPS) are foreseen to\nfulﬁll these requirements and may offer an attractive trade-off\nbetween granularity, material budget, radiation tolerance and\nread-out speed for high precision minimum ionizing particle\n(M.I.P) tracking.\nThe most signiﬁcant advantage of CMOS technology is that the\nsensitive volume and the front end readout electronics are\nintegrated on the same substrate [3]. Furthermore CMOS\ntechnology features a good radiation tolerance [4]. MAPS\ntechnology is investigated in the development of a vertex detector\nn Corresponding author.\nE-mail address: nicolas.pillet@ires.in2p3.fr (N. Pillet).\n0168-9002/$ - see front matter & 2010 Elsevier B.V. All rights reserved.\ndoi:10.1016/j.nima.2010.03.132\nARTICLE IN PRESS\nN. Pillet et al. / Nuclear Instruments and Methods in Physics Research A 620 (2010) 252–259\n253\nVout\n\nIs¢_bias\n\nsubstrate\n\nParticle track\nFig. 1. MAPS architecture.\nrequirements for the ILC experiment. At the end of the column the\nnoise level is (cid:3) 2–3 mV rms after ampliﬁcation. In order to keep a\ngood resolution on the lower code of the ADC the least signiﬁcant\nbit (LSB) is set to two times the noise level. For a 4 bit ADC with\n125 mV full dynamic range the LSB represents 7.4 mV.\nfor high energy physics experiments [5]. The architecture of such\ndevice is shown in Fig. 2. A vertex detector for the international\nlinear collider (ILC) [6] will be composed of ﬁve layers of\ndetectors, each of which consists of ladders of CMOS sensors. An\nartist’s view of the vertex detectors is presented in Fig. 2(a). The\nﬁrst layer of the detector will be the hardest to design because of\nseveral requirements: high radiation tolerance, high spatial\nresolution and huge data rate. This layer will be directly\ninstalled on the vacuum tube.\nIn the past four years the\nresearch effort has concentrated on the development of an array\nof CMOS pixels with a discriminator at the end of each column.\nEfﬁcient circuits have been developed with very promising results\n[7,8]. For the ILC experiment a better spatial resolution on the\nmatrix is needed; in order to obtain this resolution ( (cid:3) 2 mm of\nspatial resolution) an analog to digital converter (ADC) must be\nintegrated instead of a discriminator at the end of each column.\nAs shown in Fig. 2(b), the pitch of the A/D converter is directly\nset by the pixel pitch; in this application a pitch of 25 mm has\nbeen used. Moreover, the vertex detector is the ﬁrst layer in the\nglobal detector architectures. Therefore the power dissipation has\nto be very low because the complete architecture of the vertex\ndetectors does not allow heavy cooling devices; consequently the\nmaximum power dissipation for the A/D converter for this kind of\napplication must be under 500 mW.\nThe digitalization of information is the critical point of every\nactual electronic system. For each application with its speciﬁc\nrequirements, a correct A/D converter architecture has to be\nchosen according to accuracy, speed and power consumption.\nEach ADC has its advantages and weakness that make it more\ncompatible with different applications. To compare the different\narchitectures some formulae have been developed using the key\npoints generally accepted for a converter design: the speed of\nconversion, the accuracy in bits, power dissipation, etc [9].\nDifferent column level A/D converter architectures have been\ndeveloped like [10], or[11], with some good results, but all these\nA/D converters were designed for low frequency applications like\nimage sensors for the visible spectrum. For vertex detector\napplications the conversion speed must be higher than 1 M\nsamples/s to allow an efﬁcient tracking of particles. For this\nreason a new approach is presented in this paper.\nConsidering the different drawbacks set by our applications,\nsuch as integrating the A/D converter in a pitch of 25 mm, a\nconversion speed of 1 M samples/s and a power consumption of\n500 mW, the Wilkinson ADC represents a good choice to fulﬁll the\nrequirements.\nWhen a charged particle passes through a CMOS sensor, the\ncharge created in the epitaxial layer is collected by a cluster of\npixels due to thermal diffusion. About (cid:3) 25–30% of the charge is\ncollected by the seed pixel (1 in Fig. 3) and the rest is shared\namong other pixels in the cluster (2 in the Fig. 3). Table 1 shows\nthe ADC resolution versus position resolution for a pixel pitch of\n20 mm. As shown in Table 1, the position resolution does not\nimprove linearly with the precision of the ADC. A 4 bit ADC allows\na precision of 2 mm on the cluster, which corresponds to the\n2. Classic Wilkinson A/D converter\nThe complete architecture is presented in Fig. 4. When the\ncomparator output is low (input voltage larger than integrator\noutput), the integrator charges the capacitor with a constant\nARTICLE IN PRESS\n254\nN. Pillet et al. / Nuclear Instruments and Methods in Physics Research A 620 (2010) 252–259\nsy9ysi60s ylys 42)n319\npue Jepeo| Wweyedg\n\nOn chip\nDigital\n\ncontrol\npart\n\nNumeric Treatment\n\npixel\n\nTable 1\nNumber of bits of the ADC versus spatial resolution on the matrix.\n||\n||\n|Numberofbits 12 5 4 3|\n||\n|Spatialresolutioninmm 1.55 1.7 2 2.2|\n||counter\n\nOutput bits\nFig. 4. ADC classic Wilkinson architecture.\ncurrent creating a linear ramp. Meanwhile, the counter (CTR) is\ncounting at a rate ﬁxed by the precision clock frequency. The time\nneeded to charge up the capacitor to the input voltage level\ndepends on the input signal\nlevel and the combination of\nthe current (I) and the capacitor (C) with the simple equation\ndv/dt¼i/c. When the voltage integration in the capacitor reaches\nthe converted voltage level, the comparator output becomes high,\nloading the counter’s output into the shift register, which contains\nnow the digital conversion value. The switch transistor is closed\nby the comparator’s high output, discharging the capacitor back to\nzero volt. When the integrator output voltage falls to zero, the\ncomparator output switches back to a low state, clearing the\ncounter and enabling the integrator to start a new analog ramp\nvoltage for an another conversion.\nFig. 2. (a) Vertex detector. (b) CMOS sensor.\nThe precision of the Wilkinson A/D converter depends on two\nmain blocks: the ramp generator and the counter. The precision of\nthe ramp directly determines the precision of the conversion. The\nbit number of the counter must be correlated with the precision of\nthe ramp to achieve efﬁciently the design accuracy. The speed of\nWilkinson A/D is directly determined by the counter, i.e. by the\nclock frequency. A high speed Wilkinson converter will need a\nhigh frequency, which involves larger dynamic power consump-\ntion. For example, a 4 bit conversion needs 16 clocks. This implies\na clock frequency of 20 MHz for a conversion speed of 1 ms.\nThe Wilkinson architecture has several advantages for the\napplications of a vertex detector. The principle is simple;\nconsequently the static power dissipation is very low, and\nmoreover this simplicity implies also a small pitch size, because\nthe architecture does not need too many elements. As mentioned\nabove, the Wilkinson A/D converter also exhibits some weakness:\nthe ramp generator is the critical design block. If the application\nhas a small dynamic range for the ramp, the effects of clock\nfeedthrough from the MOS switches will become a real perturba-\ntion. Another problem for a classic Wilkinson architecture comes\nfrom the dispersion of process parameters on the capacitor\ndesigned in polysilicon from the ramp generator. A Monte Carlo\nanalysis shows that for a polysilicon capacitor in Austriamicro-\nsystems 0.35 mm technology,\nthe process dispersion is an\nimportant problem. For an analog ramp generator using a 200 fC\ncapacitor, a maximum gain error of 20% for a 100 mVramp has been\nFig. 3. Concept of the seed pixel.\nARTICLE IN PRESS\nN. Pillet et al. / Nuclear Instruments and Methods in Physics Research A 620 (2010) 252–259\n255\nobserved. This gain error is greater than twice the LSB and cannot\nbe accepted for vertex detecting applications.\nramp is replaced by a digital ramp generator with a 4 bit D/A\nconverter. One interesting beneﬁt of the use of a digital ramp\ngenerator instead of an analog one is the decrease of static power\ndissipation. Moreover the main advantage of the new architecture\nis to transform a conversion associated with a 4 bit counter into\ntwo conversions associated with a two bits counter, which\nconsists of a double ramp conversion and increases effectively\nthe conversion speed.\nThe problem with the offset can be ﬁxed by using an offset\ncompensation device, which implies an augmentation of the\nsurface of the A/D converter. All this observation forced us to\ndevelop a new architecture based on the Wilkinson A/D conver-\nsion principle.\nIn the ﬁrst part, a conversion is made with two bits on the full\nscale of the converter: a digital control selects a decreasing binary\ncode into the D/A converter with the signals D0, D1, D2, D3. Then\nthe D/A converter generates the correct level of voltage associated\nwith the code. This voltage is then compared with the voltage to\nconvert by a latched comparator driven by the signal latch. When\nVdac decreases below Vin the comparator ﬂips and the state of the\nsignals D0, D1, D2, D3 is stored. This signal is memorized and\ngives the two most signiﬁcant bits (MSB). In the second part a\nsecond two bit conversion is made starting on the last MSB analog\nvalue but this time with a full scale of only one MSB. The outputs\nof the D/A converter and of the comparator for a complete\nconversion are shown in Fig. 6.\n3. Double digital slope Wilkinson converter\nAs discussed above, the analog ramp generator is a critical\nblock which cannot deliver satisfying results for our application. A\nnew architecture shown in Fig. 5 has been proposed. The analog\nDO, D1, D2, D3\n\nDAC 4 bits\n\nVdac\n\nVcom\n\nVi\n\nNumeric\nControl\n\ncounter\n\nOutput bits\nThis way to convert in the new architecture offers a main\nadvantage. Only eight clock counts are needed to convert a 4 bit\nword instead of sixteen for a classic Wilkinson structure. This is a\ngain of a factor two in clock counts and implies that for a 1 M\nsample/s a 10 MHz clock could be used instead of 20 MHz for the\nsame conversion speed. This kind of architecture could be even\nmore powerful for higher resolution A/D conversion with a saving\nof 2(n/2-1) clock counts compared to the classic Wilkinson\narchitecture (with n ¼number of bits).\nThis architecture could be compared to a successive approx-\n[13]. The major\nimation register A/D converter (SAR ADC)\ndifference between these two architectures is the principle of\nconversion. In a SAR ADC each bit is tested and the result of this\ntest is used for the test of the next bit. As a result of the successive\napproximation register is much more complex to design. This\ndigital part of the SAR converter requires a greater surface and a\ngreater number of logic gates (and so a greater dynamic power\nconsumption) than the double digital slope Wilkinson converter.\nThe new A/D converter has to cover a dynamic range of\n125 mV or a minimum step of 7.8 mV corresponding to the LSB\nchanges. The sampling rate is 1 M sample/s with a clock frequency\nof 10 MHz and the static power consumption of 264 mW can be\ncalculated. The estimated dynamic power dissipation is 480 mW\nat a conversion rate of 1 M Sample/s.\nFig. 5. New proposed architecture.\nVoac\n\nVin\n\na\n<\n£\n@\n£\ni\n\nVcomp\n\nTime in ns\n\n100\n\n50\n\ntime\n4. Building blocks design and ADC simulations\nThe comparator is an important element for an A/D converter\ndesign [12] in order to get high resolution, high conversion speed\nand lower power dissipation. The solution developed here is\nclassical latch architecture. This architecture is commonly used in\nADCs. Fig. 7 shows the detail of the design. The comparator is\ncomposed of a ﬁrst ampliﬁer stage in order to get a good\nampliﬁcation of the signal. Then two buffers allow to avoid any\nkickback from the clock through the latch stage. And the structure\nends with a latch block. Each edge on the clock signal will cause\nthe comparator to perform a comparison. In our simulation the\nfour and a total static power\ncomparator shows a gain of\ndissipation of 264 mW. The response time of the complete\nstructure is 2 ns. The architecture of the latch presented in\nFig. 8 is a conventional sens-ampliﬁer ﬂip ﬂop with an\nequalization of the voltages on the regenerative nodes.\nFor a comparator without any offset compensation system, a\nMonte Carlo analysis allows determining a random offset of 8 mV,\nFig. 6. Example of a complete conversion.\nARTICLE IN PRESS\n256\nN. Pillet et al. / Nuclear Instruments and Methods in Physics Research A 620 (2010) 252–259\nV_ref V_ref\nPhi_offset_b 4 7}\n\n“1\n\nLEbi_offset\n\nPhi_offset_b f Phi_offset\nV_ref Vitet\n\nclk\nFig. 7. Architecture of the latched comparator.\nFig. 8. Detail of the latch structure of the comparator.\nviv)\n\n1.49754\n\n1.49:\n\nvw)\n\nVcomp\n\nvint\n\npoe v)\n\n3.04\n24\n2.04\nisd\n104\n\n-5\n\nVin2\n\n90\n\nT\n1.0\n\ntime (us)\n\n1.\n\nFig. 9. A simulation for the response time of comparator.\nwhich is larger than an LSB of the A/D converter. Then, an offset\ncompensation has to be realized to minimize this offset.\nclosed and the switches operated by Phi_offset_b are opened. The\noffset voltage is stored in the capacitors C1 and C2. Subsequently\nthe switches controlled by Phi_offset are opened whereas the\nswitches controlled by Phi_offset_b are closed. The offset voltage\nis subtracted from the input voltage. The offset compensation\nallow one to lower the offset of the comparator to 2 mV, which is\nIn a comparator design, the offset is well known as an\nimportant problem. To reduce this problem an offset compensa-\ntion has been performed with two capacitors (C1 and C2). In the\nﬁrst phase the switches controlled by the signal Phi_offset are\nARTICLE IN PRESS\nN. Pillet et al. / Nuclear Instruments and Methods in Physics Research A 620 (2010) 252–259\n257\nVes. dac\n\ni Ref_p\n\n~— Ref_m Vietp\n\ngnd = gnd\nFig. 10. Architecture of a 4 bit switched capacitors DAC.\nis_dac\n5:\n\n1.45\n\nviv)\n\nvv)\n\n0 0.50 1.0 1.5\ntime (us)\nFig. 11. A complete conversion of the ADC.\nless than 1/2 LSB. The preampliﬁer stage needs a current of 50 mA\nand the two buffer stages need a current of 15 mA each. Fig. 9\nshows the simulated response of the comparator. The ﬁrst two\ncurves represent the two inputs of the comparator. If Vin4Vramp,\nthe state of the comparator changes with the next rising edge of\nthe clock with a two nanosecond latency.\n00000000000000000000\n\nSSSCSCSCSCSCSCOCSCSCOCSS SCHSSCSSOSSSOSCSO=\nalll\n\n‘ll 2\n\n4 >\n\n‘eae rey >\n4 338 >\n— =\n\nss = 5 OF 2\n\neee >\n\n=>\n\n; HIGEEE\n\n: ; == ==S===: 2\n\nA four bit D/A converter with a dynamic range of 125 mV is\nimplemented in the design. The architecture is shown in Fig. 10. It\nuses an array of binary-scaled capacitors and a set of switches that\nconnect the scaled capacitors to the reference voltages VREFN or\nVREFP. With the correct set of the switch the output of the D/A\nconverter is set from VREFP to VREFN with a step of 1/16\n(VREFP–VREFN). The value chosen for the capacitor C is 200 fF. A\ncomplete simulated conversion is presented in Fig. 11. The ﬁrst\nsignal is the main clock of the ADC. Then, the outputs of the ADC are\ndisplayed (signal out0 to out3) and the last plot represents the input\nto convert (1) and the output of the DAC (2). After a ﬁrst set phase of\n1 ms during which all the systems are reset and the offset is\ncompensated, the ﬁrst part of the conversion begins. When the input\nvoltage increases above the DAC voltage, the comparator changes\nstate, ending the ﬁrst part of the conversion. The D/A converter\nvoltage is blocked. Then the second part of the conversion begins.\nThis part is running exactly in the same way as the ﬁrst except that\nthe input voltage of the D/A converter presents a full dynamic of\n1 MSB. When the D/A converter decreases below Vin the comparator\nchanges state again and the D/A voltage is blocked. At the end of the\nconversion the output signals are set to the appropriate value 0110,\nand a new conversion can be started. It is interesting to note that the\ninitialization part at the beginning of the conversion is only required\nFig. 12. ADC die picture.\nARTICLE IN PRESS\n258\nN. Pillet et al. / Nuclear Instruments and Methods in Physics Research A 620 (2010) 252–259\nthe D/A converter. The result of these simulations reveals a noise\nRMS of 38 mV.\nfor the ﬁrst one, later the reset operation needs only 20 ns to be\nperformed.\nA kTC noise simulation had been done with mentor graphic\nELDO simulation software to establish the noise contribution of\n5. Measurement results\nTable 2\nADC measured performances.\nIn order to investigate the feasibility of the A/D converter\ndiscussed above, a ﬁrst prototype of twelve A/D converters with\ntwo different architectures of sample and hold on the top of the\nstructure has been designed and fabricated in Austriamicrosys-\ntems 0.35 mm CMOS process. The layout of the chip is shown in\nFig. 12. With 12 converters the crosstalk between each converter\nwill be studied. In order to be integrated in the column level of\nthe matrix,\nthe ADC has been designed in a pitch of\n25 mm (cid:2) 900 mm. The complete chip size is 3040 mm (cid:2) 2090 mm.\nTable 2 summarizes the main results for the ADC.\n||\n||\n|Numberofbits 4 Powerdissipation(static) 350mW Conversionspeed 1Msamples/s Dynamicrangeofconversion(baseline1.5V) 128mV ENOB 3.89 SINDA(dB) 24.9 LSB 7mV|\n||LSB\n\nLSB\n\n0.5\n\nA\n\n0.5\n\n0.5\n\n4\n\n6 8\nCode Number\n\n6 8\nCode Number\n\n10\n\n10\nThe ADC test software has been developed in our laboratory\nusing both LabVIEW from national instruments and matlab from\nthe mathworks. The differential non linearity (DNL) error and the\nintegrated non linearity error (INL) are calculated using the code\ndensity test [13]. The ADC is fully operative with a dynamic range\nof 125 mV at a clock frequency of 10 MHz, which corresponds to\n1 M samples/s.\nFig. 13 presents the results for DNL and INL plotted for a 1 M\nsamples/s conversion with a 128 mV dynamic. DNL results are\nbetween + 0.3 and -0.8 LSB (due to a code error) and the INL is\nbetween +1 and -0.4 LSB. As explained in the ﬁrst part, the lower\ncodes of the ADC are the most important. An error of 1 LSB in the\nINL error for the code 13 is not an important problem for vertex\ndetector application. The results of the DNL and INL for the ﬁrst\nsix codes are below 0.5 LSB. These results are acceptable for\nvertex detection in high energy physics.\nThe response of a slow ramp is shown in Fig. 13. The complete\ndynamic of conversion was 128 mV with a clock speed of 10 MHz\n(which represents 1 M samples/s). It is interesting to notice that\nthe error code between code twelve and thirteen is only in the\nascendant conversion. This problem is probably due to the fact that\nthree switches are moving together for the transition between code\ntwelve and thirteen. In the layout of the DAC, the command lines of\nthe switch were not properly isolated one from another and\ngenerate some perturbation when all the lines switch together.\nThis problem has been ﬁxed by drawing a new layout in which\ncapacitors between command lines have been reduced Fig. 14.\n6. Conclusion and outlook\nIn this paper, a new ADC design based on a Wilkinson\narchitecture integrated at the column level of a CMOS pixel\nFig. 13. (a) INL error. (b) DNL error.\nOutput Code\n\n16\n\n4\n\nR\n\n10\n\n148,\n\n1513\n\n1.545\n\nInput Voltage (mV)\n\n1578\n\n1.610\n\n1.642\nFig. 14. Response to a 130 mV linear ramp.\nARTICLE IN PRESS\nN. Pillet et al. / Nuclear Instruments and Methods in Physics Research A 620 (2010) 252–259\n259\nmatrix has been presented. The simulated results show that the\narchitecture offers many interesting performances such as low\npower consumption and a high speed sampling rate of 1 MHz/\nsample. Due to these optimized characteristics, this kind of ADC\ncan be used for CMOS monolithic active pixel sensors in high\nenergy physics. Considering the very encouraging results of this\nA/D converter a new prototype will be designed with the\nobjective of 10 MS/s to fulﬁll the requirement for next generation\nof tracking sensors in future high energy physics experiments.\nHimmi, Christine Hu, Kimmo Jaaskeleinen, Michal Szelezniak, Isabelle Valin,\nMarc Winter, IEEE Trans. Nucl. Sci. NS-54 (1) (2007) 284.\n[4] M. Deveaux, G. Claus, G. Deputch, W. Dulinski, Y. Gornushkin, M. Winter,\nNucl. Instr. and Meth. A 512 (2003) 71.\n[5] G. Deputch, J.D. Berst, G. Claus, C. Colledani, W. Dulinski, Y. Gornushkin\nD. Husson, J.L. Riester, M. Winter, IEEE Trans. Nucl. Sci. NS-49 (2) (2002)\n601.\n[6] International linear collider, Reference design report, detectors, ILC-Report-\n2007-001, 978-92-9083-307-7.\n[7] Y. Degerli, G. Deptuch, N. Fourches, A. Himmi, Y. Li, P. Lutz, F. Orsini\nM. Szelezniak, IEEE Trans. Nucl. Sci. NS-52 (6) (2005) 3186.\n[8] Y. Degerli, A. Besson, G. Claus, M. Combet, A. Dorokhov, W. Dulinski, M. Goffe,\nA. Himmi, Y. Li, F. Orsini, IEEE Trans. Nucl. Sci. NS-56 (1) (2009) 354.\n[9] B. Le, T.W. Rondeau, IEEE Signal Processing Magazine (2005) 69.\nReferences\n[10] D. Lee, K. Cho, D. Kim, G. Han, IEEE Trans. Electr. Devices 55 (12) (2008)\n3383.\n[1] J. Bagger, The case for a 500 GeV e e linear collider BNL-67545, LBNL-46299\n[11] A. Mahmoodi, D. Joseph, IMTC 2007—IEEE Instrumentation and Measure-\nSLAC-PUB-8495 UCRL-ID-139624, July 2000.\nment Technology Conference (2007).\n[2] M. Battaglia, Nucl. Instr. and Meth. A 473 (1–2) (2001) 75.\n[3] Wojciech Dulinski, Auguste Besson, Gilles Claus, Claude Colledani, Grzegorz\nDeptuch, Michael Deveaux, Goetz Gaycken, Damien Grandjean, Abdelkader\n[12] B. RAZAVI, Data Conversion System Design, IEEE press 0-7803-1093-4.\n[13] W. Kestler, The Data Conversion Handbook, Elsevier 0-7506-7841-0.\n']",
A 3.6pW frame x Pixel 1.35V PWM CMOS Imager with Dynamic Pixel Readout and no Static Bias Current.pdf,"['Please click on paper title to view Visual Supplement.\n|ISSCC 2008 / SESSION 2 / IMAGE SENSORS & TECHNOLOGY / 2.6||2.6\nA  3.6pW/frame·pixel  1.35V PWM CMOS  Imager \nwith  Dynamic  Pixel  Readout  and  no  Static  Bias \nCurrent\nthe precharged level. After the latch memory storing the temporary\nADC  result  is  initialized  by  activating  the  signal  INITMEM,  a\ndecremental ramp waveform from the ramp generator is applied to\nVRAMP<j>  through  the  ramp  selector.  The  in-pixel  CGA  (MAMP)\ncompares  VRAMP<j>  with  the  PD  voltage,  VPD<i,j>.  The  start  and\nend  voltages  of  the  ramp  are  denoted  by  VRAMP,ST and  VRAMP,END,\nrespectively. When VPD<i,j> - VRAMP<j> reaches VTH,AMP, MAMP turns\non to quickly discharge VSIG<i> down to VRAMP<j> from VDD. Note\nthat VTH,AMP is the VTH of MAMP. The pulse width is defined by the\nperiod from the start of the ramp to the time when VSIG<i> becomes\nequal to the threshold voltage of the column comparator, VTH,CMP.\nThe  pulse  width  depends  on  the  voltage  drop  of  the  PD  during\naccumulation, Δ VPD<i,j>, from the reset level including pixel FPN,\nVPD,RST<i,j>.  Note  that  VPD<i,j> = VPD,RST<i,j> - Δ VPD<i,j>.  The\nmethod for converting the pulse width to a digital value is the same\nas a single-slope ADC [6]. MAMP requires a bias current only during\nthe  reset  period.  In  this  period,  VRAMP<j>  is  set  to  VRAMP,RST.  The\ncomparator  works  as  a  common-source amplifier,  and  VPD<i,j>  is\nreset to VPD,RST<i,j> = VRAMP,RST + VTH,AMP<i,j>. It is known that such\na  feedback  resetting  configuration  reduces  the  pixel-level  FPN\nincluded  in  VTH,AMP<i,j>.  In  the  accumulation  period,  VRAMP<j>\nbecomes VRAMP,HLD (= VDD) to turn MAMP completely off to suppress\nsub-threshold leakage.\nKeiichiro Kagawa1, 2, Sanshiro Shishido1, Masahiro Nunoshita1, Jun Ohta1\n1Nara Institute of Science and Technology, Ikoma, Japan\n2Osaka University, Suita, Japan\nLow-power  operation  of  CMOS  imagers  using  a  low  voltage\n(around 1V or less) compatible with deep submicron logic circuits\nenables  new  imager  applications, such  as  disposable  medical\ncameras and  autonomous  wireless  security  cameras on  a  chip.\nPulse width modulation (PWM) [1-2] is promising for this purpose.\nA PWM pixel can convert light intensity to a digital pulse width by\nusing  an  in-pixel  comparator  with  a  low  power-supply  voltage\nwithout any degradation of signal-to-noise ratio (SNR). The benefit\ncomes from a small jitter noise in pulse coding, which is suppressed\nby  using  a  voltage  gain  larger  than  unity  for  the  in-pixel\ncomparator. In contrast, the source-follower used in a CMOS active\npixel sensor (APS) suffers from degraded SNR due to its gain being\nless than unity.\nOne  of  the  critical  issues  in  PWM  imagers  is  pixel  size  [2-3].  To\nshrink  the  pixel  size,  we  have  demonstrated  a  3T/pixel\nconfiguration  with  an  in-pixel  common-gate  amplifier  (CGA) [4].\nThe  CGA  PWM  scheme  simplifies  the  sensor  structure  by\neliminating  the  large capacitors  required  for  correlated  double\nsampling  (CDS).  These  large  capacitors  are  not  required because\nthe feedback reset of the photodiode (PD) used in the CGA PWM\nscheme  suppresses  the  pixel  fixed-pattern-noise  (FPN)  and the\nremaining FPN is further suppressed with digital CDS.\nIn the circuit design, the resistance of the horizontal ramp signal\nline must be small enough to suppress its input-image-dependent\nvoltage  fluctuation.  The  maximum  fluctuation  is  approximately\nproportional to the square of the number of horizontal pixels, the\nresistance, and  the  peak  current  of  the  in-pixel  comparator  per\npixel,  which  should  be  less  than  1/2 the  LSB  of  an  ADC.  Pixel\nlayout  is  also  important  to  avoid  unexpected  discharge  of  the\nvertical signal lines by the photo-generated carriers.\nIn  this  paper,  we  propose  and  demonstrate  a  low-power  dynamic\npixel  readout  (DPR)  scheme  with  CGA  PWM  pixels  based  on\ndynamic operation of in-pixel comparators. DPR requires no static\nbias current even in the pixel readout. The power dissipation of the\npixel array is dramatically reduced by 1 to 2 orders of magnitude\ncompared with using normal static pixel readout (SPR).\nFigure  2.6.4  shows  a  micrograph  of  the  CGA  PWM  imager.  A\ntiming  generator  and  a  bias  circuit  are  provided  off-chip.  Figure\n2.6.5 shows a captured image with DPR after digital CDS. For each\nrow,  readout  of  the  signal  level  was  followed  by  that of  the  reset\nlevel and external digital CDS (subtraction of the reset level from\nthe signal level) was performed off-chip.\nOrdinary source-follower-based APSs biased by constant currents\ncannot use dynamic power reduction techniques for digital circuits\n(e.g.,  see  Chapter  14  in  [5]).  To  implement  DPR in  this  work,\ncurrent load activation and precharge switches were added to each\nvertical signal line. Static bias current is required only during pixel\nreset, which minimizes power dissipation because the reset period\nis  very  short.  A  128×96-pixel  CGA  PWM  imager  with  column-\nparallel  9b ADCs  was  prototyped  in  a  standard  0.35μ m  CMOS\ntechnology.  When  the  imager was  operated  with  a  single  1.35V\npower supply, the figure-of-merit (FOM) of the power dissipation,\nwhich is defined by normalizing the power dissipation at the pixel\narray by the product of the frame rate and the number of pixels, in\nSPR was reduced from 128pW/frame pixel to 3.6pW/frame pixel\nwith  DPR.  The  experimental  results  suggest  that  the  proposed\nscheme  should  enable  the  realization  of a  100μ W, 30fps, 1Mpixel\nimager  or  a  144μ W, 8fps, 5Mpixel  imager.  Use  of  low-threshold\ntransistors with a VTH less than 0.25V will enable a sub-1-V imager\nusing this scheme, although VTH was around 0.6V in the prototype.\nFigure 2.6.1 shows a simplified schematic of the CGA PWM imager\nincluding  its  pixel  circuit.  Note  that  index  <i,j>  indicates  the\nhorizontal  (column)  and  vertical  (row)  positions  in  the  array.  To\ncompletely  turn  on  the  switches,  bootstrapping  was  used  in  the\nramp-selector, row-select, and row-reset transistors.\nThe table in Fig. 2.6.6 compares characteristics of DPR with those\nof SPR; the sensor chip was the same, but the applied signals were\ndifferent.  The  in-pixel  comparator  gain  was  defined  by  the  slew\nrate of the discharging period of the pixel output divided by that of\nthe incident ramp signal. The power dissipation levels with DPR in\nthe pixel array and the whole chip were reduced to 2.8% and 74%\nof  those  with  SPR,  respectively.  Random  noise  was  reduced\npossibly because there was no noise contribution from the current\nsource in DPR. The FOMs for DPR and SPR of the prototype, and\nfor the imager in [7] with a 1.5V power supply were 3.6, 128, and\n8.7pW/frame pixel,  respectively.  The  scheme presented  here has\nthe lowest power dissipation.\nAcknowledgments:\nThe VLSI chip used in this study was fabricated in the chip fabrication pro-\ngram of the VLSI Design and Education Center (VDEC) at the University of\nTokyo  in  collaboration  with  Rohm  Corporation  and  Toppan  Printing\nCorporation. We are grateful to Mr. Sasaki at Denso for his cooperation.\nReferences:\n[1] M. Nagata, M. Homma, N. Takeda et al., “A Smart CMOS Imager with\nPixel  Level  PWM  Signal  Processing,” Symposium  on  VLSI  Circuits Dig.\nTech. Papers, pp. 141-144, June 1999.\n[2]  D.X.D.  Yang, A.  El  Gamal,  B.  Fowler  et  al.,  ”A  640×512 CMOS  Image\nSensor  with  Ultrawide  Dynamic  Range  Floating-Point  Pixel-Level  ADC,”\nIEEE J. Solid-State Circuits, pp. 1821-1834, Dec. 1999.\n[3]  M.  Shouho,  K.  Hashiguchi,  K.  Kagawa  et  al.,  “A  Low-Voltage  Pulse-\nWidth-Modulation Image Sensor,” 2005 IEEE Workshop on Charge-Coupled\nDevices and Advanced Image Sensors, pp. 226-229, June 2005.\n[4]  K.  Kagawa,  S.  Sanshiro,  T.  Sasaki  et  al., “A  Low-Voltage  PWM  CMOS\nImager with Small Pixel Size Using an In-Pixel Gate-Common Comparator,”\nIEICE Electronics Express, pp. 271-276, Apr. 2007. \n[5] R. Baker, H. W. Li and D. E. Boyce, CMOS Circuit Design, Layout, and\nSimulation, Wiley-InterScience, New York, 1997.\n[6] T. Sugiki, S. Ohsawa, H. Miura et al., “A 60mW 10b CMOS Image Sensor\nwith Column-to-Column FPN Reduction,” ISSCC Dig. Tech. Papers, pp. 108-\n109, Feb. 2000.\n[7]  K.  Cho, A.I.  Krymski  and  E.R.  Fossum,  “A  1.5-V  550- W  176×144\nAutonomous CMOS Active Pixel Image Sensor,” IEEE T. Elec. Dev., pp. 96-\n105, Jan. 2003.\nFigures 2.6.2 and 2.6.3 depict the pixel operating principle and a\ntiming  chart  for  one  horizontal  period  (1H).  1H  is  composed  of\nprecharge, readout (discharge), and reset periods. The key point of\nthe  scheme  is  that  the  pixel  readout  needs  no  static  bias  current\ndue  to  the  dynamic  operation  of  the  in-pixel  comparator.  For\ncomparison, part iv of Fig. 2.6.2 shows static pixel readout. In that\ncase,  the  in-pixel  comparator  is  always  biased  by  a  constant\ncurrent. Before the pixel readout, VSIG<i> is precharged to VDD by\nasserting the signal NPRECH with all row select transistors and\ncolumn current loads off. During pixel readout, the vertical signal\nline acts as a dynamic memory, and its parasitic capacitance holds\n|54 (cid:129) 2008 IEEE International Solid-State Circuits Conference 978-1-4244-2011-7/08/$25.00 ©2008 IEEE||Please click on paper title to view a Visual Supplement.\nPlease click on paper title to view Visual Supplement.\n||ISSCC 2008 / February 4, 2008 / 3:45 PM|||VDD Pixel<i, j> RS<j> MRST RR<j> redoced RMPS<j>VPD<i,j> MM AS ME PL )tceles( )teser( redoced VRAMP<j> lacitreV partstooB partstooB lacitreV NPRR ( Eba o Cm o Htp s ts rae ple pc eto dr ) VS VIG D< Di> VDD NEN_CL i-thcolumn VB_PIX circuits Ramp generator Comparator INITMEM Temporarymemory for ADC NTRANS For off-chip readout COUNT<0> D Q D Q G(cid:42)(cid:49) G(cid:42)(cid:49) DOUT<0> COUNT<8> D Q D Q (cid:42)G(cid:49) G(cid:42)(cid:49) DOUT<8> CS<i> Horizontal decoder|None||VDD=1.35 V 2.0 V RS<j-1> 2.0 V RS<j> 2.0 V RR<j> 2.0 V RMPS<j> ~V +VP VD R, TR HMS ,T A,< Mi P, Tj > VPD<i,j> ΔVPD<i,j> A P R S VRAMP<j> Discharge V V VV VR R RR DA A A A DM M M M =P P P P 1, , , ,H S R E .3T NL SD DT 5 V VSIG<i> VTH,CMP Pulse width INITMEM COUNT<8:0> 511 0 1 510 511 (gray code) NTRANS NPRECH NEN_CL i) precharge ii) readout iii) reset Accumulation 1H|None|None|\n|Figure 2.6.1: Schematic of GCA PWM CMOS imager.|None|None|None|Figure 2.6.3: A timing chart of pixel operation.|None|None|\n||None|None|None|None|None|None|\n||None|None|None|None|None|None|\n|(cid:57) (cid:39)(cid:39) (cid:57) (cid:39)(cid:39) (cid:57) (cid:39)(cid:39) (cid:57) (cid:39)(cid:39) (cid:57) (cid:39)(cid:39) (cid:57) (cid:39)(cid:39) (cid:44) (cid:37)(cid:66)(cid:51)(cid:44)(cid:59) (cid:49)(cid:40)(cid:49)(cid:66)(cid:38)(cid:47) (cid:49)(cid:51)(cid:53)(cid:40)(cid:38)(cid:43) (cid:38)(cid:75)(cid:68)(cid:85)(cid:74)(cid:72) (cid:51)(cid:68)(cid:85)(cid:68)(cid:86)(cid:76)(cid:87)(cid:76)(cid:70)(cid:3)(cid:70)(cid:68)(cid:83)(cid:68)(cid:70)(cid:76)(cid:87)(cid:68)(cid:81)(cid:70)(cid:72) (cid:53)(cid:53)(cid:31)(cid:77)(cid:33) (cid:53)(cid:54)(cid:31)(cid:77)(cid:33) (cid:82)(cid:73)(cid:3)(cid:89)(cid:72)(cid:85)(cid:87)(cid:76)(cid:70)(cid:68)(cid:79)(cid:3)(cid:86)(cid:76)(cid:74)(cid:81)(cid:68)(cid:79)(cid:3)(cid:79)(cid:76)(cid:81)(cid:72) (cid:57) (cid:31)(cid:76)(cid:15)(cid:3)(cid:77)(cid:33) (cid:51)(cid:39) (cid:39)(cid:76)(cid:86)(cid:75)(cid:68)(cid:85)(cid:74)(cid:72) (cid:57) (cid:54)(cid:44)(cid:42)(cid:31)(cid:76)(cid:33) (cid:54)(cid:87)(cid:68)(cid:87)(cid:76)(cid:70)(cid:3)(cid:69)(cid:76)(cid:68)(cid:86) (cid:57) (cid:31)(cid:77)(cid:33)(cid:32)(cid:57) (cid:57) (cid:31)(cid:77)(cid:33)(cid:32)(cid:3)(cid:57) (cid:53)(cid:36)(cid:48)(cid:51) (cid:53)(cid:36)(cid:48)(cid:51)(cid:15)(cid:43)(cid:47)(cid:39) (cid:53)(cid:36)(cid:48)(cid:51) (cid:53)(cid:36)(cid:48)(cid:51)(cid:15)(cid:53)(cid:54)(cid:55) (cid:76)(cid:12)(cid:3)(cid:83)(cid:85)(cid:72)(cid:70)(cid:75)(cid:68)(cid:85)(cid:74)(cid:72) (cid:53)(cid:68)(cid:80)(cid:83) (cid:76)(cid:76)(cid:12)(cid:3)(cid:85)(cid:72)(cid:68)(cid:71)(cid:82)(cid:88)(cid:87) (cid:76)(cid:76)(cid:76)(cid:12)(cid:3)(cid:85)(cid:72)(cid:86)(cid:72)(cid:87)|None|None|None|None||(cid:57) (cid:57) (cid:39)(cid:39) (cid:39)(cid:39) (cid:37)(cid:76)(cid:68)(cid:86)(cid:3)(cid:70)(cid:88)(cid:85)(cid:85)(cid:72)(cid:81)(cid:87) (cid:53)(cid:68)(cid:80)(cid:83) (cid:76)(cid:89)(cid:12)(cid:3)(cid:86)(cid:87)(cid:68)(cid:87)(cid:76)(cid:70)(cid:3)(cid:85)(cid:72)(cid:68)(cid:71)(cid:82)(cid:88)(cid:87)|\n||None|None|None|None|None|None|\n|Figure 2.6.2: Pixel operations.|None|None|None|None|None|None|\n||redoced rotceles rof tceles redoced Pixel array partstooB (128x96) dna lacitreV pmaR lacitreV teser Comparator CCuurrrreenntt llooaaddss aanndd pprreecchhaarrggee sswwiittcchheess Latch memory Ramp generator Horizontal decoder||None|V =1.35V, V =380mV, V =180mV, V =296mV DD RAMP,ST RAMP,END RAMP,RST|None|None|\n|Figure 2.6.4: Micrographof the fabricated CMOS imager.|None|None|None|Figure 2.6.5: An example of the captured image after digital CDS operation.|None|None|2\nContinued on Page 595 \nPlease click on paper title to view a Visual Supplement.\nPlease click on paper title to view Visual Supplement.\nISSCC 2008 PAPER CONTINUATIONS\n|Technology 0.35-μm CMOS (2P3M, no photodiode option) Pixel size 10μm sq. Pixel count 128x96 Power supply voltage 1.35V Fill factor 18.5% Frame rate 9.6fps Static pixel readout (SPR) Dynamic pixel readout(DPR) Random noise (dark) 1.25LSBrms 0.95LSBrms Pixel FPN (dark) 0.55%rms 0.12%rms Column FPN (dark) 0.07%rms 0.03%rms Sensitivity 784LSB/lx(cid:695)s 792LSB/lx(cid:695)s Gamma 0.96 0.90 Dynamic range 51.3dB 53.7dB In-pixel comparator gain 15.3 10.6 Power consumption(dark) 15.1μW (pixel array), 0.42μW (pixel array), 74.1μW (whole chip) 55.2μW (whole chip) FOM (pixel array) 128pW/frame(cid:695)pixel 3.6pW/frame(cid:695)pixel||\n|Figure 2.6.6: Specifications and characteristics of the PWM CMOS imager.||\n|||\n|||\n|||\n|||595\n(cid:129)  2008 IEEE International Solid-State Circuits Conference\n978-1-4244-2011-7/08/$25.00 ©2008 IEEE\nPlease click on paper title to view a Visual Supplement.\n']",
"A High-Speed, 240-Framess, 4.1-Mpixel CMOS Sensor.pdf","['130\nIEEE TRANSACTIONS ON ELECTRON DEVICES, VOL. 50, NO. 1, JANUARY 2003\nA High-Speed, 240-Frames/s, 4.1-Mpixel\nCMOS Sensor\nAlexander I. Krymski, Member, IEEE, Nikolai E. Bock, Member, IEEE, Nianrong Tu, Daniel Van Blerkom, and\nEric R. Fossum, Fellow, IEEE\nanalog-to-digital converters (ADCs) were upgraded from 8- to\n10-b resolution.\nAbstract—This paper describes a large-format 4-Mpixel\n(2352 1728) sensor with on-chip parallel 10-b analog-to-digital\n20 mm with a 7- m pixel\nconverters (ADCs). The chip size is 20\npitch. At a 66-MHz master clock rate and 3.3-V operating voltage,\nit achieves a high frame rate of 240 frames/s delivering 9.75 Gb/s\nof data with power dissipation of less than 700 mW. The principal\narchitectural features of the sensor are discussed along with the\nresults of sensor characterization.\nThe paper is organized as follows. Section II describes key\nbuilding blocks, Section III discusses the implementation of the\nsensor, and Section IV presents the characterization results and\ntheir discussion. The paper is concluded with a summary and\nacknowledgment.\nIndex Terms—CMOS image sensor, high-speed imaging,\nII. SENSOR BUILDING BLOCKS\nmachine vision.\nThe sensor block diagram is presented in Fig. 1. In addition\nto the pixel array, the sensor contains column-parallel ADCs\nand memory, column and row decoders, row drivers, and two\ncontrollers to run row operations including A/D conversion and\nread-write memory operations.\nI. INTRODUCTION\nC MOS sensors are rapidly advancing in high-speed\nimaging. Compared to high-speed CCDs, with a degree\nof parallelism represented by the number of panels, CMOS\nsensors utilize the natural advantage of a column-parallel\nreadout from the pixels. Row processing time can be readily\nreduced to 1 s and lower, and the high-speed design focuses\non such challenges as column-multiplexing, analog-to-digital\nconversion, and the reduction of system noise. Another advan-\ntage of a CMOS sensor to CCD is practically no smear nor\nblooming.\nThe pixel is a conventional three-transistor APS pixel. No\nspecial techniques are needed to design the pixel for a mi-\ncrosecond access time. One exception, perhaps, is the design of\ncontrol lines for row select and pixel reset. The metal lines for\na Megapixel imager have typical resistance/capacitance of the\norder of 1 k /2 pF, so the settling time for pixel control pulses\nis within several tens of nanoseconds. However, convenient\npoly lines, even if silicided, can no longer be used because of\na two-order-of-magnitude higher resistance than that of metal\nlines.\nThree years ago, a 1-Mpixel digital image sensor with rolling\nshutter running at 500 frames/s was presented [1]. It showed an\nimprovement in data rate of an order of magnitude compared to\nthe state-of the art high-speed CMOS sensors. Since that time,\nthe progress was steady, but gave only about a factor of 2 in-\ncrease in data throughput over three years. Mostly, the efforts\nwere centered on the development of the pixels with a full-frame\nshutter, featuring competitive performance [2], [3]. We believe\n1K\nthat the state-of-the-art in the year 2002 is a 1K\nsensor (1000 frames/s) with a shutter pixel. It is very likely that\nthe progress in high-speed CMOS imaging for many years in a\nrow will still be defined by column-parallel architectures. How-\never, a new generation of digital sensors [4] utilizing a higher,\npixel-level degree of parallelism may be an additional path to\nhigh-speed image capture.\nThe pixel source-follower is the next speed bottleneck.\nRather than pumping more current into the circuit, we clamp\nthe column readout bus to the ground before the pixel is read\nto benefit from fast operation of the source-follower in one\ndirection, that is, charging the bus. A similar technique was\nused for the second buffer that charges ADC capacitances.\n1K\nADCs used in the chip were the successive-approximation\ntype [5]. This type of ADC was very popular in the first digital\nactive-pixel sensors. The reason for this was the simplicity of the\nADC design and their low power. Another useful advantage of\ndigitizing in columns was the higher speed of digital-data multi-\nplexing compared to the multiplexing of column buffer outputs\ntypically used at that time. However, as soon as higher speed\nanalog-readout circuits were developed (an example is [6]), the\ncolumn-parallel approach was replaced by a single ADC archi-\ntecture in most consumer CMOS sensors. One motivation for\nthis transition was large area (typically 2–3 mm in height) oc-\ncupied by the successive-approximation ADC. Another draw-\nback of the first column ADCs was a visible column fixed pat-\ntern noise (FPN). Although the ADCs had calibration circuits,\nthey did not completely remove what was believed to be a com-\nparator-to-comparator offset. One of possible reasons was the\neffect of digital noise from control lines and ADC latches on the\nThis paper presents a chip that is a result of the further de-\nvelopment of the baseline high-speed digital sensor design [1].\nA smaller feature size (0.35 m) allowed an increase in reso-\nlution from 1024 1024 to 2352 1728. Also, column-parallel\nManuscript received May 16, 2002; revised October 3, 2002. The review of\nthis paper was arranged by Editor A. Theuwissen.\nThe authors are with Micron Technology, Inc., Pasadena, CA 91101 USA\n(e-mail: akrymski@micron.com).\nDigital Object Identifier 10.1109/TED.2002.806961\n0018-9383/03$17.00 © 2003 IEEE\nKRYMSKI et al.: A HIGH-SPEED, 240-FRAME/S, 4.1-MPIXEL CMOS SENSOR\n131\nPIXEL ARRAY\n\nROW\n\nRow decoder\n\nRow\n\noperations i\n\nRowSTR}| and ADC ADC REn\nRE_a\ncontroller #2352 WE_n\n\nRowDone\n\n2352x10 SRAM\nData Shift) | SRAM/\nController 2352x10 SRAM.\n\nCol. decoder\n\n16x10x2\nFig. 1. Block diagram of the sensor.\nlatches | calibr :\n\nc Ton Tvs Fus2 qos] ons E\nlatches\n7\n\nVref1\n\nOUT\nFig. 2. Schematic of column readout circuit including ADC.\ncalibration process. Nonetheless, the column-parallel approach\nhas remained very strong in the area of high-speed sensors, and\nit has undergone several improvements.\ncided to fix the convergence voltage for the ADC to remove the\npossible issue of signal-dependent comparator offset. In such an\narchitecture, a variable signal approaches a fixed voltage, and in\nno case vice versa. Thus, in the column ADC in Fig. 2, the pixel\nreset voltage is stored on one capacitor, while the variable pixel\nsignal is applied to the capacitor bank, to be compensated for\nduring the convergence process.\nFirst, the memory portion of the ADC and the digital readout\nwere spatially separated from the ADC [1]. (Before, the ADC\nwas structured as the sandwich of (capacitor-latch-readout)\nslices.) Second, the memory was built as a two-port SRAM:\nparallel in (from ADCs) serial out. The front-end memory\nstored ADC data from the new row of the image and allowed\nthe simultaneous output of the previous row. The present\n4-Mpixel chip also has these architectural features. The two\nmemory cells are implemented as SRAM. The readout from\nSRAM is differential through sense-amps.\nThe core of the successive-approximation ADC is the com-\nparator and the binary-scaled conversion capacitors with latches\nand switches connecting the capacitor either to the ground or to\nthe ADC reference (Vref1 here). One step includes application\nof the trial voltage, the comparison, and, then, an acceptance or\na rejection of the try.\nIn order to reduce column FPN, the comparator design was\noptimized [7] for less power and smaller offset. It was also de-\nThere was an opinion in the literature that the accuracy of bi-\nnary scaling of passive components is limited to about 8 bits due\n132\nIEEE TRANSACTIONS ON ELECTRON DEVICES, VOL. 50, NO. 1, JANUARY 2003\nMemor\'\n\nTop ADCs\n\nBottom ADCs\n\nMemory _|\n\nPee wc SREREREESCSSEESESSEEESEEEESEESSESEIESEEECEEIE Sos\n2352\n\n1728\nFig. 3. Resolution supported by the sensor.\nto parameter mismatch. Although in reality it may happen to be\nbetter, to guarantee a higher ADC resolution we scaled the three\nsmallest capacitors up (by a factor of 4) with concurrent reduc-\nof the ADC reference,\ntion of the reference for these bits to\nin the present design. The requirement to the new reference is\nnot severe ( 7%) because of the small weight of the smallest\nbits, so the reference can be generated using a simple circuit.\n(We used a resistive divider of Vref1, with a tap for a decou-\npling capacitor).\nFig. 4. Floorplan of the chip.\nSimilar to the conversion capacitor bank, there is a calibration\ncapacitor digital-to-analog converter (DAC), which uses smaller\ncapacitors (the largest calibration capacitor is C/4; here C is\nthe size of the largest conversion capacitor). Each latch in the\ncalibration DAC also has an SRAM cell to store the results of\ncalibration. The earlier 1-Mpixel sensor [1] had a 5-b accuracy\noffset-calibration circuit that was apparently not sufficient and\nresulted in column FPN on the order of 1.5 mV rms. In the re-\nported sensor, the DAC resolution was increased to 7 b. In addi-\ntion, a read/write access to the calibration DACs was provided\nthrough a serial interface. The controls to the interface are read\nenable, write enable, data, and data clock. This access yields\nstability of calibration vectors during the sensor operation (they\ncould be read once and then downloaded again and again, when\nneeded). Also, if for some reason the internal calibration did not\nfully remove column-wise FPN, the values could be calculated\nexternally and written back into the chip.\nFig. 5. Pixel layout.\nThe pixel array area slightly exceeds a\nformat, which\nmakes convenient use of 35-mm optics, although we found\nlenses that are also applicable. The chip, with a size of\nsome\n19.8 mm 19.8 mm, fits into one reticule.\nWafers were fabricated in the 0.35- m United Microelec-\ntronics Corporation CMOS sensor process with double-poly\nused for capacitors, triple-metal for routing, and a lightly doped\nsubstrate left in the area of the pixel array.\nA sensor resolution of 2352 1728 elements has a useful as-\npect ratio of 4:3 and corresponds to 4.1-Mpixel DSC format.\nAlso, the sensor can support a Super XGA (2048 1536) com-\nputer format. The chip can be used as a high-speed HDTV im-\nager with a subresolution of 1920 1080 (Fig. 3). The sensor\nwas designed so that row operations are completed in 128 clock\ncycles. This corresponds to the readout of 2048 columns. Thus,\nthe speed in subresolution modes can be further increased by\nskipping the unread columns. Of course, this is in addition to\nthe reduction of the frame time with fewer rows in the frame.\nIV. CHARACTERIZATION RESULTS\nThe sensor was characterized using a custom board with a\nframe grabber and a PC interface. The board provided 10 bits of\nimage recording. All the measurements were performed for the\nsensor running at 130 frames/s and for ADC reference voltage\nof 1 V. The results of the characterization are summarized in\nTable I. The parameters in volts and electrons are referred to the\npixel’s floating diffusion.\nDirect external addressing to the rows gives the user a flex-\nibility of selecting the window-of-interest within the center of\nthe pixel array, achieving maximum photoresponse uniformity.\nFig. 6 shows the square of noise as a function of signal. This\nis a typical measurement of the conversion gain. From this plot,\nthe conversion gain at the ADC output was 0.045 b/\nIII. MANUFACTURING\n.\nThe floorplan of the chip layout is outlined in Fig. 4, with\nthe pixel layout presented in Fig. 5. ADCs and memory are split\nbetween the top and the bottom for symmetry, performance, and\nrouting considerations. Digital pads are on the left and at the\ntop/bottom. Analog pads are to the right.\nFig. 7. shows quantum efficiency (QE) measurement results\nwith 43% QE at 550 nm. The sensor also demonstrates good\nresponse in blue and red.\nThe 7- m pixel shows quantum efficiency similar to the\n10- m prototype [1]. This is due to tighter design rules and\nKRYMSKI et al.: A HIGH-SPEED, 240-FRAME/S, 4.1-MPIXEL CMOS SENSOR\n133\nTABLE I\nSUMMARY OF THE SENSOR CHARACTERIZATION\nTechnology 0.35um 2P3M\nResolution 2352x1728\nMaximum frame rate 240 Frames/s\nPixel pitch Tum.\nResponsivity @550nm 2.5 V/Lux-s\nQE*FF @550nm 43%\nNoise, r.m.s. 1.2 Isb or 26e-\nDSNU, r.ms. 2.7 \\sb or 60e-\nPRNU at 1/2 sat, rms. 10 Isb or 1%\nConversion gain 39 uV/e\nDynamic range @1V 59 dB\nADC reference\nADC 10 bit\nNumber of outputs 16 x 10 bit\nPower supply 3.3V\nPower <700 mW\nPackage 280 PGA\n\nFig. 8.\nImage of Pasadena City Hall.\nThe fundamental noise from the pixel is kTC noise. A smaller\nphotodiode capacitance in the 7- m pixel provided a factor-of-2\nless kTC noise. The previous 1-Mpixel sensor had an excessive\nif the image\nelectronic noise at 500 frames/s approaching 120\nwent through a massive major bit transition. In the new reported\nsensor, the readout noise was reduced below pixel kTC noise.\nDark FPN (which also included “frozen” temporal noise from\nrms without the additional FPN cor-\nADC calibration) is 60\nFPN in [1]. How-\nrection circuit. This is compared to a 200\never, the noise converted into volts is comparatively slightly\nworse because of much higher conversion gain. The total (tem-\nspatial) noise for the prototype was 2.3 mV and for the\nporal\nnew sensor 2.7 mV.\ng\n\nno MW Oo HM OHM oO\noan vr =\n\nqs| Abs ‘asjou jo asenbs\n\n400 600 800\n\nSignal, Isb\n\n200\nThe sensitivity of the reported sensor, which can be defined\nas the reciprocal of the minimum exposure needed to achieve\na signal-to-noise ratio (SNR) of 10, is thus the responsivity (in\n[V/Lux-s]) divided by the tenfold total noise (in [V]), and it is\n70% higher than in the prototype. The minimum light needed to\nachieve such a threshold SNR for the 4-Mpixel sensor operating\nwithout the lens at the maximum frame rate of 240 frames/s\nwould be 2.5 Lux.\nFig. 6. Conversion gain measurements.\nBeeeRgesRgeere\n\n(%) Aoua!oyy wnueno\n\n900\n\n500\n\nWavelength (nm)\n) and the spatial\n) from this sensor was reported [8]. It was, how-\nnoise (90\never, found that the pixel reset pulse generated on the chip was\nboosted too much and caused the “hard” reset of the pixels [9].\nThe sensor could be turned into the less noise “soft” reset mode\nby either lowering digital VDD voltage to 2.9 V or by increasing\npixel VDD voltage to 3.8 V.\nPreviously, a higher temporal noise (50\nTo avoid excessive image lag, the chip has the capability of\na flushed-reset mode, which is a combination of hard and soft\nreset, similar to the one described in [9].\nThe dynamic range was 59 dB at 1 V ADC reference and the\noverall data rate delivered by the sensor at the maximum frame\nrate approaches almost 10 Gb/s. A sample image taken with the\nsensor is shown in Fig. 8.\nFig. 7. Quantum efficiency.\nthe use of the specialized 0.35- m CMOS sensor process\nwith improved collection. The photodiode capacitance was\nreduced by approximately a factor of 4. This resulted in a\nsubstantial increase of the conversion gain from 11 to 39\n. The Volt/Lux-s responsivity, which is proportional to\nthe pixel size, quantum efficiency, and the conversion gain,\ngrew approximately two times.\nThere are several important applications for a high-speed\nsensor without a parallel (or “freeze-frame”) shutter even\nthough a rolling shutter is known to introduce motion distor-\ntion. These applications include\nV/\n• strobe light illumination of the scene;\n134\nIEEE TRANSACTIONS ON ELECTRON DEVICES, VOL. 50, NO. 1, JANUARY 2003\n• predictable motion so that the distortion can be software-\nAlexander I. Krymski\n(M’97) graduated from\nNovosibirsk University, Novosibirsk, Russia, in 1984\nand received the Ph.D. degree from the Institute for\nSemiconductor Physics, Novosibirsk, in 1992, where\nhe worked on a photo-electrical characterization of\nMOS devices, and CCD/CMOS multiplexers for\ninfrared focal plane arrays.\ncorrected;\n• when there is no alternative;\n• when high-speed operation gives better scene sampling\nthan lower speed operation with a freeze-frame shutter.\nIn 1993–1994, he collaborated with the CMOS\nsensor group at IMEC, Leuven, Belgium, in the area\nof smart sensors. In 1996, he joined Photobit Corpo-\nration, Pasadena, CA, specializing in CMOS sensor\nresearch and development and custom design. His major contributions to the\nCMOS sensor technology were the design of a low-power “camera-in-a-pill”\nsensor and principle circuits for a high-speed Megapixel family of sensors.\nSince November 2001, he has been with Micron Technology, Pasadena, CA, as\nthe head of the Advanced Sensor group. He has published more than 15 papers\nin the area of imaging and is the author or coauthor of ten U.S. patents and 15\npending patent applications.\nFor example, the uncertainty in timing acquisition due to a\n5 ms at 200 frames/s. Then,\nrolling shutter for this sensor is\nthe image distortion should be indistinguishable from the\ninherent motion-blur if the shutter speed is less that 1/250 s.\nV. CONCLUSION\nA high-speed 4-Mpixel CMOS sensor and the results of its\ncharacterization are reported in this paper. The sensor targets\nthe high-speed camera market and scientific and machine vision\napplications and can also be used for high-speed HDTV.\nNikolai Bock (M’98) received the M.S. degree in\nelectronic engineering in 1982 and Ph.D. degree\nin solid-state electronics and microelectronics in\n1996, both from the Novosibirsk State Technical\nUniversity, Novosibirsk, Russia.\nFuture work should concentrate on the reduction of the chip\noptical format and on the shuttered version of the pixel.\nSince 1982, he was with the Institute of Semicon-\nductor Physics, Novosibirsk. His research interests\nwere the physics of MOS devices and CCDs, infrared\nreadout electronics, and cryogenic CMOS operation.\nIn 1998, he joined Photobit Corporation, Pasadena,\nCA. He worked there on high-speed CMOS sensors\nfor machine vision applications. Since November 2001, he has been with Mi-\ncron Imaging, a division of Micron Technology, Pasadena.\nACKNOWLEDGMENT\nThe authors would like to acknowledge the contribution of\nK. Postnikov and A. Yakovlev for the board and software design.\nNianrong Tu received the B.S. degree in electrical\nengineering from Xi’an Jiaotong University, China,\nin 1992 and the M.S.E.E. degree from the University\nof Manitoba, Manitoba, Canada, in 1995.\nREFERENCES\nFrom 1996 to 1999, he was working at the Uni-\nvesity of Waterloo, Waterloo, ON, Canada, doing re-\nsearch on CMOS sensors. He joined Photobit Cor-\nporation in 2000 and was responsible for VLSI de-\nsign of a number of high-speed CMOS sensors. Since\nNovember of 2001, he has been with Micron Tech-\nnology, Micron Imaging Group, Pasadena, CA.\n[1] A. Krymski, D. Van Blerkom, A. Andersson, N. Bock, B. Mansoorian,\nand E. R. Fossum, “A high speed, 500 frames/s, 1024(cid:2)1024 CMOS\nactive pixel sensor,” in Proc. 1999 VLSI Circuits Symp., Kyoto, Japan,\n1999, pp. 137–138.\n[2] N. Stevanovic, M. Hillebrand, B. Hostica, and A. Teuner, “A CMOS\nimage sensor for high speed imaging,” in Proc. IEEE Solid-State Cir-\ncuits Conf., 2000, pp. 104–105.\n[3] S. Lauxtermann, G. Israel, P. Seitz, H. Bloss, J. Ernst, H. Firla, and S.\nGick, “A mega-pixel high speed CMOS imager with sustainable Gi-\ngapixel/sec readout,” in Proc. 2001 Workshop on CCDs and Advanced\nImage Sensors, June 2001, pp. 48–51.\n[4] S. Kleinfelder, S. H. Lim, X. Liu, and A. El Gamal, “A 10 000 frames/s\nCMOS digital pixel sensor,” IEEE J. Solid-State Circuits, vol. 36, pp.\n2049–2059, Dec. 2001.\nDaniel Van Blerkom received the B.S.E.E. degree\nfrom the University of California, Berkeley, in 1992\nand the M.S.E.E. and Ph.D. degrees from the Uni-\nversity of California, San Diego, in 1993 and 2000,\nrespectively. His Ph.D. dissertation investigated the\noptimization of transmitter and receiver circuits in\nCMOS for high-speed optical interconnects.\n[5] Z. Zhou, B. Pain, and E. Fossum, “CMOS active pixel sensor with\non-chip successive approximation analog-to-digital converter"",” IEEE\nTrans. Electron Devices, vol. 44, pp. 1759–1763, Oct. 1997.\n[6] A. Krymski, “Charge domain analog readout for image sensor,” U.S.\nPatent 6 222 175, Apr. 24, 2001.\n[7]\n, “CMOS voltage comparator,” U.S. Patent 6 184 721, Feb. 6, 2001.\n[8] A. Krymski, N. Bock, N. Tu, D. Van Blerkom, and E. R. Fossum, “A\nhigh speed, 240 frames/s, 4 megapixel CMOS sensor,” in Proc. 2001\nWorkshop on CCDs and Advanced Image Sensors, June 2001, pp. 28–31.\n[9] B. Pain et al., “Analysis and enhancement of low-light-level perfor-\nmance of photodiode-type CMOS active pixel imagers operated with\nsub-threshold reset,” in Proc. 1999 IEEE Workshop on CCD’s and Ad-\nvanced Image Sensors, pp. 140–143.\nFrom 1998 to 2001, he was with Photobit Corpo-\nration as the lead designer on high-volume CMOS\nAPS image sensors for PC and digital still cameras, as\nwell as working on high-speed, high-resolution sen-\nsors for machine vision. In 2001, he joined Forza Silicon Corporation, Pasadena,\nCA, as its Chief Technology Officer, where he is developing multigigabit trans-\nmitters and receivers for parallel optical modules and specialized sensor ICs.\nKRYMSKI et al.: A HIGH-SPEED, 240-FRAME/S, 4.1-MPIXEL CMOS SENSOR\n135\nEric. R. Fossum (S’80–M’84–SM’91–F’98) was\nborn and raised in Connecticut. He received the\nB.S. degree in physics and engineering from Trinity\nCollege, Hartford, CT, in 1979 and the Ph.D. degree\nin electrical engineering from Yale University, New\nHaven, CT, in 1984.\nAs a member of Columbia University’s Electrical\nEngineering faculty from 1984-1990, he and his stu-\ndents performed research on CCD focal-plane image\nprocessing and high speed III-V CCDs. In 1990, Dr.\nFossum joined the NASA Jet Propulsion Laboratory,\nCalifornia Institute of Technology, Pasadena, and managed JPL’s image sensor\nand focal-plane technology research and advanced development. He led the in-\nvention and development of CMOS active pixel sensor (APS) camera-on-a-chip\nand subsequent transfer of the technology to US industry. In 1996, he joined\nPhotobit Corporation as Chief Scientist, a company he helped found in 1995, and\nbecame CEO of Photobit Technology Corporation in 2000. While at Photobit,\nhe and his staff commercialized the camera-on-a-chip which has been used in\nLogitech® and Intel® PC cameras, ultra-low-power sensors enabling the swal-\nlowable “pill-camera”, and very-high-speed, high-resolution sensors used for\nHollywood special effects such as in The Mummy Returns and Pearl Harbor. In\nlate 2001, Photobit was acquired by Micron Technology, Inc. and he is presently\na Senior Micron Fellow. He has also served as Adjunct Professor of electrical en-\ngineering at the University of California, Los Angeles (UCLA), and is currently\nAdjunct Professor of electrical engineering-electrophysics at the University of\nSouthern California (USC), Los Angeles, and teaches undergraduate physical\nelectronics. He has served as primary adviser to 12 Ph.D. candidates. He has\npublished 230 technical papers and holds 53 U.S. patents.\nDr. Fossum received Yale’s Becton Prize in 1984, the IBM Faculty Develop-\nment Award in 1984, the National Science Foundation Presidential Young Inves-\ntigator Award in 1986, the JPL Lew Allen Award for Excellence in 1992, and the\nNASA Exceptional Achievement Medal in 1996. He was inducted into the U.S.\nSpace Foundation Technology Hall of Fame in 1999. He founded the biannual\nIEEE Workshops on CCDs and Advanced Image Sensors and the SPIE Confer-\nences on Infrared Readout Electronics. He has served on program committees\nfor the IEDM, ISSCC, and SPIE conferences. He has served as associate editor\nfor IEEE TRANSACTIONS ON VLSI, guest editor for IEEE JOURNAL OF SOLID\nSTATE CIRCUITS, and was Guest Editor-in-Chief for IEEE TRANSACTIONS ON\nELECTRON DEVICES Special Issue on Solid-State Image Sensors published in\nOctober 1997. He was recently named to the Board of Fellows for Trinity Col-\nlege, where he also serves on the college’s Engineering Advisory Committee.\n']",
A Very Low Power and Low Signal 5 Bit 50MSs Double Sampling Pipelined ADC for .pdf,"['2008 IEEE Nuclear Science Symposium Conference Record\n\nA very low power and low signal 5 bit 50 M\nsamples/s double sampling pipelined ADC for\nMonolithic Active Pixel Sensors in high energy\n\nphysics and biomedical imaging applications\n\nM. Dahoumane, J. Bouvier, D. Dzahini, L. Gallin Martel, E. Lagorio, J-Y. Hostachy and Y. Hu\n\nAbstract-The use of CMOS Monolithic Active Pixel Sensors\n(MAPS) for high precision minimum ionizing particle tracking\nhas been proven to be a viable and powerful novel experimental\ntechnique. Possible applications will strongly depend on a\nsuccessful implementation of on-chip hit recognition and\nsparsification schemes. For this aim, a 5 bit very low power and\nlow level signal analog to digital converter (ADC) using a double\nsampling switched capacitor technique has been implemented in\n0.354m CMOS technology. A non-resetting sample and hold\nstage is integrated. This first stage compensates both the\namplifier offset effect and the input common mode voltage\nfluctuations. The converter is composed of three successive 1.5 bit\npipeline stages followed by a 2 bit flash stage. The prototype\nconsists of 16 ADC double-channels; each one is sampling at 50\nMS/s and dissipates only 1.38 mW at 2 V supply voltage. A bias\npulsing stage is integrated in the circuit. Therefore, the analog\npart is switched OFF or ON in less than 1 ps. The size of the ADC\nis 80 pm x 1.4 mm. This corresponds to the pitch of 4 pixel\ncolumns in which each one is 20 um wide and can be easily\nintegrated in the MAPS.\n\nI. INTRODUCTION\n\nMOS Monolithic Active Pixel Sensors (MAPS) are\n\ncharged particle tracking devices, integrating on the same\nsilicon substrate radiation sensitive detector elements with its\nfront-end readout electronics. Fabricated in standard CMOS\ntechnology, MAPS offer well known advantages like low\npower, low cost fabrication, high spatial resolution, flexibility,\nradiation hardness, compactness, random access and fast read-\nout. Compared to the existing detectors like Charge coupled\nDevices (CCD) or Hybrid pixel Detectors (HPD), MAPS are\nan attractive alternative to fulfill the requirements of Vertex\nDetector in the future high energy physics and biomedical\nimaging applications. However, the use of MAPS in different\napplications will strongly depend on a_ successful\nimplementation of an on-chip read-out electronics. This is not\na trivial task because of different constraints on the A/D\nconverter design. The pixel signal is very low in the range of\nmillivolts, which are the same order of magnitude as transistor\n\nManuscript received November 14, 2008.\n\nM. Dahoumane is with the Institut pluridisciplinaire Hubert Curien\n(IPHC), 23, rue du Loess, 67037 Strasbourg France (telephone: 00333 8810\n6120, e-mail: mokrane.dahoumane@ires.in2p3 fr).\n\nJ. Bouvier, D. Dzahini, L. Gallin Martel, E. Lagorio and J-Y. Hostachy are\nwith the laboratoire de physique subatomique et de cosmologie (LPSC), 53,\nAvenue des Martyrs, 38026 Grenoble France\n\nY. Hu is with the Institut pluridisciplinaire Hubert Curien (IPHC), 23, rue\ndu Loess, 67037 Strasbourg France\n\n978-1-4244-2715-4/08/$25.00 ©2008 IEEE\n\nthreshold variations of a CMOS process. In order to obtain a\nhigh speed and a pixel level integration, the sampling rate is\nset at 10 M samples/s. The consumption of pixel column ADC\nmust be less than 500 pW. The layout has to be adjusted to the\nsmall pixel pitch (20 pm = 20 pm).\n\nIn this paper, a 50 M samples/s double sampling analog to\ndigital converter is described. It is designed according to the\nrequirements of pixel arrays developed at IPHC-Strasbourg in\ncollaboration with DAPNIA-Saclay, in perspective of the\nLinear Collider vertex detector [1], [2]. Figure 1 shows the\nglobal architecture of the planned MAPS chip comprising the\npixel array with its associated read-out electronics and A/D\nconversion stages.\n\nActive Pixel array (mxn)\n\nvo\ncc a\n\nFig. 1. Global architecture of MAPS and integrated readout electronics.\n\nThese MAPS are currently being developed and\ncharacterized at IPHC/Strasbourg in collaboration with\nCEA/Saclay and manufactured by TSMC through MOSIS [3],\n[4]. They are based on DC pixel architecture which comprises\nin-situ a first conditioning micro-circuit. Figure 2 shows a\nstructure of an active pixel. When a particle (electron,\nphoton...) traverses the pixel, it generates electron-hole pairs\n\n2091\n\nN30-60\nN30-60\n2008 IEEE Nuclear Science Symposium Conference Record\nA very low power and low signal 5 bit 50 M\nsamples/s double sampling pipelined ADC for\nMonolithic Active Pixel Sensors in high energy\nphysics and biomedical imaging applications\nM. Dahoumane, J. Bouvier, D. Dzahini, L. Gallin Martel, E. Lagorio, J-Y. Hostachy and Y. Hu\nthreshold variations of a CMOS process. In order to obtain a\nhigh speed and a pixel level integration, the sampling rate is\nset at 10M samples/s. The consumption of pixel column ADC\nmust be less than 500 Il W. The layout has to be adjusted to the\nsmall pixel pitch (20 Ilm x 20 J.1m).\nAbstract-The use of CMOS Monolithic Active Pixel Sensors\n(MAPS) for high precision minimum ionizing particle tracking\nhas been proven to be a viable and powerful novel experimental\nstrongly depend on a\ntechnique. Possible applications will\nrecognition and\nsuccessful\nsparsification schemes. For this aim, a 5 bit very low power and\nlow level signal analog to digital converter (ADC) using a double\nsampling switched capacitor technique has been implemented in\n0.35Jim CMOS technology. A non-resetting sample and hold\nstage is\nstage compensates both the\namplifier offset effect and the input common mode voltage\nfluctuations. The converter is composed of three successive 1.5 bit\npipeline stages followed by a 2 bit flash stage. The prototype\nconsists of 16 ADC double-channels; each one is sampling at 50\nMS/s and dissipates only 1.38 mW at 2 V supply voltage. A bias\npulsing stage is integrated in the circuit. Therefore, the analog\npart is switched OFF or ON in less than 1 JiS. The size of the ADC\nis 80 Jim x 1.4 mm. This corresponds to the pitch of 4 pixel\ncolumns in which each one is 20 ....m wide and can be easily\nintegrated in the MAPS.\nimplementation of on-chip hit\nIn this paper, a 50 M samplesls double sampling analog to\ndigital converter is described. It is designed according to the\nrequirements of pixel arrays developed at IPHC-Strasbourg in\nin perspective of the\ncollaboration with DAPNIA-Saclay,\nLinear Collider vertex detector [1], [2]. Figure 1 shows the\nglobal architecture of the planned MAPS chip comprising the\npixel array with its associated read-out electronics and AID\nconversion stages.\nintegrated. This\nfirst\nA_c_ti_v_e_P_ix_e_l_a_rr_a_y....<m_xn...)\n......\nital processing\n\nData Di\n\nActive Pixel array (mxn)\n\nwed jonuoy\nI - - - -I ...-\nI\nI\nI\nI\nI\n1\n1::\nal\n_I\neI\nCI\n81\ni\nl\n\'QI\nQI\n.9-1\n\'51\ne I\n°1\nI\nI\nI\nI\nI\nI\nI\n1\nI.\nINTRODUCTION\nCMOS Monolithic Active Pixel Sensors\n(MAPS) are\ncharged particle tracking devices, integrating on the same\nsilicon substrate radiation sensitive detector elements with its\nfront-end readout electronics. Fabricated in standard CMOS\ntechnology, MAPS offer well known advantages like low\npower, low cost fabrication, high spatial resolution, flexibility,\nradiation hardness, compactness, random access and fast read \nout. Compared to the existing detectors like Charge coupled\nDevices (CCD) or Hybrid pixel Detectors (HPD), MAPS are\nan attractive alternative to fulfill the requirements of Vertex\nDetector in the future high energy physics and biomedical\nimaging applications. However, the use of MAPS in different\napplications will\nsuccessful\nimplementation of an on-chip read-out electronics. This is not\ntask because of different constraints on the AID\na trivial\nconverter design. The pixel signal is very low in the range of\nmillivolts, which are the same order of magnitude as transistor\nI\n1\nstrongly\ndepend\non\na\nFig. 1. Global architecture of MAPS and integrated readout electronics.\ncurrently\ndeveloped\nand\nbeing\nare\nThese MAPS\ncharacterized at\nIPHC/Strasbourg in collaboration with\nCEAlSaclay and manufactured by TSMC through MOSIS [3],\n[4]. They are based on DC pixel architecture which comprises\nin-situ a first conditioning micro-circuit. Figure 2 shows a\nstructure of an active pixel. When a particle (electron,\nphoton... ) traverses the pixel, it generates electron-hole pairs\nManuscript received November 14, 2008.\nM. Dahoumane is with the Institut pluridisciplinaire Hubert Curien\n(IPHC), 23, me du Loess, 67037 Strasbourg France (telephone: 00333 8810\n6120, e-mail: mokrane.dahoumane@ires.in2p3.fr).\n1. Bouvier, D. Dzahini, L. Gallin Martel, E. Lagorio and J-Y. Hostachy are\nwith the laboratoire de physique subatomique et de cosmologie (LPSC), 53,\nAvenue des Martyrs, 38026 Grenoble France\nY. Hu is with the Institut pluridisciplinaire Hubert Curien (IPHC), 23, me\ndu Lcess, 67037 Strasbourg France\n978-1-4244-2715-4/08/$25.00 ©2008 IEEE\n2091\nin the sensitive volume. The electrons are then collected by the\nn-well.\n\n(4) The generated signal I proportional to the number of\ncollected electrons. this signal processed in the integrated\nslreult\n\n| @pttereates\nelectron-hole pales in\n\nthe sensitive layer\n\n|\n\ncollected by the n-well\n\n| (8) The electrons are\n\nFig. 2. Active pixel principle.\n\nThe charge is converted to voltage by the “pn” junction. The\nsignal at the analog output of the pixel is the difference\nbetween a reference level (calibration) and the readout signal\n(read). This leads to the signal extraction and a reduction of\nthe output pedestals (offsets). The pixel columns are read in\nparallel with a frequency in excess of 10 kHz. Thus, the pixel\nread out frequency is 10 MHz; this depends on the number of\nlines of the pixel matrix [3]. Each column is presently\nfollowed by a discriminator, which will be replaced in future\nby an ADC. In our application, each ADC converts 4 columns\nwith an equivalent frequency of 10 M samples/s each column.\nThe pixel column width amounts to 25 jm at present, but it\nshould become 20 pm in the next prototypes.\n\nII. DESIGN ARCHITECTURE\n\nA Small size, a low power, a high speed and a high\naccuracy are the criteria which determine the ADC\narchitecture to be chosen. A pipelined architecture provides a\ngood deal between all these requirements. An overview block\ndiagram of a 5 bit pipelined ADC is shown in figure 3 [5], [6]\n[7], [8]. The scheme includes 2 sample and hold circuits which\ncompose the first stage of the design.\n\nVues TK ux\n\nceux TK\n\nok cx\n\nTK Stage2 Stage3\nVio,\nVine,\n\nBit alignment common logic\n\nI\n\nOffset error correction logic\n\nChannel data separation logic\n\noutptt «5 bits L)\n\noutput? = 5 bits\nFig. 3. General block diagram of a 5 bit pipelined converter.\nA sample and hold amplifier (SHA) stage is needed to\n\nmaintain the signal stable during the conversion time. The\npixel common mode voltage fluctuation, the small value of the\n\nLeast Significant Bit (LSB ~lmV) and the offset make the\ndesign of this first stage of the converter very critical. The\nSHA stage samples, holds and amplifies by 4 the analog input\nsignal. It is followed by three successive 1.5 bit pipelined\nstages and a 2 bit flash stage. Each pipelined stage produces a\ndigital estimate of an incoming held signal, then converts this\nestimate back to the analog, subtracts the result from the held\ninput. This residue is then amplified before being transferred\nto the next stage. The last stage, which is a 2 bit flash ADC,\ndetermines the LSB. The successive digital results from the\nADC stages are appropriately delayed throughout a bit\nalignment network. Then a digital error correction stage is\nadded to leave room for the comparator offset correction.\nTherefore, the comparator constraints are relaxed and the\npower consumption is reduced.\n\nThe following sections describe each stage of this converter\nand some testing results will be presented.\n\nIII. THE SAMPLE AND HOLD AMPLIFIER CIRCUIT\n\nA charge redistribution non-inverting architecture is used to\ndesign this stage [9]. Figure 4 illustrates the sampling phase\n(phi2 is ON). The intensity signal (Vin+) is stored onto the set\nof 4 sampling capacitors (C37...C40) and the common mode\nsignal (Vin-) is stored onto the capacitors (C33...C36). Then\nduring the HOLD phase (phil is ON), the charge is transferred\nto the feedback capacitor C23. This results to amplification by\n4 of the differential signal between the reference (dark level)\nand the intensity level. Each capacitor unit in this scheme is\n107 fF. These capacitor values are chosen in function of the\nsurface limitation and kT/C noise factor.\n\nFig. 4. Sample and hold amplifier scheme.\n\nSHAI and SHA2, as shown in figure 3, sample in opposite\nclock phases at 25 MHz frequency. So, the following ADC\nhas a sampling rate of 50 MS/s which is performed by using\nthe double sampling technique.\n\nThe particular requirements of the Vertex detector\napplication make the design of the circuit very critical. The\n\n2092\nin the sensitive volume. The electrons are then collected by the\nn-well.\nLeast Significant Bit (LSB --lmV) and the offset make the\ndesign of this first stage of the converter very critical. The\nSHA stage samples, holds and amplifies by 4 the analog input\nsignal. It is followed by three successive 1.5 bit pipelined\nstages and a 2 bit flash stage. Each pipelined stage produces a\ndigital estimate of an incoming held signal, then converts this\nestimate back to the analog, subtracts the result from the held\ninput. This residue is then amplified before being transferred\nto the next stage. The last stage, which is a 2 bit flash ADC,\ndetermines the LSB. The successive digital results from the\nADC stages are appropriately delayed throughout a bit\nalignment network. Then a digital error correction stage is\nadded to leave room for the comparator offset correction.\nTherefore,\nthe comparator constraints are relaxed and the\npower consumption is reduced.\n(4) The generated signal I proportional to the number of\ncollected electrons. this signal processed in the integrated\nclveult\n\nA particle\n\n(photon,\n\nleetron, ee...)\nverses the\n\nAnuegrated elreult\n\nrrr\n\n2) Mtereates\n‘electron-hole palrs in\nthe sensitive layer\n\n———}\n\nAn active pixel is constituted\non a photodiode and\n\n(9) The electrons are nditioning\ncollected bythe newell microcireui\n\n(4) Tilt> gennatt>d signal Is proportional to tht> number of\nrolkrted dt>rtroas. dab signal proressed In tbe bltegrated\ndnult\n(1)Apartlde\n(pboloD.proloD.\nt>lertroD.etr... )\ntranrse~the\nIntegrateddrrult\n(2)ltcrt\'att>s\nelectroD-bolepalrslD\nthesenslttvelayel\'\nAn actin pixel is constituted\nOil a photodiode aDd\npn\'conditioning\nmicrodn\'uit\n(3) Iheelectl\'oDsal\'e\nrollertedbytheD-wt>1I\nThe following sections describe each stage of this converter\nFig. 2. Active pixel principle.\nand some testing results will be presented.\nThe charge is converted to voltage by the ""pn"" junction. The\nsignal at\nis the difference\nbetween a reference level (calibration) and the readout signal\n(read). This leads to the signal extraction and a reduction of\nthe output pedestals (offsets). The pixel columns are read in\nparallel with a frequency in excess of I 0 kHz. Thus, the pixel\nread out frequency is I0 MHz; this depends on the number of\nlines of the pixel matrix [3]. Each column is presently\nfollowed by a discriminator, which will be replaced in future\nby an ADC. In our application, each ADC converts 4 columns\nwith an equivalent frequency of 10M samples/s each column.\nThe pixel column width amounts to 25 flm at present, but it\nshould become 20 J.1m in the next prototypes.\nthe analog output of the pixel\nIII. THE SAMPLE AND HOLD AMPLIFIER CIRCUIT\nA charge redistribution non-inverting architecture is used to\ndesign this stage [9]. Figure 4 illustrates the sampling phase\n(phi2 is ON). The intensity signal (Vin+) is stored onto the set\nof 4 sampling capacitors (C37...C40) and the common mode\nsignal (Vin-) is stored onto the capacitors (C33 ... C36). Then\nduring the HOLD phase (phil is ON), the charge is transferred\nto the feedback capacitor C23. This results to amplification by\n4 of the differential signal between the reference (dark level)\nand the intensity level. Each capacitor unit in this scheme is\n107 iF. These capacitor values are chosen in function of the\nsurface limitation and kT/C noise factor.\nII. DESIGN ARCHITECTURE\nA Small size, a low power, a high speed and a high\naccuracy\nthe ADC\narchitecture to be chosen. A pipelined architecture provides a\ngood deal between all these requirements. An overview block\ndiagram of a 5 bit pipelined ADC is shown in figure 3 [5], [6]\n[7], [8]. The scheme includes 2 sample and hold circuits which\ncompose the first stage of the design.\nare\nthe\ncriteria which\ndetermine\nclk\n\nve Tr ctx\nou Stage3\n\nVor,\n\nv,\n\ntet bio\n\nBit alignment common logic\n\nOffset error correction logic\n\nChannel data separation logic\n\noutputt = 5 bits. iy iy output2 = 5 bits\nFig. 4. Sample and hold amplifier scheme.\nSHAI and SHA2, as shown in figure 3, sample in opposite\nclock phases at 25 MHz frequency. So, the following ADC\nhas a sampling rate of 50 MS/s which is performed by using\nthe double sampling technique.\nFig. 3. General block diagram of a 5 bit pipelined converter.\nA sample and hold amplifier (SHA) stage is needed to\nmaintain the signal stable during the conversion time. The\npixel common mode voltage fluctuation, the small value of the\nThe particular\nrequirements of\nthe Vertex detector\napplication make the design of the circuit very critical. The\n2092\nrestrictions in terms of power consumption and area make this\ndesign sensitive to different offset sources:\n\n1. OTA input offset\n\n2. Switch charge injection offset\n\n3. Input common mode voltage fluctuation\nThe SHA stage has already been integrated and tested in our\nprevious designs. The actual SHA is an improved version [8],\n[10].\n\nA. Design of the amplifier\n\nTo design a high performance SHA, it is imperative to have\nan operational transconductance amplifier (OTA) of high gain-\nband-width (GBW) and fast settling behavior. Telescopic\ncascode architecture of the OTA is selected and implemented.\nThe design of the OTA is shown in figure 5 [11]. This\namplifier is used in both SHA stage and pipelined stages.\n\nThe current mirror load is a so called “wide swing cascode”\n[5]. It improves the dynamic range better than a basic cascode\nand makes the design robust for low voltage design. Bode\ndiagram simulation results show that the amplifier achieves a\n48.5 dB open loop gain and 160 MHz unity gain frequency\nwith 75° phase margin. These results are obtained with a 1 pF\nload capacitance and 260 1. W power dissipation at 2 V power\nsupply.\n\nA highest accuracy is needed in the first stage in order to\nachieve the required resolution of the ADC which follows.\nKeeping in mind this characteristics, the successive stages of\nthe pipelined ADC use the same OTA architecture, but\nconsume decreasingly (by a factor of 2) through the successive\nstages.\n\nFig. 5. A wide swing telescopic OTA.\n\nIV. 5 BIT DOUBLE SAMPLING PIPELINED A/D CONVERTER\n\nAccording to its well known performances, the pipeline\narchitecture is selected to design the present ADC. The sample\nand hold stages of the ADC are designed using a switched\ncapacitor technique.\n\nThe double sampling technique consists of sharing the\nactive components between two adjacent ADC channels. In\nthis section, each block of the design will be detailed. The\n\ndouble sampling design keys will be given. To have a better\ninsight into the double sampling principle, traditional\npipelined architecture is firstly described.\n\nA. 1.5 bit pipelined stage implementation\n\nFigure 6 illustrates the implementation of a 1.5 bit pipeline\nstage. The A/D block consists of two comparators. The D/A\nconversion, subtraction, amplification, and S/H functions are\nperformed by a switched capacitor circuit with a resolution of\n1.5 bit per stage and an interstage gain of 2. Hence, the\ntransfer function of this stage is Vs = 2xVin - Vref, where\nVref; are the reference voltages selected by the DAC\ndepending on the sub-ADC output code (b1b0).\n\nTranscoder\n\nFig. 6. Block diagram of 1.5 bit pipelined stage.\n\nThe characteristics of the transfer function for a 1.5 bit stage\nis shown in figure 7. The expression “1.5 bit” is used to\nindicate that only 3 combinations of the 4 are acceptable for\nthe output codes. The (1, 1) code is avoided, thereby the\ninterstage amplifier should not saturate and this leaves room\nfor the digital error correction.\n\nVout\n\nVref\n\nVret/2\n\n3/8 Vref\n\nFig. 7. A 1.5 bit residue transfer curve\n\nThe maximum comparator offset value tolerated is Vref/8 =\n+ 16 mV. Vref is the full range dynamic of this converter\n(Vref = 128 mV). A simplified schematic of the comparator is\ngiven in figure 8. It consists of a low gain and low offset\n\n2093\ndouble sampling design keys will be given. To have a better\ninsight\ntraditional\npipelined architecture is firstly described.\nrestrictions in terms of power consumption and area make this\ndesign sensitive to different offset sources:\nsampling principle,\ninto the\ndouble\n1. OTA input offset\n2.\n3.\nSwitch charge injection offset\nInput common mode voltage fluctuation\nThe SHA stage has already been integrated and tested in our\nprevious designs. The actual SHA is an improved version [8],\n[10].\n1.5 bit pipelined stage implementation\nA.\nFigure 6 illustrates the implementation of a 1.5 bit pipeline\nstage. The AID block consists of two comparators. The DfA\nconversion, subtraction, amplification, and SfH functions are\nperformed by a switched capacitor circuit with a resolution of\n1.5 bit per stage and an interstage gain of 2. Hence,\nthe\ntransfer function of this stage is Vs = 2xVin - Vre( where\nVre~ are the reference voltages\nselected by the DAC\ndepending on the sub-ADC output code (blbO).\nA. Design ofthe amplifier\nTo design a high performance SHA, it is imperative to have\nan operational transconductance amplifier (OTA) of high gain \nband-width (GBW) and fast settling behavior. Telescopic\ncascode architecture of the OTA is selected and implemented.\nThe design of the OTA is shown in figure 5 [11]. This\namplifier is used in both SHA stage and pipelined stages.\nS\n3\n3\n8\n2\n2\n&\n4\n\nS H\nVin\nThe current mirror load is a so called ""wide swing cascode""\n[5]. It improves the dynamic range better than a basic cascode\nand makes the design robust for low voltage design. Bode\ndiagram simulation results show that the amplifier achieves a\n48.5 dB open loop gain and 160 MHz unity gain frequency\nwith 75° phase margin. These results are obtained with a 1 pF\nload capacitance and 260 Il W power dissipation at 2 V power\nsupply.\nA highest accuracy is needed in the first stage in order to\nachieve the required resolution of the ADC which follows.\nKeeping in mind this characteristics, the successive stages of\nthe pipelined ADC use the same OTA architecture, but\nconsume decreasingly (by a factor of2) through the successive\nstages.\nFig. 6. Block diagram of 1.5 bit pipe1ined stage.\nThe characteristics of the transfer function for a 1.5 bit stage\nis shown in figure 7. The expression ""1.5 bif\'\nis used to\nindicate that only 3 combinations of the 4 are acceptable for\nthereby the\nthe output codes. The (1, 1) code is avoided,\ninterstage amplifier should not saturate and this leaves room\nfor the digital error correction.\nVout\nVout\n\nVref\n\nVret/2\n\nVref\n\n5/8 Vref\n\n3/8 Vref\nVref\nVref/2\nFig. 5. A wide swing telescopic OTA.\nIV. 5 BIT DOUBLE SAMPLING PIPELINED AID CONVERTER\nO----~-___r----..Jt...--.__-----___r___t..\nAccording to its well known performances,\nthe pipeline\narchitecture is selected to design the present ADC. The sample\nand hold stages of the ADC are designed using a switched\ncapacitor technique.\n3/8 Vref\n5/8 Vref\nVref\nFig. 7. A 1.5 bit residue transfer curve\nThe maximum comparator offset value tolerated is Vref/8 =\n± 16 mY. Vref is the full range dynamic of this converter\n(Vref= 128 mY). A simplified schematic of the comparator is\ngiven in figure 8. It consists of a low gain and low offset\nThe double sampling technique consists of sharing the\nactive components between two adjacent ADC channels.\nIn\nthis section, each block of the design will be detailed. The\n2093\ndifferential preamplifier followed by a latched folded cascode\ncomparator to optimize the performance between the speed\nand the power consumption [12].\n\ndiff, preamp\n\nFig. 8. Simplified comparator scheme.\n\nThe residue transfer curve is obtained by a precise\nmultiplier sample and hold switched capacitor circuit shown in\nfigure 9.\n\n40 ns\n\nFig. 9. The switched capacitor multiplier sample and hold scheme.\n\nThe incoming signal is sampled during phase “ol”. It is\namplified by charge redistribution during phase “o2”. During\nthe amplification phase, the bottom plate of the sampling\ncapacitor (Cs) is connected to a reference voltage Vrefi which\nwill be subtracted from the amplified signal. The residue\nvalues from this operation are transmitted to the next stage.\nThe value for Vrefi is respectively 0, Vref/2 or Vref depending\non the comparator outputs (see figure 6). Vref is the dynamic\nrange of the converter, with reference to the virtual ground.\n\nB. Double sampling stage design\n\nIn the final design of the MAPS, at the bottom of each pixel\ncolumn of the matrix there will be an ADC. So, the ADCs are\ndisposed in parallel (figure 1). This feature can be exploited in\nthe double sampling architecture [13].\n\nThe property of the successive ADC stages working in\nopposite clock phases can be exploited by sharing the\n\noperational amplifier, the comparators and the all the logic\npart between two parallel component ADCs. This approach\nuses the well known double-sampling concept of switched\ncapacitor circuits. By using double-sampling, the equivalent\nsampling rate is doubled, but still the power dissipation\nremains almost the same as for an ADC having traditional\nsingle sampled pipeline stages with a half sample rate. The\nsurface is reduced by ~ 40%. In contrast, the complexity of the\npipeline stage is increased and more clock signals with\ndifferent phases are needed.\n\nScheme of the double sampling multiplying D/A converter\nis shown in figure 10. The capacitors of two parallel channels\nworking on opposite clock phases share the same amplifier.\nDue to the very low incoming signal, each ADC channel has\nits own SHA stage. While the “pipelinel” samples the Vin1\nsignal onto the Cs and Cf capacitors independently of the\namplifier, the “pipeline2” switches to the amplification phase.\n\nTwo important side effects are caused by the amplifier\nsharing. First, the amplifier load capacitance is increased and\naffects its bandwidth. Second, the amplifier input offset is\nnever reset; this can be tolerated by an adequate amplifier\nopen loop DC-gain. The second one is very critical in this\ndesign because of the non differential architecture used here,\nand thereby no symmetric compensation is possible. Although\nalgorithms of offset correction are available [14], but they are\nboth area and power consuming. In this design, an auxiliary\ninput is added to adjust manually the level of the common\nmode for each pipeline stage.\n\nVen qr te =\n\nMux !\nvat 4 oa =\nVio —O- == 7\n\nFig. 10. A double sampling principle scheme.\n\nC. Design limitations\n\nThe conversion speed is limited by the settling time of the\noperational amplifier used in the S/H circuits. The use of\ndouble sampling and parallelism introduces several limitations\ntraduced by errors. These errors include offsets, gain and\ntiming mismatches of the parallel channels. In this design the\n\n2094\ndifferential preamplifier followed by a latched folded cascode\ncomparator to optimize the performance between the speed\nand the power consumption [12].\noperational amplifier, the comparators and the all the logic\npart between two parallel component ADCs. This approach\nuses the well known double-sampling concept of switched\ncapacitor circuits. By using double-sampling, the equivalent\nsampling rate is doubled, but still\nthe power dissipation\nremains almost the same as for an ADC having traditional\nsingle sampled pipeline stages with a half sample rate. The\nsurface is reduced by -- 40%. In contrast, the complexity of the\npipeline stage is increased and more clock signals with\ndifferent phases are needed.\ndiff. preamp\n\nit outN loutP\n>\n| clock\n\nScheme of the double sampling multiplying OfA converter\nis shown in figure 10. The capacitors of two parallel channels\nworking on opposite clock phases share the same amplifier.\nDue to the very low incoming signal, each ADC channel has\nits own SHA stage. While the ""pipelinel"" samples the Vinl\nsignal onto the Cs and Cf capacitors independently of the\namplifier, the ""pipeline2"" switches to the amplification phase.\nTwo important side effects are caused by the amplifier\nsharing. First, the amplifier load capacitance is increased and\naffects its bandwidth. Second, the amplifier input offset is\nnever reset; this can be tolerated by an adequate amplifier\nopen loop DC-gain. The second one is very critical in this\ndesign because of the non differential architecture used here,\nand thereby no symmetric compensation is possible. Although\nalgorithms of offset correction are available [14], but they are\nboth area and power consuming.\nIn this design, an auxiliary\ninput is added to adjust manually the level of the common\nmode for each pipeline stage.\nFig. 8. Simplified comparator scheme.\nThe residue transfer curve is obtained by a precise\nmultiplier sample and hold switched capacitor circuit shown in\nfigure 9.\n1\n\no min\n\n40 ns\n01JLrlJLfLJ\n02~\nCf\n02\nFig. 9. The switched capacitor multiplier sample and hold scheme.\nThe incoming signal is sampled during phase """"I"". It is\namplified by charge redistribution during phase ""02"". During\nthe amplification phase,\nthe bottom plate of the sampling\ncapacitor (Cs) is connected to a reference voltage Vrefi which\nwill be subtracted from the amplified signal. The residue\nvalues from this operation are transmitted to the next stage.\nThe value for Vrefi is respectively 0, Vref/2 or Vref depending\non the comparator outputs (see figure 6). Vref is the dynamic\nrange of the converter, with reference to the virtual ground.\nFig. 10. A double sampling principle scheme.\nB. Double sampling stage design\nIn the final design of the MAPS, at the bottom of each pixel\ncolumn of the matrix there will be an ADC. So, the ADCs are\ndisposed in parallel (figure I). This feature can be exploited in\nthe double sampling architecture [13].\nC. Design limitations\nThe conversion speed is limited by the settling time of the\noperational amplifier used in the SfH circuits. The use of\ndouble sampling and parallelism introduces several limitations\ntraduced by errors. These errors include offsets, gain and\ntiming mismatches of the parallel channels. In this design the\nThe property of the successive ADC stages working in\nopposite clock phases can be exploited by sharing the\n2094\nthreshold and reference voltages are generated out side of the\nprototype circuit. The large number of pipeline stages using\nthe common reference voltages increases the capacitive load\nin the reference nodes. To guarantee that the reference does\nnot limit the settling speed, its output impedance has to be\nvery low (couple of tens of ohms).\n\nV. TESTING RESULTS\n\nA prototype has been designed in a CMOS 0.35um process\nfrom Austria Micro System. It includes 16 channels of the\ndescribed double sampling ADC. A photo of the chip is shown\nin figure 11. The dimensions of one full channel including the\nsample & hold amplifier stage are 80 pm x 1.4 mm. One may\nnotice also that the surface occupied by the first stage (SHA)\nis about 1/4 of the full channel.\n\n3 MDAC (1,5 bit) + flash(2bits)\n\nSample & Hold\n\nOOOOOOO\n\n¢\n¢\n¢\n4\nb\nbd\n.\n4\nb\nbd\nbd\n¢\nb\n¢\n\nuick start Bias\n\nOO 06 0O0O 00\n\nTp O47\n3\n\nrection logic\n\nO9OOF 044644609 00F\n\nFig. 11. Photo of the realized prototype.\n\nThe circuit has been tested successfully at 50 MHz; double-\nsampling concept is taken in count. In simulation, the ADC\npower dissipation at 2 V power supply is 0.69 mW this\ncorresponds to the consumption of 2 pixel columns ADCs. But\nin the test, in order to compensate offsets, the power supply is\nset to 2.95 V. and consequently, the power dissipation is\nincreased.\n\nIn figure 12 is shown the fast Fourier transform (FFT)\nspectrum for a 1 MHz sine wave input signal. The ADC\nachieves a dynamic range (SFDR) of 29 dB.\n\nAmplitude (48)\n\n° 2 a 6 e 10 12\nFrequency (Hz)\n\nFig. 12. FFT spectrum for a | MHz sine wave.\n\nThe dynamic study is done with Lab View signal analysis\ntools. The table 1 shows a summary of measured dynamic\n\nparameters.\nTABLE I\nADC DYNAMIC PERFORMANCES\n\nThe converter output differential and integral nonlinearity\nerrors (DNL, INL) are shown in figure 13.\n\nILLS)\n\nos —\n\nos\n\no4\n\n02\n\n°\n\nONL)\n\n2\n\no4\n\n06\n\n0.8\n\nFig. 13. DNL and INL results.\n\nFor this test, the input signal is a sine wave with a peak-to-\npeak amplitude close to the ADC full-scale range. Then a\nstatistical analysis method is applied to the output data. A\n\n2095\nthreshold and reference voltages are generated out side of the\nprototype circuit. The large number of pipeline stages using\nthe common reference voltages increases the capacitive load\nin the reference nodes. To guarantee that the reference does\nnot limit the settling speed, its output impedance has to be\nvery low (couple of tens of ohms).\ni\n8\n\ni\n6\nFrequency (Hz)\n\nx 10°\n4O......-----,-------r-------r---.---~--____._____,\n:::T:::n2~~;::[::::::-:[::::::-:I:::::::::t:::-:::::l:-::\na>\n:\ni\nI\n__ ~\n~\n~\n~\nI\n}\n_\n}\ni\nI\nI\nV. TESTING RESULTS\nA prototype has been designed in a CMOS 0.35J.1m process\nfrom Austria Micro System. It includes 16 channels of the\ndescribed double sampling ADC. A photo of the chip is shown\nin figure 11. The dimensions of one full channel including the\nsample & hold amplifier stage are 80 J.1m x 1.4 mm. One may\nnotice also that the surface occupied by the first stage (SHA)\nis about 1/4 of the full channel.\n~ ----------~-------\'--~--------\n_100L---_------J\'-----_----L__------\'--__----\'-__----l-__- - \' - - - - - - - \'\n6\no\n12\n10\n8\nFrequency (Hz)\nx 106\nFig. 12. FFT spectrum for a I MHz sine wave.\nThe dynamic study is done with Lab View signal analysis\ntools. The table 1 shows a summary of measured dynamic\nparameters.\n3 MDAC (1,5 bit) + flash(2bits)\nSample & Hold\n\n|\n:\n\nPOOOOOO\n\nADC dimensions: 1.4 mm * 80 um\n\n| |\nquick start Bias t\n\nee\ncorrection logic\nO9OOd 94444490004\n\nTABLE I\nADC DYNAMIC PERFORMANCES\n1.00021 MHz\n-27 dB\n20.95 dB\n21.86 dB\n29 dB\nFundamental frequency\nTHD: total harmonic distortion\nSINAD: signal-to-noise-and-distortion ratio\nSNR: signal-to-noise ratio\nSFDR: spurious-free dynamic range\nThe converter output differential and integral nonlinearity\nerrors (DNL, INL) are shown in figure 13.\nADC output code\n\nADC output code\n\n@svnnt\n\nferro\n0.5\n-0.5\n-1 \' - - - - - - \' - - - - - - \' - - - - - - - - \' - - - - - - - - \' - - - - - - - - - - - -\no\n15\nADC output code\n20\n25\nFig. 11. Photo of the realized prototype.\nThe circuit has been tested successfully at 50 MHz; double \nsampling concept is taken in count. In simulation, the ADC\npower dissipation at 2 V power supply is 0.69 mW this\ncorresponds to the consumption of 2 pixel columns ADCs. But\nin the test, in order to compensate offsets, the power supply is\nset\nthe power dissipation is\nincreased.\n1\nto 2.95 V. and consequently,\n- -1- -\n-\n-\n-\n1\n-\nI\n-\n-\n-\n-\n- 1- -\n-\n-\n-\n1\nf-\nI\n1\n- -I -\n1\n1\nIn figure 12 is shown the fast Fourier transform (FFT)\nspectrum for a 1 MHz sine wave input signal. The ADC\nachieves a dynamic range (SFDR) of 29 dB.\n- + - - - - - 1- -\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-\nI\nI\n1\n-0.8 \' - - - - - \' - - - - - - \' - - - - - \' - - - - - - \' - - - - - - \' - - - - - - \'\no\n15\nADC output code\nFig. 13. DNL and INL results.\nFor this test, the input signal is a sine wave with a peak-to \npeak amplitude close to the ADC full-scale range. Then a\nstatistical analysis method is applied to the output data. A\n2095\nmaximum DNL error of 0.7 LSB and a maximum INL error of\n1.2 LSB have been measured using a cumulative histogram\nmethod [15]. The DNL refers to the irregularity in the width of\nthe quantization, while the INL quantifies the displacement of\nthe transition levels from their nominal positions. Even if the\nINL and DNL errors are slightly superior to 4% LSB, no\nmissing code is observed on the histogram of ADC out put\ncode (figure 14). Theoretically to assure no missing code, the\nDNL and INL errors have to be less than 2 LSB [16].\n\n10 15 20\nADC output code\n\nFig. 14. ADC output histogram.\n\nFor the next ILC experiment, the beam duty cycle will be\nvery low (~1%). It is therefore worthy to switch on the analog\npart of the circuit only when used, thus making the total power\ndissipation directly proportional to the beam duty cycle. This\ncircuit includes such fast and efficient “power ON” capability.\nThe analog bias settling and ADC wakening time result is\ngiven in figure 15. This bias pulsing circuit has already been\nintegrated and tested in our precedent version of ADC [8],\n[10].\n\n[\n2s ere)\ni\n| Analog bias\nsettling\n\n‘ADC response te sine\n\nFig. 15. Analog bias settling time and full ADC wakening results.\n\nFrom the falling edge of a pulsing clock, the ADC begin to\nconvert properly only after 14 ps. In the standby idle mode\n(pulsing clock at high level), the full analog part of the\nconverter is switched OFF and the analog power dissipation is\nreduced to a ratio better than 1/1000. The characteristics of the\ndesign and some testing results are summarized in the table 2.\n\nTABLE II\nADC PERFORMANCE SUMMARY\n\npower Frequency | Dimension | _L ory =\ncomoumetion\nSupply wis) | (umeym) | (es) (se) td\nwir 06 | win -O7 | 342\npd Waal? 25 | 40°1400 | aan: +1.2 | max: +0.7\nZV maiog\nSimulation | -2V Dighal eo ed 0 0 0.69\n\nVI. CONCLUSION\n\nFor Monolithic active pixel sensors, a 5 bit 50 MHz double-\nsampling A/D converter has been implemented in 0.35 pm\nCMOS technology. It achieves 29 dB of SFDR with a typical\nDC dissipation of 1.38 mW per 4 pixel columns; this\ncorresponds to 0.35 mW/column, It is designed in perspective\nof the next linear collider (ILC). The full ADC includes an\namplification sample and hold stage. A 1.5  bit/stage\narchitecture is used for the converter in a non differential\nconfiguration. The size of one channel layout is 80 pm x 1.4\nmm. A very efficient fast power pulsing is integrated with this\ncircuit to reduce the total DC power dissipation according to\nthe beam low duty cycle. Due to its high performances, this\nADC can be widely used in high energy physics and\nbiomedical imaging applications.\n\nACKNOWLEDGMENT\n\nWe would thank Marc Winter, Christine Hu, Isabelle Valin,\nClaude Colledani, Frederic Morel and all CMOS group\nmembers from the IPHC / IN2P3 laboratory in Strasbourg for\nmany discussions on MAPS design constraints. We thank also\nelectronic group and all the staff of LPSC/IN2P3 laboratory in\nGrenoble.\n\nREFERENCES\n\n1] M. Winter et al., ""A swift and slim flavour tagger exploiting the CMOS\nsensor technology"", Proc. of International Linear Collider Workshop,\nStanford (USA), March 2005.\n\n2] Y. Li et al, “CMOS sensors for the vertex detector of the future\ninternational linear collider”, Nucl. Instrum. Methods Phys. Res. A,\nVolume 572, Issue 1, | March 2007, Pages 300-304\n\n3] Y. Degerli et al, “A fast monolithic active pixel sensor with pixel-level\nreset noise suppression and binary outputs for charged particle\ndetection”: IEEE Trans. on Nucl. Science, Vol.52, December 2005, pp.\n3186-3193.\n\n4] N.T. Fourches, M. Besangon, Y. Li, P. Lutz, F. Orsini, “Fast neutron\nirradiation of Monolithic Active Pixel Sensors dedicated to particle\ndetection”, Volume 576, Issue 1, 11 June 2007, Pages 173-177.\n\n5] S. H. Lewis, et al., “10-b 20-Msample/s analog-to-digital converter,”\nIEEE J. Solid-State Circuits, vol. 27, pp.351-358, March 1992\n\n6] T. B. Cho and P. R. Gray, “A 10-bit, 20-MS/s, 35-mW pipeline A/D\nconverter,” in Proc. IEEE Custom Integrated Circuits Conf., May 1994,\npp23.2.1-23.2.4.\n\n7) B.P. Brandt and J. Lutsky, “A 75-mW, 10-b, 20-MSPS CMOS\nsubranging ADC with 9.5 effective bits at Nyquist” IEEE Journal of\nSolid State Circuit , pp.1788-1795 Dec. 1999.\n\n8] J. Bouvier, M. Dahoumane, D. Dzahini, J-Y. Hostachy, E. Lagorio, O.\nRossetto, H. Ghazlane and D. Dallet, “A Low Power and low signal 5-\nbit 25MS/s Pipelined ADC for Monolithic Active Pixel Sensors”, IEEE\nNSS, San Diego USA, 2006\n\n2096\nmaximum DNL error of 0.7 LSB and a maximum INL error of\n1.2 LSB have been measured using a cumulative histogram\nmethod [15]. The DNL refers to the irregularity in the width of\nthe quantization, while the INL quantifies the displacement of\nthe transition levels from their nominal positions. Even if the\nINL and DNL errors are slightly superior to ~ LSB, no\nmissing code is observed on the histogram of ADC out put\ncode (figure 14). Theoretically to assure no missing code, the\nDNL and INL errors have to be less than ~ LSB [16].\nTABLE II\nADC PERFORMANCE SUMMARY\nX power\nFrequency\nDimension\nINL\nDNL\nPower\ncomsumption\n(mW)\nSupply\n(MHz)\n(Lsb)\n(Lsb)\n(~m*~m)\nMin: -0.8\nMax: +1.2\nMin: -0.7\nMax: +0.7\n3.42\ntest\n·2.95 V analog\n·2 V digiQl\n40*1400\n25\n40*1400\n25\n\'2 V analog\n\'2 V Digital\n0.69\nSimulation\nhistogamme\n\n‘ADC output code\nhistogamme\nVI. CONCLUSION\nFor Monolithic active pixel sensors, a 5 bit 50 MHz double \nsampling A/D converter has been implemented in 0.35 Jlm\nCMOS technology. It achieves 29 dB of SFDR with a typical\nDC dissipation of 1.38 mW per 4 pixel columns;\nthis\ncorresponds to 0.35 mW/column. It is designed in perspective\nof the next linear collider (lLC). The full ADC includes an\namplification sample\nand hold stage. A 1.5 bit/stage\narchitecture is used for the converter in a non differential\nconfiguration. The size of one channel layout is 80 Jlm X 1.4\nmm. A very efficient fast power pulsing is integrated with this\ncircuit to reduce the total DC power dissipation according to\nthe beam low duty cycle. Due to its high performances, this\nADC can be widely used in high energy physics and\nbiomedical imaging applications.\n35\n25\n30\n10\n15\nADC output code\n20\nFig. 14. ADC output histogram.\nFor the next ILC experiment, the beam duty cycle will be\nvery low (--1 %). It is therefore worthy to switch on the analog\npart of the circuit only when used, thus making the total power\ndissipation directly proportional to the beam duty cycle. This\ncircuit includes such fast and efficient ""power ON"" capability.\nThe analog bias settling and ADC wakening time result is\ngiven in figure 15. This bias pulsing circuit has already been\nintegrated and tested in our precedent version of ADC [8],\n[10].\nACKNOWLEDGMENT\nWe would thank Marc Winter, Christine Hu, Isabelle Valin,\nClaude Colledani, Frederic Morel and all CMOS group\nmembers from the IPHC / IN2P3 laboratory in Strasbourg for\nmany discussions on MAPS design constraints. We thank also\nelectronic group and all the staff of LPSC/IN2P3 laboratory in\nGrenoble.\nREFERENCES\n[I] M. Winter et aI., ""A swift and slim flavour tagger exploiting the CMOS\nsensor technology"", Proc. of International Linear Collider Workshop,\nStanford (USA), March 2005.\n[2] Y. Li et ai, ""CMOS sensors for the vertex detector of the future\nlinear collider"", Nucl. Instrum. Methods Phys. Res. A,\ninternational\nVolume 572, Issue I, I March 2007, Pages 300-304\n[3] Y. Degerli et ai, ""A fast monolithic active pixel sensor with pixel-level\nreset noise suppression and binary outputs\nfor charged particle\ndetection"": IEEE Trans. on Nucl. Science, Vo1.52, December 2005, pp.\n3186-3193.\n[4] NT. Fourches, M. Besanryon, Y. Li, P. Lutz, F. Orsini, ""Fast neutron\nirradiation of Monolithic Active Pixel Sensors dedicated to particle\ndetection"", Volume 576, Issue I, 11 June 2007, Pages 173-177.\nS. H. Lewis, et aI., ""IO-b 20-Msample/s analog-to-digital converter,""\nIEEE 1. Solid-State Circuits, vol. 27, pp.351-358, March 1992\nT. B. Cho and P. R. Gray, ""A 10-bit, 20-MS/s, 35-mW pipeline AID\nconverter,"" in Proc. IEEE Custom Integrated Circuits Conf., May 1994,\npp23.2.1-23.2.4.\n[5]\nFig. 15. Analog bias settling time and full ADC wakening results.\n[6]\nFrom the falling edge of a pulsing clock, the ADC begin to\nconvert properly only after 14 JlS. In the standby idle mode\n(pulsing clock at high level),\nthe full analog part of the\nconverter is switched OFF and the analog power dissipation is\nreduced to a ratio better than 1/1000. The characteristics of the\ndesign and some testing results are summarized in the table 2.\n[7] B.P. Brandt and 1. Lutsky, ""A 75-mW, 10-b, 20-MSPS CMOS\nsubranging ADC with 9.5 effective bits at Nyquist"" IEEE Journal of\nSolid State Circuit, pp.l788-1795 Dec. 1999.\n1. Bouvier, M. Dahoumane, D. Dzahini, J-Y. Hostachy, E. Lagorio, O.\nRossetto, H. Ghazlane and D. Dallet, ""A Low Power and low signal 5 \nbit 25MS/s Pipelined ADC for Monolithic Active Pixel Sensors"", IEEE\nNSS, San Diego USA, 2006.\n[8]\n2096\n[9] D. Johns, K W. Matin, K. Martin “Analog integrated circuit design”,\nOctober 1996, pages 428-433\n\n[10] M. Dahoumane et al, “A low power and low signal 4 bit 50MS/s double\n\nsampling pipelined ADC for Monolithic Active Pixel Sensors”, 2008\n\nJINST 3 P03002.\n\n11] D. Dzahini, H. Ghazlane, “Auto-zero stabilized CMOS amplifiers for\n\nvery low voltage or current offset” IEEE Nuclear Science Symposium,\n\nPortland, (USA), 20 -24/10/2003.\n\n12] D. Dzahini “A high speed low power CMOS comparator”,\n\ncommunication at CERN for LARG collaboration, 1994.\n\n13] K. Nagaraj et al “A 250-mW, 8-b, 52-Msamples/s parallel-pipelined\n\nA/D converter with reduced number of amplifiers”, IEEE Journal of\n\nSolid-State Circuits, Volume 32, Issue 3, March 1997 Page(s):312 —\n\n320.\n\n14] C.S.G. Conroy et al “An 8-b 85-MS/s parallel pipeline A/D converter in\n\n1-4m CMOS”, IEEE Journal of Solid-State Circuits, Volume 28, Issue\n\n4, April 1993 Page(s):447 - 454\n\n15] D. Dallet and J.M. Da Silva, “Dynamic Characterization of Analogue-to-\n\nDigital Converters”, Springer, 2005.\n\n16] “INL/DNL Measurements for High-Speed Analog-to-Digital Converters\n(ADCs)”, Maxim > Designer\'s Library > App Notes > A/D and D/A\nConversion/Sampling Circuits High-Speed Signal Processing , APP 283:\nNov 20, 2001\n\n2097\n[9] D. Johns, K W. Matin, K. Martin ""Analog integrated circuit design"",\nOctober 1996, pages 428-433\n[10] M. Dahoumane et al, ""A low power and low signal 4 bit 50MS/s double\nsampling pipelined ADC for Monolithic Active Pixel Sensors"", 2008\nJINST 3 P03002.\n[11] D. Dzahini, H. Ghazlane, ""Auto-zero stabilized CMOS amplifiers for\nvery low voltage or current offset"" IEEE Nuclear Science Symposium,\nPortland, (USA), 20 -24/10/2003.\n[12] D. Dzahini\n""A high\nspeed low power CMOS comparator"",\ncommunication at CERN for LARG collaboration, 1994.\n[13] K. Nagaraj et al ""A 250-mW, 8-b, 52-Msamplesls parallel-pipelined\nAID converter with reduced number of amplifiers"", IEEE Journal of\nSolid-State Circuits, Volume 32,\nIssue 3, March 1997 Page(s):312  \n320.\n[14] C.S.G. Conroy et al ""An 8-b 85-MS/s parallel pipeline AID converter in\n1-).lm CMOS"", IEEE Journal of Solid-State Circuits, Volume 28, Issue\n4, April 1993 Page(s):447 - 454\n[15] D. Dallet and J.M. Da Silva, ""Dynamic Characterization of Analogue-to \nDigital Converters"", Springer, 2005.\n[16] ""INL/DNL Measurements for High-Speed Analog-to-Digital Converters\n(ADCs)"", Maxim> Designer\'s Library> App Notes> AID and D/A\nConversion/Sampling Circuits High-Speed Signal Processing, APP 283:\nNov 20, 2001\n2097\n']",
A Low Power and Low Signal 4 Bit 50MSs Double Sampling Pipelined ADC for Monolithic Active Pixel Sensors.pdf,"['Journal of Instrumentation\n\nSISSA\n\nA low power and low signal 4 bit 50MS/s double\nsampling pipelined ADC for Monolithic Active Pixel\nSensors\n\nTo cite this article: M Dahoumane et a/ 2008 JINST 3 P03002\n\nView the article online for updates and enhancements.\n\nRelated content\n\n- A 12-bit 40 MS/s pipelined ADC with over\n80 dB SFDR\nWei Qi, Yin Xiumei, Han Dandan et al.\n\n- CMOS Monolithic Active Pixel Sensors\n\nMAPS) for future vertex detectors\nR Turchetta\n\n- Depleted Monolithic Pixels (DMAPS) in a\n150 nm technology: lab and beam results\nT. Obermann, T. Hemperek, F. Hiigging et\nal.\n\nRecent citations\n\n- Conceptual design of 3D integrated pixel\nsensors for the innermost layer of the ILC\nvertex detector\nY Fu et al\n\nThis content was downloaded from IP address 195.208.27.194 on 12/05/2021 at 12:06\nRECEIVED: October 25, 2007\nREVISION: December 26, 2007\nACCEPTED: February 20, 2008\n\nPUBLISHED: March 11, 2008\n\nji t PUBLISHED BY INSTITUTE OF PHYSICS PUBLISHING AND SISSA\nIns)\n\nA low power and low signal 4 bit 50MS/s double\nsampling pipelined ADC for Monolithic Active Pixel\nSensors\n\nM. Dahoumane, alflp, Dzahini,“ J. Bouvier,” E. Lagorio,” L. Gallin- Martel,’\nJ.Y. Hostachy,’ O. Rossetto, dy, Hu,’ H. Ghazlane’ and D. Dallet“\n“ LPSC, 53 Av. Des Martyrs 38026 Grenoble, France\n° PHC. 23 rue du Loess 67037 Strasbourg, France\n© CNESTEN, BP 1382 RP 10001, Rabat, Morocco\n4 ryt, 351 Cours de la Libération, 33405 Talence Cedex, France\n\nE-mail: mokrane .dahoumane@lpsc.in2p3.fr\n\nABSTRACT: A 4 bit very low power and low incoming signal analog to digital converter (ADC)\nusing a double sampling switched capacitor technique, designed for use in CMOS monolithic\nactive pixels sensor readout, has been implemented in 0.35um CMOS technology. A non-\nresetting sample and hold stage is integrated to amplify the incoming signal by 4. This first\nstage compensates both the amplifier offset effect and the input common mode voltage\nfluctuations. The converter is composed of a 2.5 bit pipeline stage followed by a 2 bit flash\nstage. This prototype consists of 4 ADC double-channels; each one is sampling at 50MS/s and\ndissipates only 2.6mW at 3.3V supply voltage. A bias pulsing stage is integrated in the circuit.\nTherefore, the analog part is switched OFF or ON in less than lps. The size for the layout is\n80um-0.9mm. This corresponds to the pitch of 4 pixel columns, each one is 20m wide.\n\nKEYWORDS: Analogue electronic circuits; VLSI circuits; Front-end electronics for detector\nreadout.\n\n* Corresponding author.\n\n© 2008 IOP Publishing Ltd and SISSA http://www. iop.org/EJ/jinst/\nPUBLISHED BY INSTITUTE OF PHYSICS PUBLISHING AND SISSA\nR E C E I V E D :   O c t o b e r   2 5 ,   2 0 0 7\nR E V I S I O N :   D e c e m b e r   2 6 ,   2 0 0 7\nA C C E P T E D :   F e b r u a r y   2 0 ,   2 0 0 8\nP U B L I S H E D :   M a r c h   1 1 ,   2 0 0 8\n \n \n \nA low power and low signal 4 bit 50MS/s double \nsampling pipelined ADC for Monolithic Active Pixel \nSensors   \nM. Dahoumane,ab* D. Dzahini,a J. Bouvier,a E. Lagorio,a L. Gallin-Martel,a \nJ.Y. Hostachy,a O. Rossetto,a Y. Hu,b H. Ghazlanec and D. Dalletd    \na LPSC, 53 Av. Des Martyrs 38026 Grenoble, France \nb IPHC, 23 rue du Loess 67037 Strasbourg, France  \nc CNESTEN, BP 1382  RP 10001, Rabat, Morocco \nd IXL, 351 Cours de la Libération, 33405 Talence Cedex, France \nE-mail: mokrane.dahoumane@lpsc.in2p3.fr \nABSTRACT: A 4 bit very low power and low incoming signal analog to digital converter (ADC) \nusing  a  double  sampling  switched  capacitor  technique,  designed  for  use  in  CMOS  monolithic \nactive  pixels  sensor  readout,  has  been  implemented  in  0.35µm  CMOS  technology.  A  non-\nresetting  sample  and  hold  stage  is  integrated  to  amplify  the  incoming  signal  by  4.  This  first \nstage  compensates  both  the  amplifier  offset  effect  and  the  input  common  mode  voltage \nfluctuations.  The  converter  is  composed  of  a  2.5  bit  pipeline  stage  followed  by  a  2  bit  flash \nstage. This prototype consists of 4 ADC double-channels; each one is sampling at 50MS/s and \ndissipates only 2.6mW at 3.3V supply voltage. A bias pulsing stage is integrated in the circuit. \nTherefore, the analog part is switched  OFF or ON in less than 1µs. The  size  for the layout is \n80µm*0.9mm. This corresponds to the pitch of 4 pixel columns, each one is 20µm wide. \n \n \nKEYWORDS:  Analogue  electronic  circuits;  VLSI  circuits;  Front-end  electronics  for  detector \nreadout.  \n                                                           \n* Corresponding author. \n©  2008 IOP Publishing Ltd and SISSA  \nhttp://www.iop.org/EJ/jinst/ \n \nContents\n\n1. Introduction 1\n\n2. The sample and hold amplifier (sha)\n2.1 The OTA architecture\n\n2.2 The SHA performances\n\n.2.1 Compensation of the amplifier input offset:\n.2.2 Compensation of the charge injection offset:\n\nBK] W]]\n\n.2.3 Compensation of the pixel common mode voltage fluctuation:\n\nB. The pipeline a/d converter\n\n4)\n\n0\n\nB.1 2.5 bit pipelined stage\n3.2 Double sampling\n3.3 Performance limitations\n\n4. Testing results\n\n\\o\n\n_\n\n5. Conclusion 1\n\n1. Introduction\n\nIn the next generation of linear colliders required for future high energy physics experiments such as\nthe International linear collider (ILC), precise vertex detectors will be necessary to study the Higgs\nmechanism. To build this high performance detector, three options are possible: Charge coupled\nDevices (CCD), Hybrid pixel Detectors (HPD) and Monolithic active pixel sensors (MAPS).\nFabricated in standard CMOS technology, MAPS are an attractive alternative for the other detectors.\nThey have several potential advantages like Low power, Low fabrication costs, high spatial\nresolution, flexibility, radiation hardness, compactness, random access and fast read-out.\nThe use of MAPS in particle physics will strongly depend on a successful implementation\nof an on-chip read-out electronics. This is not a trivial task because of different factors:\nco Very small signal amplitudes, in the range of millivolts, which are the same order of\nmagnitude as transistor threshold variations of a CMOS process;\ncoo The technology process used has to be chosen according to the particle detection\nperformances (e.g. epitaxial layer thickness);\nThe layout has to be adjusted to the (small) pixel pitch;\nThe number of metal layers is modest (only 4 layers);\nAnd the power budget is a critical issue, the consumption of pixel column ADC\nmust be less than 500nW.\nIn this paper, a double sampling analog to digital converter (ADC) is described. It is\ndesigned according to the requirements of pixel arrays developed at IPHC-Strasbourg in\n\ncollaboration with DAPNIA-Saclay, in perspective of the Linear Collider vertex detector\n\nThe pixel array with its associated read-out and A/D conversion stages are shown in\n\n8\n\n8\n\n8\n \nContents \n1 \n1. Introduction \n3 \n3 \n4 \n4 \n5 \n5 \n5 \n6 \n8 \n8 \n2. The sample and hold amplifier (sha) \n2.1 The OTA architecture \n2.2 The SHA  performances \n2.2.1 Compensation of the amplifier input offset: \n2.2.2 Compensation of the charge injection offset: \n2.2.3 Compensation of the pixel common mode voltage fluctuation: \n3. The pipeline a/d converter \n3.1 2.5 bit pipelined stage \n3.2 Double sampling \n3.3 Performance limitations \n9 \n4. Testing results \n5. Conclusion \n11 \n \n \n1. Introduction \nIn the next generation of linear colliders required for future high energy physics experiments such as \nthe International linear collider (ILC), precise vertex detectors will be necessary to study the Higgs \nmechanism.  To  build  this  high  performance  detector,  three  options  are  possible:  Charge  coupled \nDevices  (CCD),  Hybrid  pixel  Detectors  (HPD)  and  Monolithic  active  pixel  sensors  (MAPS). \nFabricated in standard CMOS technology, MAPS are an attractive alternative for the other detectors. \nThey  have  several  potential  advantages  like  Low  power,  Low  fabrication  costs,  high  spatial \nresolution, flexibility, radiation hardness, compactness, random access and fast read-out.  \nThe use of MAPS in particle physics will strongly depend on a successful implementation \nof an on-chip read-out electronics. This is not a trivial task because of different factors: \n•  Very small signal amplitudes, in the range of millivolts, which are the same order of \nmagnitude as transistor threshold variations of a CMOS process; \n•  The  technology  process  used  has  to  be  chosen  according  to  the  particle  detection \nperformances (e.g. epitaxial layer thickness); \n•  The layout has to be adjusted to the (small) pixel pitch; \n•  The number of metal layers is modest (only 4 layers); \n•  And  the  power  budget  is  a  critical  issue,  the  consumption  of  pixel  column  ADC \nmust be less than 500µW. \nIn  this  paper,  a  double  sampling  analog  to  digital  converter  (ADC)  is  described.  It  is \ndesigned  according  to  the  requirements  of  pixel  arrays  developed  at  IPHC-Strasbourg  in \ncollaboration  with  DAPNIA-Saclay,  in  perspective  of  the  Linear  Collider  vertex  detector  [1]. \nThe pixel array with its associated read-out and A/D conversion stages are shown in figure 1. \n \n– 1 –\nINCOOOGOS000\nIOOOS0000000\nOOOO OOOOOOC\nHuss:\n\nSBE REEEHE SESH\nDOOODPoo05050\nEe HH\n\na\n\nIo\n\n(a\nINDOOINOOOS00000\n\neeeeeeeuceeeeg|\n\nte\nq\n{1\nHE\n4\n{i\nq\n{a\n4\n\nBEE\n{a\nOI\nele\niO\niO\n{ns\n{a\nin|\n{ns\n\nOD OOODH500000\nIODDO0050000000\nIOOoooooooooo0o0o0ooR\n\nOo\n==\n\nee\nHEE\nEEE\nHH\nBede HEH\n\nLt\nBEEP PRE RETA EREREEE Peer\nCMOS Active pixel sensorartray 1\n\nSeti\nTREGEE\naa\naeccee |i\nHEHHnHrE\nDOSS 000000 H0e\nBRS eee 1\nSeoC ECC ecco annie AA ocr i\n\npipelined analog to digital co. fers\n\n(a\n(a\nan\n\nDODO OD0DNSaDRt\nim) IODIDE\nAn\nHEEEEEEEEE EH\nDODO DODO!\n\nHH\na\nH\n\n3\n\nFigure 1. Global MAPS planned architecture.\n\nThese MAPS are currently being developed and characterized at IPHC/Strasbourg in\ncollaboration with CEA/Saclay and manufactured by TSMC through MOSIS They are\nbased on DC pixel architecture which integrates in-situ a first conditioning micro-circuit. The\nsignal at the analog output is the difference between a reference level (calibration) and the readout\nsignal (read). This leads the signal extraction and a reduction of the output pedestals (offsets). The\npixel columns are read in parallel with a frequency in excess of 10 kHz. Actually, on the bottom of\neach column is integrated a discriminator, which will be replaced in future by an ADC.\n\nThe pixel’s columns width amounts to 251m at present, but it should become 20 microns\nin the next prototypes. The minimal signal delivered by each column is typically on the order of\na mV, this constitutes a first challenge for the read-out circuit design. Then, comes the fast\nsampling rate ADC (50 MS/s). Each ADC converts 4 pixel columns with a frequency\nof 10 (MS/s)/column. Finally, the power budget should remain as low as about 500 1. W/column.\n\nTo design such an ADC, the choice was done between; full flash, one bit/stage pipelined or\n2.5 bit/stage pipelined architecture. The three architectures are suitable for low resolution, but\nonly 2.5 bit/stage architecture leads to the comparator offset error correction and provides the\nbest deal between speed, consumption and area. An overview block diagram of a 4 bit pipelined\nADC is shown in\n\nThe SHA stage samples, holds and amplifies the analog input signal. It is followed by a 2.5\nbit pipelined stage and a 2 bit flash stage. The pipelined stage produces a digital estimate of an\nincoming held signal, then converts this estimate back to the analog, subtracts the result from\nthe held input. This residue is then amplified before being transferred to the next flash stage\nwhich determines the least significant bits (LSB). The successive digital results from the ADC\nstages are appropriately delayed throughout a bit alignment network. Then a digital error\ncorrection stage is added to leave room for the comparator offsets correction. Therefore,\ncomparator constraints are relaxed and the power consumption is reduced.\n\nThis paper describes hereafter each stage of this converter and we present some testing\nresults.\n204\n\nDERE R RA SORE EE EA\nSESE E ES SEES eee ee et 9 8\nQDODOORODOROOOOr JOODODOOOOODOOEL g\nDOOOOODODOOODDE > JODOCSOO0RNoo! bf\nBee Bee ©\nOOOROOORSbSReor Peccsestccesoces FS\nPPPreeeeee Serer 8\npeecseceneeeeae 4 JOODODOCOCOnonn =\nQOODOS50000000E © JOOS00000000000L § __|\nQOOS9DS500000000E % Jo00000000000o! go\nQOODORO0GNO00oC a JOOS SO000O8o5} 2a\nBee S See eee 2\nPEPER e ERE\nPPPPrReeeeer = Pheer ep\nPeer © Pee © Ba\nFrere Serene Fy\ns\nDeSoeoeeneooeoe = EERE = 3\nQOOCSRO00SS8800C 9 joogco00000o00000! &_)\nOODS00000RHH00C IO O00 00000000! S\nTE soc HeeHHeeHHHEE HA\nOOOO ROO OOOO RO GRO SOSRROno Gy\nINDO CO COOOOOOOOOOOo ooo oenooooo!\nit\nE\nA\n \nFigure 1. Global MAPS  planned architecture. \nThese  MAPS  are  currently  being  developed  and  characterized  at  IPHC/Strasbourg  in \ncollaboration  with  CEA/Saclay  and  manufactured  by  TSMC  through  MOSIS  [2],[3].  They  are \nbased  on  DC  pixel  architecture  which  integrates  in-situ  a  first  conditioning  micro-circuit.  The \nsignal at the analog output is the difference between a reference level (calibration) and the readout \nsignal (read). This leads the signal extraction and a reduction of the output pedestals (offsets). The \npixel columns are read in parallel with a frequency in excess of 10 kHz. Actually, on the bottom of \neach column is integrated a discriminator, which will be replaced in future by an ADC.  \nThe pixel’s columns width amounts to 25µm at present, but it should become 20 microns \nin the next prototypes. The minimal signal delivered by each column is typically on the order of \na  mV,  this  constitutes  a  first  challenge  for  the  read-out  circuit  design.  Then,  comes  the  fast \nsampling rate ADC (50 MS/s). Each ADC converts 4 pixel columns (figure 1) with a frequency \nof 10 (MS/s)/column. Finally, the power budget should remain as low as about 500 µW/column.  \nTo design such an ADC, the choice was done between; full flash, one bit/stage pipelined or \n2.5 bit/stage pipelined architecture. The three architectures are suitable for low resolution, but \nonly 2.5 bit/stage architecture leads to the comparator offset error correction and provides the \nbest deal between speed, consumption and area.  An overview block diagram of a 4 bit pipelined \nADC is shown in figure 2 [4],[5],[6],[7]. \nThe SHA stage samples, holds and amplifies the analog input signal. It is followed by a 2.5 \nbit pipelined stage and a 2 bit flash stage. The pipelined stage produces a digital estimate of an \nincoming held signal, then converts this estimate back to the analog, subtracts the result from \nthe  held  input.  This  residue  is  then  amplified  before  being  transferred  to  the  next  flash  stage \nwhich determines the least significant bits (LSB). The successive digital results from the ADC \nstages  are  appropriately  delayed  throughout  a  bit  alignment  network.  Then  a  digital  error \ncorrection  stage  is  added  to  leave  room  for  the  comparator  offsets  correction.  Therefore, \ncomparator constraints are relaxed and the power consumption is reduced.  \nThis  paper  describes  hereafter  each  stage  of  this  converter  and  we  present  some  testing \nresults.  \n – 2 –\nuw\n\nDigital output = 4 bits\n\nFigure 2. General block diagram of a 4 bit pipelined converter.\n\nFigure 3. Sample and Hold Amplifier (SHA) scheme.\n\n2. The sample and hold amplifier (sha)\n\nA charge redistribution non-inverting architecture is used. Figure 3 jillustrates the sampling phase\n(phi2 is ON). “vee_SH” is the name for the virtual ground. The signal is stored onto the set of 4\nsampling capacitors (C37...C40). Then during the HOLD (phil), the charge is transferred to the\nfeedback capacitor C23. This results in amplification by 4 of the differential signal between the\nreference (dark level) and the intensity level. Each capacitor unit in this scheme is 127 fF. these\ncapacitor values are chosen in function of the area limitation and kT/C noise factor.\n\n2.1 The OTA architecture\n\nTelescopic cascode architecture of the amplifier implemented is shown in This\namplifier is used in both SHA stage and pipelined stage.\n\nThe current mirror load is a so called “wide swing cascode” It improves the dynamic\nrange better than a basic cascode and makes the design robust for future low voltage version.\nThe Bode diagram simulation results on a 2 pF load capacitance and 177pA current\nconsumption are shown in It achieves a 40dB open loop gain and 100 MHz unity gain\nfrequency with 80° phase margin.\nWe\n\ncLK\n\ncLK cLK\n\nBits alignment + Offset error correction\n\nJ Digital output = 4 bits\n \nFigure 2. General block diagram of a 4 bit pipelined converter. \n \nFigure 3. Sample and Hold Amplifier (SHA) scheme. \n2. The sample and hold amplifier (sha) \nA charge redistribution non-inverting architecture is used. Figure 3 illustrates the sampling phase \n(phi2 is ON). “vee_SH” is the name for the virtual ground. The signal is stored onto the set of 4 \nsampling capacitors (C37...C40). Then during the HOLD (phi1), the charge is transferred to the \nfeedback capacitor C23. This results in amplification by 4 of the differential signal between the \nreference (dark level) and the intensity level. Each capacitor unit in this scheme is 127 fF. these \ncapacitor values are chosen in function of the area limitation and kT/C noise factor. \n2.1 The OTA architecture \nTelescopic  cascode  architecture  of  the  amplifier  implemented  is  shown  in  figure  4  [8].  This \namplifier is used in both SHA stage and pipelined stage. \nThe current mirror load is a so called “wide swing cascode” [3]. It improves the dynamic \nrange better than a basic  cascode and  makes the design robust for future low voltage version. \nThe  Bode  diagram  simulation  results  on  a  2  pF  load  capacitance  and  177µA  current \nconsumption are shown in figure 5. It achieves a 40dB open loop gain and 100 MHz unity gain \nfrequency with 80° phase margin. \n – 3 –\nFigure 4. A wide swing telescopic OTA.\n\nBaa VE Toute) (VFN) = FTI)\n\n26.0, PraselVF( Vout ot)\n\nWW 1 of 1 of we i 1? me\nfre ta)\n\nFigure 5. Bode diagram.\n\nThe same OTA (as in the SHA circuit) is used in the 2.5 bit conversion stage but with a\nlower power dissipation.\n\n2.2 The SHA performances\n\nThe architecture used for this first stage is not fully differential one, because of the budget\nrestriction in term of power and area. This pseudo differential architecture compensates the\noffset errors coming from different sources.\n\n2.2.1 Compensation of the amplifier input offset:\n\nThe amplifier offset is the voltage difference between the two inputs of amplifier. It is due to the\nprocess dispersion and layout mismatches. This offset is stored onto the feedback capacitor C23\nduring the sampling phase (phi2). During the hold phase (phil), the charges are transferred from\nthe sampling capacitors to the feedback capacitor C23 annulling the offset error and leading to an\namplification by the ratio of the capacitors. Figure 6|shows the gain variation versus the input\nsignal. It stays close to the optimal value of 4, when the OTA’s offset parameter varies from -10\nmV up to 10 mV.\n\n||None|\n|||\n||None|||\n|| \nFigure 4. A wide swing telescopic OTA. \n‘req (Hz)\n \nFigure 5. Bode diagram. \nThe same OTA (as in the SHA circuit) is used in the 2.5 bit conversion stage but with a \nlower power dissipation.  \n2.2 The SHA  performances \nThe  architecture  used  for  this  first  stage  is  not  fully  differential  one,  because  of  the  budget \nrestriction  in  term  of  power  and  area.  This  pseudo  differential  architecture  compensates  the \noffset errors coming from different sources.  \n2.2.1 Compensation of the amplifier input offset: \nThe amplifier offset is the voltage difference between the two inputs of amplifier. It is due to the \nprocess dispersion and layout mismatches. This offset is stored onto the feedback capacitor C23 \nduring the sampling phase (phi2). During the hold phase (phi1), the charges are transferred from \nthe sampling capacitors to the feedback capacitor C23 annulling the offset error and leading to an \namplification  by  the  ratio  of  the  capacitors.  Figure  6  shows  the  gain  variation  versus  the  input \nsignal. It stays close to the optimal value of 4, when the OTA’s offset parameter varies from -10 \nmV up to 10 mV. \n – 4 –\n]\n\\+1Om¥ |\n|\n|\n|\n|\n\n~~\nSs\n4. Om\\ =\n|\n|\n-10mV |\n|\n3 |\n|\nf Input (mV)\n""0 8. 16""\n\nFigure 6. SHA gain versus input signal, with the OTA offset as a second parameter.\n\nOutput\nerror (mV) +10m\\\nLa\n\nOm\\\n\n| Input (mV)\n“0 5 16\n\nFigure 7. SHA output error versus the input signal, with the OTA offset as a second parameter.\n\nThe gain error is more important for the smallest input values, but it is not an absolute\nerror. The error on the SHA output does not depend on the input signal. In [figure lis shown the\nregularity of the SHA output error (in mV) when the input signal varies from 0 to 16 mV (the\ninput full dynamic range is 16 mV).\n\n2.2.2 Compensation of the charge injection offset:\n\nThe charge injection offset is one of the most redundant problems of the switched capacitor\narchitectures. When the switches go to the “OFF” position, the charges coming from the\ntransistor channels will create an offset which is critical here since the capacitors are very small.\nThis offset is controlled using “non overlapping 4 phase clocks” which are not detailed in the\n\nfigure 3 |scheme for ease of read.\n2.2.3 Compensation of the pixel common mode voltage fluctuation:\n\nThe positive and the negative branches of the SHA scheme are perfectly symmetric and the\namplifier inputs are floating. This feature leads to the cancellation of the common mode voltage\nfluctuation effect. [Figure 8]shows the SHA linearity when the common mode voltage varies\nfrom -50 mV up to +50 mV.\n\n3. The pipeline a/d converter\n\nDouble sampling switched capacitor architecture is used in this design. This technique consists\nof sharing the active components between two adjacent ADC channels.\nGain\n\n\\\n| \\+10mx\n\nan\n\nInput (mV)\n16°\n \nFigure 6. SHA gain versus input signal, with the OTA offset as a second parameter. \nOutput\nerror (mY) +10m\\\n1.\nOm\\\n€\nFl -10.\n“1\n\nInput\n\nanv)\n\n16\n \nFigure 7. SHA output error versus the input signal, with the OTA offset as a second parameter. \nThe  gain  error  is  more  important  for  the  smallest  input  values,  but  it  is  not  an  absolute \nerror. The error on the SHA output does not depend on the input signal. In figure 7 is shown the \nregularity of the SHA output error (in mV) when the input signal varies from 0 to 16 mV (the \ninput full dynamic range is 16 mV). \n2.2.2 Compensation of the charge injection offset: \nThe  charge  injection  offset  is  one  of  the  most  redundant  problems  of  the  switched  capacitor \narchitectures.  When  the  switches  go  to  the  “OFF”  position,  the  charges  coming  from  the \ntransistor channels will create an offset which is critical here since the capacitors are very small. \nThis offset is controlled using “non overlapping 4 phase clocks” which are not detailed in the \nfigure 3 scheme for ease of read. \n2.2.3 Compensation of the pixel common mode voltage fluctuation: \nThe  positive  and  the  negative  branches  of  the  SHA  scheme  are  perfectly  symmetric  and  the \namplifier inputs are floating. This feature leads to the cancellation of the common mode voltage \nfluctuation  effect.  Figure  8  shows  the  SHA  linearity  when  the  common  mode  voltage  varies \nfrom -50 mV up to +50 mV. \n3. The pipeline a/d converter \nDouble sampling switched capacitor architecture is used in this design. This technique consists \nof sharing the active components between two adjacent ADC channels.    \n \n \n – 5 –\nOutput\n(mv)\n60»\n\nTnput anv)\n“o : 8 ° 16\n\nFigure 8. SHA linearity versus the common mode voltage fluctuation.\n\nSample —- Hold\n\n4xVin — 3Vref\n\nVout\n(Residue)\n\nTranscoder 6 to 3\n\nFigure 9. Bloc diagram of a 2.5bit pipelined stage.\n\n3.1 2.5 bit pipelined stage\n\nFigure 9]illustrates the implementation of a 2.5 bit pipeline stage. The A/D block consists of six\ncomparators. The D/A conversion, subtraction, amplification, and S/H functions are performed\nby a switched capacitor circuit with a resolution of 2.5 bit per stage and an interstage gain of 4.\nHence the transfer function of this stage is Vs = 4*Vin - 3* Vref, where Vref are the reference\nvoltages selected by the DAC depending on the sub-ADC output code (b2b1b0).\n\nThe transfer function for a 2.5 bit stage is shown in The expression “2.5 bit” is\nused to point out that only 7 combinations out of the 8 are acceptable for the output codes. The\n(1, 1, 1) code is avoided, thereby the interstage amplifier should not saturate and this leaves\nroom for the digital error correction.\n\nThe maximum comparator offset value tolerated is Vref/16 =+4 mV. Vref is the full range\ndynamic of this converter (Vref = 64 mV). A simplified schematic of the comparator is given in\nIt consists of a low gain and low offset differential preamplifier followed by a latched\nfolded cascode comparator\n\nThe residue transfer curve is obtained by a precise multiplier sample and hold switched\n\ncapacitor circuit shown in figure 12\n\nThe incoming signal is sampled during phase “g,”. It is amplified by charge redistribution\nduring phase “g;”. During this amplification phase, the bottom plate of the sampling capacitor (Cs)\nis connected to a reference voltage Vref; which will be subtracted from the amplified signal. The\n\nresidue resulting from this operation is transmitted to the next stage. The value for Vref} is respec-\n\nyutput\n\namv’)\n\n4+50mV_\n\n<—\n\n-Somv\n\nInput\n\nTe\n \nFigure 8. SHA linearity versus the common mode voltage fluctuation. \nVout\n(Residue)\n\nHold\n4xVin — 3Vref\n\nSample\n\nVin\n \nFigure 9. Bloc diagram of a 2.5bit pipelined stage. \n3.1 2.5 bit pipelined stage  \nFigure 9 illustrates the implementation of a 2.5 bit pipeline stage. The A/D block consists of six \ncomparators. The D/A conversion, subtraction, amplification, and S/H functions are performed \nby a switched capacitor circuit with a resolution of 2.5 bit per stage and an interstage gain of 4. \nHence the transfer function of this stage is Vs = 4*Vin - 3* Vrefi where Vrefi are the reference \nvoltages selected by the DAC depending on the sub-ADC output code (b2b1b0).  \nThe transfer function for a 2.5 bit stage is shown in figure 10. The expression “2.5 bit” is \nused to point out that only 7 combinations out of the 8 are acceptable for the output codes. The \n(1,  1,  1)  code  is  avoided,  thereby  the  interstage  amplifier  should  not  saturate  and  this  leaves \nroom for the digital error correction.  \nThe maximum comparator offset value tolerated is Vref/16 = ±4 mV. Vref is the full range \ndynamic of this converter (Vref = 64 mV). A simplified schematic of the comparator is given in \nfigure 11. It consists of a low gain and low offset differential preamplifier followed by a latched \nfolded cascode comparator [9]. \nThe  residue  transfer  curve  is  obtained  by  a  precise  multiplier  sample  and  hold  switched \ncapacitor circuit shown in figure 12.  \nThe  incoming  signal  is  sampled  during  phase  “øs”.  It  is  amplified  by  charge  redistribution \nduring phase “øf”. During this amplification phase, the bottom plate of the sampling capacitor (Cs) \nis connected to a reference voltage Vrefi which will be subtracted from the amplified signal. The \nresidue resulting from this operation is transmitted to the next stage. The value for Vrefi is respec- \n \n – 6 –\nVref\n\n3Vref sVref QVref_ 11Vref 13Vref .\n6 ee Veef\n\nFigure 10. 2.5 bit residue transfer curve.\n\nVin\n\nwe —F ux | @s\n\nL\nvrett— 21 | =\n\nVout\n\nFigure 12. The switched capacitor multiplier sample and hold scheme.\nVref\n\nsVref_ £\nBWref svref tyyep 9Vref_ 11Vref 13Vre!\n1% Te —— “16 “ «+w\n\nVr\n\nef\n \nFigure 10. 2.5 bit residue transfer curve. \n|None||\n||None|\n|None||\n|None|| \nFigure 11. Simplified comparator scheme. \nVin\n\nve Fux | @s\n\ni\nvrett—4 721 | =\n\nVout\n\n \nFigure 12. The switched capacitor multiplier sample and hold scheme. \n – 7 –\nPipelinet |\n32 Ct\n\n\\Wrerr Tux? 2\nH 1\n\nfone 1 1\n‘vrett —g 721)\n\nFigure 13. A double sampling principle scheme.\n\ntively 0, Vref/6, Vref/3, Vref/2, 2Vref/3, 5Vref/6, or Vref depending on the comparators outputs\n(see [figure 9). Vref is the dynamic range of the converter, with reference to the virtual ground.\n\n3.2 Double sampling\n\nIn the final design of the MAPS, at the bottom of each pixel column of the matrix there will be\nan ADC. So, the ADCs are disposed in parallel. This feature can be exploited in the double\nsampling architecture.\n\nThe property of the successive ADC stages working in opposite clock phases can be\nexploited by sharing the operational amplifier, the comparators and the all the logic part between\ntwo parallel component ADCs. This approach uses the well known double-sampling concept of\nswitched capacitors circuits. By using double-sampling, the equivalent sampling rate is doubled,\nbut still the power dissipation remains almost the same as for an ADC having traditional single\nsampled pipeline stages with a half sample rate. The area is reduced by 40%. In contrast, the com-\nplexity of the pipeline stage is increased and more clock signals with different phases are needed.\n\nScheme of the double sampling multiplying D/A converter is shown in The\ncapacitors of two parallel channels working on opposite clock phases share the same amplifier.\nDue to the very low incoming signal, each ADC channel has its own SHA stage. While the\npipeline] samples the Vin1 signal onto the Cs and Cf capacitors independently of the amplifier,\nthe pipeline2 switches to the amplification phase.\n\nTwo important side effects are caused by the amplifier sharing. First, the amplifier load\ncapacitance is increased and affects its bandwidth. Second, the amplifier input offset is never\nreset; this can be tolerated by an adequate amplifier open loop DC-gain. The second one is very\ncritical in this design because of the non differential architecture used here, and thereby no\nsymmetric compensation is possible.\n\n3.3 Performance limitations\n\nThe conversion speed is limited by the settling time of the operational amplifier used in the S/H\ncircuits. The use of double sampling and parallelism introduces several errors. These errors\ninclude offsets, gain and timing mismatches of the parallel channels. In this design the threshold\nand reference voltages are generated out side of the prototype circuit. The large number of\npipeline stages using the common reference voltages increases the capacitive load in the refe-\nPipeline\n\nPipeline2\n\n!7>1\n\nmight alia\n\nVreft\n\n \nFigure 13. A double sampling principle scheme. \ntively 0, Vref/6, Vref/3, Vref/2, 2Vref/3, 5Vref/6, or Vref depending on the comparators outputs \n(see figure 9). Vref is the dynamic range of the converter, with reference to the virtual ground. \n3.2 Double sampling  \nIn the final design of the MAPS, at the bottom of each pixel column of the matrix there will be \nan  ADC.  So,  the  ADCs  are  disposed  in  parallel.  This  feature  can  be  exploited  in  the  double \nsampling architecture.  \nThe  property  of  the  successive  ADC  stages  working  in  opposite  clock  phases  can  be \nexploited by sharing the operational amplifier, the comparators and the all the logic part between \ntwo parallel component ADCs. This  approach uses the well known double-sampling concept of \nswitched capacitors circuits. By using double-sampling, the equivalent sampling rate is doubled, \nbut still the power dissipation remains almost the same as for an ADC having traditional single \nsampled pipeline stages with a half sample rate. The area is reduced by 40%. In contrast, the com-\nplexity of the pipeline stage is increased and more clock signals with different phases are needed.  \nScheme  of  the  double  sampling  multiplying  D/A  converter  is  shown  in  figure  13.  The \ncapacitors of two parallel channels working on opposite clock phases share the same amplifier.  \nDue  to  the  very  low  incoming  signal,  each  ADC  channel  has  its  own  SHA  stage.  While  the \npipeline1 samples the Vin1 signal onto the Cs and Cf capacitors independently of the amplifier, \nthe pipeline2 switches to the amplification phase.  \nTwo  important  side  effects  are  caused  by  the  amplifier  sharing.  First,  the  amplifier  load \ncapacitance  is  increased  and  affects  its  bandwidth.  Second,  the  amplifier  input  offset  is  never \nreset; this can be tolerated by an adequate amplifier open loop DC-gain. The second one is very \ncritical  in  this  design  because  of  the  non  differential  architecture  used  here,  and  thereby  no \nsymmetric compensation is possible.  \n3.3 Performance limitations \nThe conversion speed is limited by the settling time of the operational amplifier used in the S/H \ncircuits.  The  use  of  double  sampling  and  parallelism  introduces  several  errors.  These  errors \ninclude offsets, gain and timing mismatches of the parallel channels. In this design the threshold \nand  reference  voltages  are  generated  out  side  of  the  prototype  circuit.  The  large  number  of \npipeline stages using the common reference voltages increases the capacitive load in the refe- \n \n – 8 –\nAmplitude (dB)\n\nFrequency (Hz) x10\n\nFigure 15. FFT spectrum.\n\nrence nodes. To guarantee that the reference does not limit the settling speed, its output\nimpedance has to be very low (couple of tens of ohms).\n\nA prototype has been designed in a CMOS 0.35p process from Austria Micro System. It\nincludes 4 channels of the double sampling ADC described. A photo of the chip is shown in\nThe dimensions of one full channel including the sample & hold amplifier stage are\n80um*0.9mm. One may notice also that the area occupied by the first stage (SHA) is about 1/4\nof the full channel.\n\n4. Testing results\n\nThe circuit has been tested successfully at 50 MHz; double-sampling concept is taken in count.\nThe full double sampling ADC dimensions are 80m*0.9mm. Its power dissipation at 3.3 V\npower supply is 2.6 mW this corresponds to the consumption of 4 pixel columns ADCs.\n\nIn figure 15]is shown the fast Fourier transform (FFT) spectrum for a 1 MHz sine wave\ninput signal. The dynamic range is in the order of 24dB and the computed SINAD value is\n10.35 dB. The ADC achieves 12.35 dB of SNHR.\n\nThe converter output differential and integral nonlinearity errors (DNL, INL) are shown in\nFor this test, the input signal was a sine wave with a peak-to-peak amplitude close to\nthe ADC full-scale range (16mV). Then a statistical analysis method is applied to the output\nS/H stage —eeeeeenes 4 bit ADC\n\n \nFigure 14. Prototype photo  including 4 ADC channels. \n \nFigure 15. FFT spectrum. \nrence  nodes.  To  guarantee  that  the  reference  does  not  limit  the  settling  speed,  its  output \nimpedance has to be very low (couple of tens of ohms).  \nA prototype has been designed in a CMOS 0.35µ process from Austria Micro System. It \nincludes  4  channels  of  the  double  sampling  ADC  described.  A  photo  of  the  chip  is  shown  in \nfigure 14. The dimensions of one full channel including the sample & hold amplifier stage are \n80µm*0.9mm. One may notice also that the area occupied by the first stage (SHA) is about 1/4 \nof the full channel. \n4. Testing results \nThe circuit has been tested successfully at 50 MHz; double-sampling concept is taken in count. \nThe  full  double  sampling  ADC  dimensions  are  80µm*0.9mm.  Its  power  dissipation  at  3.3  V \npower supply is 2.6 mW this corresponds to the consumption of 4 pixel columns ADCs.   \nIn  figure  15  is  shown  the fast  Fourier  transform  (FFT)  spectrum  for  a  1  MHz  sine  wave \ninput  signal.  The  dynamic  range  is  in  the  order  of  24dB  and  the  computed  SINAD  value  is \n10.35 dB. The ADC achieves 12.35 dB of SNHR.  \nThe converter output differential and integral nonlinearity errors (DNL, INL) are shown in \nfigure 16. For this test, the input signal was a sine wave with a peak-to-peak amplitude close to \nthe  ADC  full-scale  range  (16mV).  Then  a  statistical  analysis  method  is  applied  to  the  output  \n \n – 9 –\nY :\nost i 4\nos 4\noat DNL 1\nosh 4\noak 4\n\nS oat 4\n\no|— J\n‘orf 4\n-o2} 4\noak sass] 4\noa 4\n\n0 3 10 15\ncode\no8F 5\nost. |\nINL\nost. 4\n\n« 4\n\n2\n\n0 4\noak J\nasl a n\n\na 5 19 is\n\ncode\nFigure 16. DNL and INL testing results.\n| Déclenché\n\nTek Exéc. |\n\ni)\nred\n\n|\n\nos eee oc,\nP|\n\nHer\n\nibe be\n\ni:\noO:\nHAgd i\n\n(em_50.0mvV | Ch2[ 7.00 V2] M[400ns] Al Cht 7 77.0 mv]\n\nFigure 17. Analog bias switching results.\n\n—10—\n\ndata. The DNL and INL were measured using a cumulative histogram method The DNL\nrefers to the irregularity in the width of the quantization, while the INL quantifies the\ndisplacement of the transition levels from their nominal positions.\n\nFor the next ILC experiment, the beam duty cycle will be very low (~1%). It is therefore\nworthy to switch on the analog part of the circuit only when used, thus making the total power\ndissipation directly proportional to the beam duty cycle. This circuit includes such fast and\nefficient “power ON” capability. The analog bias settling result is given in This bias\npulsing circuit has already been integrated and tested in our precedent version of ADC\npublished last year (San Diego IEEE NSS 2006).\na6\n\nos\n\na4\n\n03\n\n0.2\n\nDNL.\n\nCodei\n \no8\n\nos\n\nCodei\n \nFigure 16. DNL and INL testing results. \n|Deéclenche\n\nPebble dsb dbo dba bari ok do bed\n\nP|\n\n50.0 mV\n\nCh2|\n\n4.00 VQ\n\nA\n\nChi S 77.0 mV\n\n \nFigure 17. Analog bias switching results. \ndata. The DNL and INL were measured using a cumulative histogram method [10]. The DNL \nrefers  to  the  irregularity  in  the  width  of  the  quantization,  while  the  INL  quantifies  the \ndisplacement of the transition levels from their nominal positions. \nFor the next ILC experiment, the beam duty cycle will be very low (~1%). It is therefore \nworthy to switch on the analog part of the circuit only when used, thus making the total power \ndissipation  directly  proportional  to  the  beam  duty  cycle.  This  circuit  includes  such  fast  and \nefficient “power ON” capability. The analog bias settling result is given in figure 17. This bias \npulsing  circuit  has  already  been  integrated  and  tested  in  our  precedent  version  of  ADC \npublished last year (San Diego IEEE NSS 2006). \n – 10 – \nFrom the falling edge of a pulsing clock, the bias current is settled after only lus. In the\nstandby idle mode (pulsing clock at high level), the full analog part of the converter is switched\nOFF and the analog power dissipation is reduced to a ratio better than 1/1000.\n\n5. Conclusion\n\nFor Monolithic active pixel sensors, a 4bit 50 MHz double-sampling A/D converter has been\nfabricated in CMOS technology. It achieves 24dB of SFDR with a typical DC dissipation of\n2,6mW per 4 pixel columns; this corresponds to 0.6 mW/column. It is designed in perspective\nof the next linear collider (ILC). The full ADC includes an amplification sample and hold stage.\nA 2.5 bit/stage architecture is used for the converter in a non differential configuration. The size\nfor one channel layout is 80um*0.9mm. A very efficient fast power pulsing is integrated with\nthis circuit to reduce the total DC power dissipation.\n\nAcknowledgment\n\nWe would thank Marc Winter, Christine Hu, Isabelle Valin, and Claude Colledani from the\nIPHC / IN2P3 laboratory in Strasbourg for this useful collaboration with them and many\ndiscussions on their MAPS design constraints.\n\nReferences\n\n1] M. Winter et al., A swift and slim flavour tagger exploiting the CMOS sensor technology, Proc. of\n\nInternational Linear Collider Workshop, |LCWS-2005-0808, Stanford U.S.A. (2005).\n\n2] Y. Degerli et al, A fast monolithic active pixel sensor with pixel level reset noise suppression and\n\nbinary outputs for charged particle detection, [EEE Trans. Nucl. Sci. 52 (2005) 3186]\n\n3] N.T. Fourches, M. Besangon, Y. Li, P. Lutz and F. Orsini, Fast neutron irradiation of Monolithic\n\nActive Pixel Sensors dedicated to particle detection, Nucl. Instrum. Meth. A 576 (2007) 173\n\n4] S.H. Lewis, et al., /0-b 20-Msample/s analog-to-digital converter, [EEE J. Solid State Circuits 27\n1992) 351\n\n5] T-.B. Cho and P.R. Gray, A 10-bit, 20-MS/s, 35-mW pipeline A/D converter, Proc. IEEE Custom\n[integrated Circuits Conf. (1994) 23.2.1]\n\n6] B.P. Brandt and J. Lutsky, A 75-mW, 10-b, 20-MSPS CMOS subranging ADC with 9.5 effective bits\n\nat Nyquist, EEE J. Solid State Circuits 34 (1999) 1788\n\n7] J. Bouvier et al., A Low Power and low signal 5-bit 25MS/s Pipelined ADC for Monolithic Active\n\nPixel Sensors, San Diego U.S.A., WEEE Nucl. Sci. Symp. Conf. Rec. 1 (2006) 375]\n\n8] D. Dzahini and H. Ghazlane, Auto-zero stabilized CMOS amplifiers for very low voltage or current\noffset, Portland U.S.A., JEEE Nucl. Sci. Symp. Conf. Rec. 1 (2003) 6]\n\n9] D. Dzahini, A high speed low power CMOS comparator, communication at CERN for LARG\ncollaboration (1994).\n\n10] D. Dallet and J.M. Da Silva, Dynamic Characterization of Analogue-to-Digital Converters,\nSpringer (2005).\n\n—ll-\nFrom the falling edge of a pulsing clock, the bias current is settled after only 1µs. In the \nstandby idle mode (pulsing clock at high level), the full analog part of the converter is switched \nOFF and the analog power dissipation is reduced to a ratio better than 1/1000.  \n5. Conclusion \nFor  Monolithic  active  pixel  sensors,  a  4bit  50  MHz  double-sampling  A/D  converter  has  been \nfabricated  in  CMOS  technology.  It  achieves  24dB  of  SFDR  with  a  typical  DC  dissipation  of \n2,6mW per 4 pixel columns; this corresponds to 0.6 mW/column. It is designed in perspective \nof the next linear collider (ILC). The full ADC includes an amplification sample and hold stage. \nA 2.5 bit/stage architecture is used for the converter in a non differential configuration. The size \nfor one channel layout is 80µm*0.9mm. A very efficient fast power pulsing is integrated with \nthis circuit to reduce the total DC power dissipation. \nAcknowledgment \nWe  would  thank  Marc  Winter,  Christine  Hu,  Isabelle  Valin,  and  Claude  Colledani  from  the \nIPHC  /  IN2P3  laboratory  in  Strasbourg  for  this  useful  collaboration  with  them  and  many \ndiscussions on their MAPS design constraints. \nReferences \n[1]  M. Winter et al., A swift and slim flavour tagger exploiting the CMOS sensor technology, Proc. of \nInternational Linear Collider Workshop, LCWS-2005-0808, Stanford U.S.A. (2005). \n[2]  Y. Degerli et al, A fast monolithic active pixel sensor with pixel level reset noise suppression and \nbinary outputs for charged particle detection, IEEE Trans. Nucl. Sci. 52 (2005) 3186. \n[3]  N.T. Fourches, M. Besançon, Y. Li, P. Lutz and F. Orsini, Fast neutron irradiation of Monolithic \nActive Pixel Sensors dedicated to particle detection, Nucl. Instrum. Meth. A 576 (2007) 173. \n[4]  S.H. Lewis, et al., 10-b 20-Msample/s analog-to-digital converter, IEEE J. Solid State Circuits 27 \n(1992) 351. \n[5]  T.B.  Cho  and  P.R.  Gray,  A  10-bit,  20-MS/s,  35-mW  pipeline  A/D  converter,  Proc.  IEEE  Custom \nIntegrated Circuits Conf. (1994) 23.2.1. \n[6]  B.P. Brandt and J. Lutsky, A 75-mW, 10-b, 20-MSPS CMOS subranging ADC with 9.5 effective bits \nat Nyquist, IEEE J. Solid State Circuits 34 (1999) 1788. \n[7]  J. Bouvier et al., A Low Power and low signal 5-bit 25MS/s Pipelined ADC for Monolithic Active \nPixel Sensors, San Diego U.S.A., IEEE Nucl. Sci. Symp. Conf. Rec. 1 (2006) 375. \n[8]  D. Dzahini and H. Ghazlane, Auto-zero stabilized CMOS amplifiers for very low voltage or current \noffset, Portland U.S.A., IEEE Nucl. Sci. Symp. Conf. Rec. 1 (2003) 6. \n[9]  D.  Dzahini,  A  high  speed  low  power  CMOS  comparator,  communication  at  CERN  for  LARG \ncollaboration (1994). \n[10]  D.  Dallet  and  J.M.  Da  Silva,  Dynamic  Characterization  of  Analogue-to-Digital  Converters, \nSpringer (2005). \n \n – 11 – \n']",
A Digital 25um Pixel-Pitch Uncooled Amorphous Silicon TEC-less VGA IRFPA with Massive Parallel Sigma-Delta-ADC Readout.pdf,"['A digital 25um pixel-pitch uncooled amorphous silicon TEC-less VGA\nIRFPA with massive parallel Sigma-Delta-ADC readout\n\nDirk Weiler, Marco Russ, Daniel Wiirfel, Renee Lerch, Pin Yang, Jochen Bauer, Holger Vogt\nFraunhofer Institute of Microelectronic Circuits and Systems (IMS), FinkenstraBe 61,\nD-47057 Duisburg, Germany\n\nABSTRACT\n\nThis paper presents an advanced 640 x 480 (VGA) IRFPA based on uncooled microbolometers with a pixel-pitch of\n25um developed by Fraunhofer-IMS. The IRFPA is designed for thermal imaging applications in the LWIR (8 .. 144m)\nrange with a full-frame frequency of 30 Hz and a high sensitivity with NETD < 100 mK @ f/1. A novel readout\narchitecture which utilizes massively parallel on-chip Sigma-Delta-ADCs located under the microbolometer array results\nin a high performance digital readout. Sigma-Delta-ADCs are inherently linear. A high resolution of 16 bit for a second-\norder Sigma-Delta-modulator followed by a third-order digital sinc-filter can be obtained. In addition to several thousand\nSigma-Delta-ADCs the readout circuit consists of a configurable sequencer for controlling the readout clocking signals\nand a temperature sensor for measuring the temperature of the IRFPA. Since packaging is a significant part of IRFPA’s\nprice Fraunhofer-IMS uses a chip-scaled package consisting of an IR-transparent window with antireflection coating and\na soldering frame for maintaining the vacuum. The IRFPAs are completely fabricated at Fraunhofer-IMS on 8” CMOS\nwafers with an additional surface micromachining process. In this paper the architecture of the readout electronics, the\npackaging, and the electro-optical performance characterization are presented.\n\nKeywords: Infrared detector, IRFPA, VGA, uncooled microbolometer, amorphous silicon, Sigma-Delta-ADC on chip\n\n1. INTRODUCTION\n\nLow-cost thermal imaging is dominated by uncooled infrared focal plane arrays (IRFPAs) using microbolometers based\non vanadium oxide’? (VO,) or amorphous silicon®* (a-Si) as the sensing material. Uncooled IRFPAs operate at ambient\ntemperature and benefit from the abdication of a Stirling cooler in terms of low-cost, low power dissipation, low weight,\nand reduced volume. Typical applications for IRFPAs are thermal imaging, pedestrian detection for automotive driving-\nassistance systems, fire fighting, biological imagery, or military applications like target recognition.\n\nFraunhofer IMS is one of over 50 institutes of the Germans “Fraunhofer Gesellschaft”. With its competence in the areas\nof CMOS semiconductor components and technology, sensors and microsystems, circuit design and ASIC production the\nFraunhofer IMS covers the complete potential of microelectronics. The Fraunhofer IMS has been certified according to\nDIN EN ISO 9001:2000 and the IC-Fab according to ISO TS 16949. The presented VGA-IRFPA is completely\nfabricated at Fraunhofer IMS on 8” CMOS wafers with an additional surface micromachining process for the\nmicrobolometers and the vacuum package.\n\n2. IRFPA\n\nThe presented IRFPA is based on uncooled microbolometers with a pixel pitch of 25um and a VGA resolution of\n640 x 480 pixel. The IRFPA is designed for a high sensitivity (noise equivalent temperature difference NETD) of\nNETD < 100 mK at a full frame frequency of 30Hz. Due to the high dynamic range of 16 Bit realized by LA-ADCs a\nTEC-less operation in the temperature range between -40 °C and 80 °C is possible.\n\nThe technical data of the presented VGA-IRFPA are summarized in table 1.\n\nInfrared Technology and Applications XXXVI, edited by Bjarn F. Andresen, Gabor F. Fulop, Paul R. Norton,\nProc. of SPIE Vol. 7660, 76600S - © 2010 SPIE - CCC code: 0277-786X/10/$18 - doi: 10.1117/12.849839\n\nProc. of SPIE Vol. 7660 76600S-1\n\nDownloaded From: http://proceedings.spiedigitallibrary.org/ on 05/18/2015 Terms of Use: http://spiedl.org/terms\nA digital 25um pixel-pitch uncooled amorphous silicon TEC-less VGA\nIRFPA with massive parallel Sigma-Delta-ADC readout\n\nDirk Weiler, Marco Russ, Daniel Wiirfel, Renee Lerch, Pin Yang, Jochen Bauer, Holger Vogt\nFraunhofer Institute of Microelectronic Circuits and Systems (IMS), FinkenstraBe 61,\nD-47057 Duisburg, Germany\n\nABSTRACT\n\nThis paper presents an advanced 640 x 480 (VGA) IRFPA based on uncooled microbolometers with a pixel-pitch of\n25um developed by Fraunhofer-IMS. The IRFPA is designed for thermal imaging applications in the LWIR (8 .. 14m)\nrange with a full-frame frequency of 30 Hz and a high sensitivity with NETD < 100 mK @ f/l. A novel readout\narchitecture which utilizes massively parallel on-chip Sigma-Delta-ADCs located under the microbolometer array results\nin a high performance digital readout. Sigma-Delta-ADCs are inherently linear. A high resolution of 16 bit for a second-\norder Sigma-Delta-modulator followed by a third-order digital sinc-filter can be obtained. In addition to several thousand\nSigma-Delta-ADCs the readout circuit consists of a configurable sequencer for controlling the readout clocking signals\nand a temperature sensor for measuring the temperature of the IRFPA. Since packaging is a significant part of IRFPA’s\nprice Fraunhofer-IMS uses a chip-scaled package consisting of an IR-transparent window with antireflection coating and\na soldering frame for maintaining the vacuum. The IRFPAs are completely fabricated at Fraunhofer-IMS on 8” CMOS\nwafers with an additional surface micromachining process. In this paper the architecture of the readout electronics, the\npackaging, and the electro-optical performance characterization are presented.\n\nKeywords: Infrared detector, IRFPA, VGA, uncooled microbolometer, amorphous silicon, Sigma-Delta-ADC on chip\n\n1. INTRODUCTION\n\nLow-cost thermal imaging is dominated by uncooled infrared focal plane arrays (IRFPAs) using microbolometers based\non vanadium oxide’ (VO,) or amorphous silicon®* (a-Si) as the sensing material. Uncooled IRFPAs operate at ambient\ntemperature and benefit from the abdication of a Stirling cooler in terms of low-cost, low power dissipation, low weight,\nand reduced volume. Typical applications for IRFPAs are thermal imaging, pedestrian detection for automotive driving-\nassistance systems, fire fighting, biological imagery, or military applications like target recognition.\n\nFraunhofer IMS is one of over 50 institutes of the Germans “Fraunhofer Gesellschaft”. With its competence in the areas\nof CMOS semiconductor components and technology, sensors and microsystems, circuit design and ASIC production the\nFraunhofer IMS covers the complete potential of microelectronics. The Fraunhofer IMS has been certified according to\nDIN EN ISO 9001:2000 and the IC-Fab according to ISO TS 16949. The presented VGA-IRFPA is completely\nfabricated at Fraunhofer IMS on 8” CMOS wafers with an additional surface micromachining process for the\nmicrobolometers and the vacuum package.\n\n2. IRFPA\n\nThe presented IRFPA is based on uncooled microbolometers with a pixel pitch of 25um and a VGA resolution of\n640 x 480 pixel. The IRFPA is designed for a high sensitivity (noise equivalent temperature difference NETD) of\nNETD < 100 mK at a full frame frequency of 30Hz. Due to the high dynamic range of 16 Bit realized by XA-ADCs a\nTEC-less operation in the temperature range between -40 °C and 80 °C is possible.\n\nThe technical data of the presented VGA-IRFPA are summarized in table 1.\n\nInfrared Technology and Applications XXXVI, edited by Bjorn F. Andresen, Gabor F. Fulop, Paul R. Norton,\nProc. of SPIE Vol. 7660, 76600S - © 2010 SPIE - CCC code: 0277-786X/10/$18 - doi: 10.1117/12.849839\n\nProc. of SPIE Vol. 7660 76600S-1\n\nDownloaded From: http://proceedings.spiedigitallibrary.org/ on 05/18/2015 Terms of Use: http://spiedl.org/terms\nInfrared Technology and Applications XXXVI, edited by Bjørn F. Andresen, Gabor F. Fulop, Paul R. Norton, \nProc. of SPIE Vol. 7660, 76600S · © 2010 SPIE · CCC code: 0277-786X/10/$18 · doi: 10.1117/12.849839\nProc. of SPIE Vol. 7660  76600S-1\nTable 1. Parameters of IMS VGA-IRFPA\n\nParameter Value\nImage format 640 x 480\nFrame frequency (progressive) | 30 Hz\nOutput signal 16 bit (digital)\nTemperature range -40 °C ..80 °C\nPower supply voltage 3.3 V and 1.8 V (digital)\n\n3.3 V (analog)\n\nNETD <100 mK (design value)\n\nThe block diagram of the presented VGA-IRFPA is shown in figure 1.\n\nBlind bolomter\nExternal blocking Temperature- |_- Vtemp\ncapacitors sensor L\n|\ng\n5 1 640 x 480\n8 microbolometer array with\n-— 2 integrated ZA-ADC\n— 5 External reference\nsources\n: DACs\n<———_———__—_;—__| ,""*\nBlind bolometer : Biasing\nCt) Video 16 Bit\nPC clock —4>} 25 [7 Multiplexer = 146\ni | 32 Digital\n’C data——>) £8 video -7-—® Hsyne\n23 interface | -\nclock —j>} f° [| Row control [1m Vsync\nreset —»| |} Pixelclock\n\nprea\n\nFigure 1. Block diagram of IMS VGA-IRFPA\n\nThe 640 x 480 microbolometer array is read out by using massively parallel XA-ADCs located under the array. A certain\namount of microbolometers is multiplexed by one LA-ADC. Blind microbolometers with a reduced responsivity are\nlocated in a ring arround the active microbolometer array. The LA-ADCs convert the scene dependent resistor change\ndirectly into 16 bit digital signals. These 16 bit image signals are fed into the digital video interface by a multiplexer. A\nsequencer controls the readout pattern by selecting each LA-ADC using a line and row control block. The configuration\nof the sequencer can be changed using an I°C-like interface. A built-in self-test supports the wafer test und reduces test\ntime. The digital video interface provides three synchronization signals (horizontal, vertical and pixelclock) in addition\nto the image signals. A temperature sensor measures the temperature of the IRFPA. The temperature sensor is realized by\nthree diodes connected in series followed by a buffer as an analog output stage. The temperature signal Viemp is an analog\nvoltage proportional to the temperature of the IRFPA and can be used for TEC-less operation. The IRFPA needs one\nanalog supply voltage of Vag, = 3.3 V and two digital supply voltages of Vgaq= 3.3 V and Vga) = 1.8 V. Five different\nreference voltages are necessary for biasing the A-ADC. Apart from a reset signal and the ’C configuration signals the\nIRFPA needs only one digital clock signal.\n\nProc. of SPIE Vol. 7660 76600S-2\n\nDownloaded From: http://proceedings.spiedigitallibrary.org/ on 05/18/2015 Terms of Use: http://spiedl.org/terms\nTable 1. Parameters of IMS VGA-IRFPA\n\nParameter Value\n\nImage format 640 x 480\n\nFrame frequency (progressive) | 30 Hz\n\nOutput signal 16 bit (digital)\n\nTemperature range -40 °C ..80 °C\n\nPower supply voltage 3.3 V and 1.8 V (digital)\n3.3 V (analog)\n\nNETD <100 mK (design value)\n\nThe block diagram of the presented VGA-IRFPA is shown in figure 1.\n\nfl Blind bolomter\nExternal blocking —! Temperature- -+—> Vtemp\ncapacitors sensor L\ng\n5 1 |__J 640 x 480\n8 microbolometer array with\n2 integrated XA-ADC\n— 5 External reference\nsources\n: DACs\n| _""*\nBlind bolometer : Biasing\nCt) Video 16 Bit\nPC clock ——>| 2. [ Multiplexer [ -16\n: £2 FG t—, pen\nS 2 Digital\n’C data——>) £8 video -7-—® Hsyne\n23 interface | -\nclock —j>} SF? [| Row control [1m Vsync\nreset —»| |} Pixelclock\n\nprea\n\nFigure 1. Block diagram of IMS VGA-IRFPA\n\nThe 640 x 480 microbolometer array is read out by using massively parallel LA-ADCs located under the array. A certain\namount of microbolometers is multiplexed by one LA-ADC. Blind microbolometers with a reduced responsivity are\nlocated in a ring arround the active microbolometer array. The LA-ADCs convert the scene dependent resistor change\ndirectly into 16 bit digital signals. These 16 bit image signals are fed into the digital video interface by a multiplexer. A\nsequencer controls the readout pattern by selecting each LA-ADC using a line and row control block. The configuration\nof the sequencer can be changed using an I°C-like interface. A built-in self-test supports the wafer test und reduces test\ntime. The digital video interface provides three synchronization signals (horizontal, vertical and pixelclock) in addition\nto the image signals. A temperature sensor measures the temperature of the IRFPA. The temperature sensor is realized by\nthree diodes connected in series followed by a buffer as an analog output stage. The temperature signal Viemp is an analog\nvoltage proportional to the temperature of the IRFPA and can be used for TEC-less operation. The IRFPA needs one\nanalog supply voltage of Vaua = 3.3 V and two digital supply voltages of Vgaa = 3.3 V and Vaa2 = 1.8 V. Five different\nreference voltages are necessary for biasing the EA-ADC. Apart from a reset signal and the °C configuration signals the\nIRFPA needs only one digital clock signal.\n\nProc. of SPIE Vol. 7660 76600S-2\n\nDownloaded From: http://proceedings.spiedigitallibrary.org/ on 05/18/2015 Terms of Use: http://spiedl.org/terms\nBlind bolomter\nTemperature-\nsensor\nExternal blocking\ncapacilors\nVtemp\nb-\n640 x 480\nmicrobolorneter array with\nintegraled XA-ADC\nI\nI\nExternal reference\nsources\nDACs\nBiasing\nBlind bolorneler\n\'/)Video 16 Bil\nH\nl2C clock\nMultiplexer\n1V Digital\nvideo\ninterface\nP Hsync\nl2C data\n-Th\nRow control\nclock\nVsync\nli\nPixeiclock\nreset\nProc. of SPIE Vol. 7660  76600S-2\n3. BOLOMETER\n\nAn amorphous silicon based microbolometer is employed as the IR sensor. The bolometers are fabricated in a 25um\npixel pitch by post-processing CMOS wafers in the IMS Microsystems lab. The vertical and lateral pixel geometry was\nkept very simple and straightforward to ensure a solid baseline process with a high pixel operability®.\n\nA micromachined membrane is suspended approximately 2 um above a metal reflector on top of the planarized CMOS\nand absorbs the IR-radiation. The resulting interferometric structure? was numerically optimized for maximum\nabsorption in the FIR band. The sensing layer (amorphous silicon) was optimized for low noise and high TCR.\n\nFigure 2. SEM micrograph of a bolometer (top view and cross section)\n\nThe left SEM micrograph in figure 2 shows a top view of a typical microbolometer. In the corners, the metal vias\nconnecting the substrate to the membrane can be seen. Two insulating legs are defined along the edges of the central a-Si\nmembrane. The right SEM image shows a sideview of these bolometers and demonstrates that low stress and therefore\nflat membranes have been achieved.\n\nSome parameters of the IMS bolometer technology are summarized in table 2.\n\nTable 2. Parameters of IMS microbolometers\n\nParameter Value\nPixel pitch 25 um\nSpectral response 8.. 14 um\nThermal time constant ca. 15 ms\nTCR >2.2%1K\nAbsorption ca. 85 %\nFill factor (optical) >75 %\n\n4. VACCUM PACKAGE\n\nTo reduce thermal losses by gas conduction a vacuum package with an infrared window is required. To reduce\npackaging costs Fraunhofer-IMS uses a chip-scaled package consisting of an IR-transparent window with an\nantireflection coating and a soldering frame for maintaining the vacuum. The principle of a chip-scale package is shown\nin figure 3.\n\nProc. of SPIE Vol. 7660 76600S-3\n\nDownloaded From: http://proceedings.spiedigitallibrary.org/ on 05/18/2015 Terms of Use: http://spiedl.org/terms\n3. BOLOMETER\n\nAn amorphous silicon based microbolometer is employed as the IR sensor. The bolometers are fabricated in a 25um\npixel pitch by post-processing CMOS wafers in the IMS Microsystems lab. The vertical and lateral pixel geometry was\nkept very simple and straightforward to ensure a solid baseline process with a high pixel operability®.\n\nA micromachined membrane is suspended approximately 2 um above a metal reflector on top of the planarized CMOS\nand absorbs the IR-radiation. The resulting interferometric structure? was numerically optimized for maximum\nabsorption in the FIR band. The sensing layer (amorphous silicon) was optimized for low noise and high TCR.\n\nFigure 2. SEM micrograph of a bolometer (top view and cross section)\n\nThe left SEM micrograph in figure 2 shows a top view of a typical microbolometer. In the corners, the metal vias\nconnecting the substrate to the membrane can be seen. Two insulating legs are defined along the edges of the central a-Si\nmembrane. The right SEM image shows a sideview of these bolometers and demonstrates that low stress and therefore\nflat membranes have been achieved.\n\nSome parameters of the IMS bolometer technology are summarized in table 2.\n\nTable 2. Parameters of IMS microbolometers\n\nParameter Value\nPixel pitch 25 um\nSpectral response 8..14um\nThermal time constant ca. 15 ms\nTCR >2.2%/K\nAbsorption ca. 85 %\nFill factor (optical) >75 %\n\n4. VACCUM PACKAGE\n\nTo reduce thermal losses by gas conduction a vacuum package with an infrared window is required. To reduce\npackaging costs Fraunhofer-IMS uses a chip-scaled package consisting of an IR-transparent window with an\nantireflection coating and a soldering frame for maintaining the vacuum. The principle of a chip-scale package is shown\nin figure 3.\n\nProc. of SPIE Vol. 7660 76600S-3\n\nDownloaded From: http://proceedings.spiedigitallibrary.org/ on 05/18/2015 Terms of Use: http://spiedl.org/terms\nProc. of SPIE Vol. 7660  76600S-3\ndouble-sided\n\nantireflection coating IR-transparent lid\n\nsubstrate including ROIC microbolometer\nFigure 3. Principle of a chip scale package\n\nThe IR-transparent lid consists of silicon with a double-sided antireflection coating and is placed using a solder frame on\ntop of the substrate which includes the readout electronics and the bolometers. The use of silicon as a transparent lid\nresults in lower production costs compared to germanium and causes lower mechanical stress due to equal expansion\ncoefficients between the lid and the substrate. The chip scale package is actually under development in terms of long-\ntime vacuum stability.\n\nFigure 4 illustrates a wafer with partly assembled chip-scale packages.\n\nFigure 4. Wafer with chip scale packages\nBy using a flip-chip technique the lids are placed only on top of “good-tested” chips. This also reduces fabrication costs.\n\nA chip-on-board mounting of this package (figure 5) onto a detector-board is used in the IR-camera system.\n\n8\n\nBocvcoese\n\nFigure 5. PCB with VGA-IRFPA.\n\nProc. of SPIE Vol. 7660 76600S-4\n\nDownloaded From: http://proceedings.spied:\n\nllibrary.org/ on 05/18/2015 Terms of Use: http:,\n\niedl.org/terms\ndouble-sided\n\nantireflection coating IR-transparent lid\n\nsubstrate including ROIC microbolometer\n\nFigure 3. Principle of a chip scale package\n\nThe IR-transparent lid consists of silicon with a double-sided antireflection coating and is placed using a solder frame on\ntop of the substrate which includes the readout electronics and the bolometers. The use of silicon as a transparent lid\nresults in lower production costs compared to germanium and causes lower mechanical stress due to equal expansion\ncoefficients between the lid and the substrate. The chip scale package is actually under development in terms of long-\ntime vacuum stability.\n\nFigure 4 illustrates a wafer with partly assembled chip-scale packages.\n\nFigure 4. Wafer with chip scale packages\nBy using a flip-chip technique the lids are placed only on top of “good-tested” chips. This also reduces fabrication costs.\n\nA chip-on-board mounting of this package (figure 5) onto a detector-board is used in the IR-camera system.\n\n3\nH\n\novovesevoovovos\n\nFigure 5. PCB with VGA-IRFPA\n\nProc. of SPIE Vol. 7660 76600S-4\n\nDownloaded From: http://proceedings.spiedigitallibrary.org/ on 05/18/2015 Terms of Use: http://spiedl.org/terms\ndouble-sided\nantireflection coating\nIR-transparent lid\nniicrobolometer\nsubstrate including ROIC\nProc. of SPIE Vol. 7660  76600S-4\nThe chip-on-board design has a size of 42 mm x 40 mm. The IRFPA can be connected from the back side of the PCB\nusing a board connector.\n\n5. ARCHITECTURE AND DIGITAL READOUT\n\nThe electrical signal of a microbolometer is a radiation dependent change of its electrical resistance\'’. A sophisticated\nreadout of a bolometer array integrates the sensor element directly into an ADC. This can be done by using the principle\nof a sigma-delta (ZA) modulator. A ZA modulator achieves a high signal to noise ratio (SNR) by combining\noversampling, interpolation, and noise shaping while dispensing with the need of high precision analog components. It\nrelies on the noise spectrum of coarsely quantized input signal being shaped and shifted out of the signal band to higher\nfrequencies to achieve fine quantization.\n\nThe readout of the microbolometers based on the use of a 2™ order ZA modulator followed by a 3“ order sinc-filter with\na resolution of 16 bit. The 2"" order sigma-delta modulator is realized using single-ended switched capacitor (SC)-\ntechnique (figure 6).\n\nCints\n\n— — Cin\n\nReco eoto\nUra S00 too 1 Caamplo\nUnus | | -\nVoy fe ¢]\nlee OF le\nUn\n\na\n—\n\nFigure 6. 2nd order YA-modulator\n\nBecause of noise requirements the 1 integrator is realized as a continuous-time type with two voltage-controlled current\nsources, a transconductance amplifier (OTA), and a capacitor C;,,, in order to realize a current to voltage conversion. A\nbias voltage U,,) is applied to the resistor of the microbolometer Rg.) resulting in a current Ij,),. The signal independent\noffset part of the current Igoi, will be reduced by a 1“ voltage-controlled current source. This current source subtracts the\noffset current I, from the bolometer current Igoi.. The resulting current difference Ipoio — Io is integrated using the\nintegration capacitor C;,,, of the left OTA. The XA principle requires a feedback loop with the output signal which is\nrealized by a further voltage-controlled current source.\n\nThe 2™ integrator is realized as a discrete-time type using switched-capacitor technique with a non-overlapping two\nphase clock. The output voltage of the 1“ integrator is sampled at the end of phase Phil. The resulting charge is shifted\ninto the second integrator capacitor during phase Phi2. The feedback loop of the YA-modulator is carried out by a SC-\ncurrent source using the capacitor Cp,2. The output voltage of the 2"" integrator is valid at the end of phase Phi2 and fed\ninto a comparator. The output of the comparator generates a high frequency bit stream Q. This signal is used as the\noutput signal and for closing the feedback loop of the ZA-modulator. The integration coefficients of the 1“ and 2™\nintegrator stage are designed to ensure stable operation of the LA-modulator. The output of the LA modulator is digitally\nfiltered using a 3 order sinc-filter. The sinc-filter is used for dezimating and low-pass filtering the bit stream of a DA-\nmodulator .The output of the sinc-filter is a 16 bit digital value. Over 10000 XA modulators and sinc-filters are integrated\nfor a parallel readout of the microbolometers. Every ADC is multiplexed for read out of a certain amount of\nmicrobolometers.\n\nThe chip photo of the realized IRFPA is presented in figure 7.\n\nProc. of SPIE Vol. 7660 76600S-5\n\nDownloaded From: http://proceedings.spiedigitallibrary.org/ on 05/18/2015 Terms of Use: http://spiedl.org/terms\nThe chip-on-board design has a size of 42 mm x 40 mm. The IRFPA can be connected from the back side of the PCB\nusing a board connector.\n\n5. ARCHITECTURE AND DIGITAL READOUT\n\nThe electrical signal of a microbolometer is a radiation dependent change of its electrical resistance\'’. A sophisticated\nreadout of a bolometer array integrates the sensor element directly into an ADC. This can be done by using the principle\nof a sigma-delta (ZA) modulator. A ZA modulator achieves a high signal to noise ratio (SNR) by combining\noversampling, interpolation, and noise shaping while dispensing with the need of high precision analog components. It\nrelies on the noise spectrum of coarsely quantized input signal being shaped and shifted out of the signal band to higher\nfrequencies to achieve fine quantization.\n\nThe readout of the microbolometers based on the use of a 2"" order ZA modulator followed by a 3 order sinc-filter with\na resolution of 16 bit. The 2"" order sigma-delta modulator is realized using single-ended switched capacitor (SC)-\n\ntechnique (figure 6).\nCines\n_ Cina\nUse Bok leoto i @l Ceample @2\n— Q\nUnni\n| Ung ry a\nUnie Q\nUse 1 x a o2 gl + I\nWw loft NY Mot\nUna Unis\ni L _ ol Crv2 %\n+ = a\n\nFigure 6. 2nd order YA-modulator\n\nBecause of noise requirements the 1“ integrator is realized as a continuous-time type with two voltage-controlled current\nsources, a transconductance amplifier (OTA), and a capacitor Cin; in order to realize a current to voltage conversion. A\nbias voltage Uyoi is applied to the resistor of the microbolometer Rgoi, resulting in a current Ipoio. The signal independent\noffset part of the current I,). will be reduced by a 1“ voltage-controlled current source. This current source subtracts the\noffset current I,; from the bolometer current Ig,j. The resulting current difference 13,1, — Io is integrated using the\nintegration capacitor Cin; of the left OTA. The XA principle requires a feedback loop with the output signal which is\nrealized by a further voltage-controlled current source.\n\nThe 2"" integrator is realized as a discrete-time type using switched-capacitor technique with a non-overlapping two\nphase clock. The output voltage of the 1* integrator is sampled at the end of phase Phil. The resulting charge is shifted\ninto the second integrator capacitor during phase Phi2. The feedback loop of the XA-modulator is carried out by a SC-\ncurrent source using the capacitor Cj. The output voltage of the 2"" integrator is valid at the end of phase Phi2 and fed\ninto a comparator. The output of the comparator generates a high frequency bit stream Q. This signal is used as the\noutput signal and for closing the feedback loop of the LA-modulator. The integration coefficients of the 1‘ and 2""\nintegrator stage are designed to ensure stable operation of the LA-modulator. The output of the LA modulator is digitally\nfiltered using a 3™ order sinc-filter. The sinc-filter is used for dezimating and low-pass filtering the bit stream of a DA-\nmodulator .The output of the sinc-filter is a 16 bit digital value. Over 10000 ZA modulators and sinc-filters are integrated\nfor a parallel readout of the microbolometers. Every ADC is multiplexed for read out of a certain amount of\nmicrobolometers.\n\nThe chip photo of the realized IRFPA is presented in figure 7.\n\nProc. of SPIE Vol. 7660 76600S-5\n\nDownloaded From: http://proceedings.spiedigitallibrary.org/ on 05/18/2015 Terms of Use: http://spiedl.org/terms\nProc. of SPIE Vol. 7660  76600S-5\n640 x 480 Temperature-\npixel array sensor\nSequencer\n\nPad rows\ncolumn-\nmultiplexer\n\nFigure 7. Chip photo VGA-IRFPA\n\nThe IRFPA is fabricated in a 0.35 um CMOS technology with additional micromachining on top of the wafer at\nFraunhofer IMS and occupies an area of approx. 326 mm” with 13.6 million transistors. The chip-scale package has been\nremoved for this chip photo. Most of the chip area is covered by the microbolometer array at the central part of the\n\nIRFPA. Two pad rows at the top and bottom edge of the IRFPA are integrated for the electrical connection of the\nIRFPA.\n\n6. ELECTRO-OPTICAL CHARACTERIZATION\n\nThe IRFPAs are electro-optically characterized using a black body radiation source. The IRFPAs operated at an ambient\n\ntemperature of 20 °C. The optical conditions correspond to f/1. A dedicated vacuum test package has been used during\nthe characterization.\n\nThe local distribution of the responsivity shows figure 8.\n\nDigital VA IRF A edoxbso piel\n9000 Mean|value fesporsivity R,.. =|\n2000 -| Standard debiation|respohsiviy\n\nB/C\n\n2000\n1000\nCop Sian Ee De ke\n\n0 25 80 75 100 125 180 175 200 225 280 275 300\nResponsivity R [LSB/°C]\n\n100 200 300 400 600 600\n\nFigure 8. Responsivity (local distribution and histogram)\n\nThe responsivity shown in figure 8 is calculated as the change of the digital values as the temperature of the black body\nis changed from 25 °C to 35 °C dived by 10 °C. The local distribution at the left side of figure 8 shows a homogeneous\nimage. The right side of figure 8 depicts the histogram of the responsivity which shows a Gaussian distribution with a\nmean value of Ryrean = 238 LSB/K and a standard deviation of Ryg = 13 LSB/K.\n\nProc. of SPIE Vol. 7660 76600S-6\n\nDownloaded From: http://proceedings.spiedigitallibrary.org/ on 05/18/2015 Terms of Use: http://spiedl.org/terms\nTemperature-\n\n640 x 480\npixel array sensor\nSequencer\n\nPad rows\ncolumn-\nmultiplexer\n\nFigure 7. Chip photo VGA-IRFPA\n\nThe IRFPA is fabricated in a 0.35 um CMOS technology with additional micromachining on top of the wafer at\nFraunhofer IMS and occupies an area of approx. 326 mm” with 13.6 million transistors. The chip-scale package has been\nremoved for this chip photo. Most of the chip area is covered by the microbolometer array at the central part of the\nIRFPA. Two pad rows at the top and bottom edge of the IRFPA are integrated for the electrical connection of the\nIRFPA.\n\n6. ELECTRO-OPTICAL CHARACTERIZATION\n\nThe IRFPAs are electro-optically characterized using a black body radiation source. The IRFPAs operated at an ambient\ntemperature of 20 °C. The optical conditions correspond to f/1. A dedicated vacuum test package has been used during\nthe characterization.\n\nThe local distribution of the responsivity shows figure 8.\n\nsooo Dial VA AFB aosgso pill [SSR\nHtearVake fosorsvly f= PST STS\n\n8000 | Standard debiation|respobsivity R, =Haalbe/sc|\n\nO]\n\n8\n\nNumber of pixel N.,\n3\n\nj=,—|\n0 2 50 75 100 125 150 175 200 225 250 275 300\nResponsivity R [LSB/°C]\n\n100 200 300 400 600 600\n\nFigure 8. Responsivity (local distribution and histogram)\n\nThe responsivity shown in figure 8 is calculated as the change of the digital values as the temperature of the black body\nis changed from 25 °C to 35 °C dived by 10 °C. The local distribution at the left side of figure 8 shows a homogeneous\nimage. The right side of figure 8 depicts the histogram of the responsivity which shows a Gaussian distribution with a\nmean value of Ryean = 238 LSB/K and a standard deviation of Ry = 13 LSB/K.\n\nProc. of SPIE Vol. 7660 76600S-6\n\nDownloaded From: http://proceedings.spiedigitallibrary.org/ on 05/18/2015 Terms of Use: http://spiedl.org/terms\nV5263#3 Chip2 Reponiitt Dout uber 100 Bilder @ Tr=3OC\n500\n100\n200\n300\n400\n600\nProc. of SPIE Vol. 7660  76600S-6\n100 200 300 400 500 600\n\nFigure 9. Uncompensated IR image with f/1.2 optics\n\nAn IR image of a human hand illustrates figure 9 using a f/1.2 lens. Apart from a simple offset correction the shown\nimage is uncompensated, i.e. no gain, defect pixel, or noise correction has been applied. Further electro-optical\ncharacterizations are ongoing.\n\n7. CONCLUSION\n\nA digital IRFPA with 640 x 480 pixel and a 16 bit digital output signal has been designed, fabricated and electro-\noptically tested. The microbolometers feature a pixel pitch of 25 um and consist of amorphous silicon as the sensing\nlayer. The digital readout of the microbolometer is based on a massively parallel use of LA modulators followed by sinc-\nfilters. A chip-scaled package is realized for cost reasons as a vacuum package. For thermal imaging applications a chip-\non-board solution is available.\n\nACKNOWLEDGMENTS\nThe presented work is part of project “FIRKAM” funded by the German “Bundesministerium fiir Bildung und\nForschung BMBF”. The authors would like to thank the program manager “VDI Technologiezentrum” and the FIRKAM\n\nproject partners for their helpful information and discussions. We highly appreciate the support of the engineers and\ntechnicians of Fraunhofer IMS during design, fabrication, and characterization of the IRFPA.\n\nProc. of SPIE Vol. 7660 76600S-7\n\nDownloaded From: http://proceedings.spiedigitallibrary.org/ on 05/18/2015 Terms of Use: http://spiedl.org/terms\n100 200 300 400 500 600\n\nFigure 9. Uncompensated IR image with f/1.2 optics\n\nAn IR image of a human hand illustrates figure 9 using a f/1.2 lens. Apart from a simple offset correction the shown\nimage is uncompensated, i.e. no gain, defect pixel, or noise correction has been applied. Further electro-optical\ncharacterizations are ongoing.\n\n7. CONCLUSION\n\nA digital IRFPA with 640 x 480 pixel and a 16 bit digital output signal has been designed, fabricated and electro-\noptically tested. The microbolometers feature a pixel pitch of 25 um and consist of amorphous silicon as the sensing\nlayer. The digital readout of the microbolometer is based on a massively parallel use of XA modulators followed by sinc-\nfilters. A chip-scaled package is realized for cost reasons as a vacuum package. For thermal imaging applications a chip-\non-board solution is available.\n\nACKNOWLEDGMENTS\n\nThe presented work is part of project “FIRKAM” funded by the German “Bundesministerium fiir Bildung und\nForschung BMBF”. The authors would like to thank the program manager “VDI Technologiezentrum” and the FIRKAM\nproject partners for their helpful information and discussions. We highly appreciate the support of the engineers and\ntechnicians of Fraunhofer IMS during design, fabrication, and characterization of the IRFPA.\n\nProc. of SPIE Vol. 7660 76600S-7\n\nDownloaded From: http://proceedings.spiedigitallibrary.org/ on 05/18/2015 Terms of Use: http://spiedl.org/terms\nhilL\'\n200\n311H11\n4111111\nProc. of SPIE Vol. 7660  76600S-7\nREFERENCES\n\n1. Richard Blackwell, Daniel Lacroix, Tuyet Bach, Jonathan Ishii, Sandra Hyland, Jeannie Geneczko, Sherman Chan,\nBalwinder Sujlana, and Mike Joswick, “Uncooled VOx thermal imaging systems at BAE Systems”, Proc. SPIE\n6940, 694021 (2008)\n\n2. Richard Blackwell, Daniel Lacroix, Tuyet Bach, Jonathan Ishii, Sandra Hyland, Thomas Dumas, Scott Carpenter,\nSherman Chan, and Balwinder Sujlana, “17 um microbolometer FPA technology at BAE Systems”, Proc. SPIE\n7298, 72980P (2009)\n\n3. Richard Blackwell, Steven Geldart, Margaret Kohin, Arthur Leary, and Robert Murphy, “Recent technology\nadvancements and applications of advanced uncooled imagers”, Proc. SPIE 5406, 422 (2004)\n\n4. A. Fraenkel, U. Mizrahi, L. Bikov, A. Adin, E. Malkinson, A. Giladi, D. Seter, and Z. Kopolovich, “VOx-based\nuncooled micrbolometric detectors: recent developments at SCD”, Proc. SPIE 6206, 62061C (2006)\n\n5. A. Fraenkel, U. Mizrahi, L. Bikov, A. Giladi, N. Shiloah, S. Elkind, T. Czyzewski, I. Kogan, and A. Amsterdam,\n“The architecture and performance of SCD\'s 17 um pitch VOx u-bolometer detector”, Proc. SPIE 7298, 72980R\n(2009)\n\n6. Christophe Minassian, Jean Luc Tissot, Michel Vilain, Olivier Legras, Sebastien Tinnes, Bruno Fieque, Jean Marc\nChiappa, and Patrick Robert, “Uncooled amorphous silicon TEC-less 1/4 VGA IRFPA with 25 um pixel-pitch for\nhigh volume applications”, Proc. SPIE 6940, 69401Z (2008)\n\n7. A. Durand, C. Minassian, J. L. Tissot, M. Vilain, P. Robert, A. Touvignon, J. M. Chiappa, and C. Pistre, “Uncooled\namorphous silicon TEC-less 1/4 VGA IRFPA with 25um pixel-pitch for high volume applications”, Proc. SPIE\n7298, 72982B (2009)\n\n8. T. Schimert, J. Brady, T. Fagan, M. Taylor, W. McCardel, R. Gooch, S. Ajmera, C. Hanson, and A. J. Syllaios,\n”*Amorphous silicon based large format uncooled FPA microbolometer technology”, Proc. SPIE 6940, 694023\n(2008)\n\n9. M. Rub, J. Bauer, and H. Vogt, “The geometric design of microbolometer elements for uncooled focal plane arrays”,\nProc. SPIE Conference Infrared Technology and Applications XXXII, Volume 6542, 2007\n\n10. F. Niklaus, F. Forsberg, A. Fischer, N. Roxhed, G. Stemme, “Performance model for uncooled infrared bolometer\narrays and performance predictions of bolometers operating at atmospheric pressure”, Infrared Physics &\nTechnology, Volume 51, Issue 3, January 2008, Pages 168-177\n\n11. Hwang, C.H.; Kim, C.B.; Lee, Y.S.; Lee, H.C., “Pixelwise readout circuit with current mirroring injection for\nmicrobolometer FPAs”, Electronics Letters, Volume 44, Issue 12, June 5 2008 Page(s):732 — 733\n\nProc. of SPIE Vol. 7660 76600S-8\n\nDownloaded From: http://proceedings.spiedigitallibrary.org/ on 05/18/2015 Terms of Use: http://spiedl.org/terms\nREFERENCES\n\n1. Richard Blackwell, Daniel Lacroix, Tuyet Bach, Jonathan Ishii, Sandra Hyland, Jeannie Geneczko, Sherman Chan,\nBalwinder Sujlana, and Mike Joswick, “Uncooled VOx thermal imaging systems at BAE Systems”, Proc. SPIE\n6940, 694021 (2008)\n\n2. Richard Blackwell, Daniel Lacroix, Tuyet Bach, Jonathan Ishii, Sandra Hyland, Thomas Dumas, Scott Carpenter,\nSherman Chan, and Balwinder Sujlana, “17 um microbolometer FPA technology at BAE Systems”, Proc. SPIE\n7298, 72980P (2009)\n\n3. Richard Blackwell, Steven Geldart, Margaret Kohin, Arthur Leary, and Robert Murphy, “Recent technology\nadvancements and applications of advanced uncooled imagers”, Proc. SPIE 5406, 422 (2004)\n\n4. A. Fraenkel, U. Mizrahi, L. Bikov, A. Adin, E. Malkinson, A. Giladi, D. Seter, and Z. Kopolovich, “VOx-based\nuncooled micrbolometric detectors: recent developments at SCD”, Proc. SPIE 6206, 62061C (2006)\n\n5. A. Fraenkel, U. Mizrahi, L. Bikov, A. Giladi, N. Shiloah, S. Elkind, T. Czyzewski, I. Kogan, and A. Amsterdam,\n“The architecture and performance of SCD\'s 17 um pitch VOx p-bolometer detector”, Proc. SPIE 7298, 72980R\n(2009)\n\n6. Christophe Minassian, Jean Luc Tissot, Michel Vilain, Olivier Legras, Sebastien Tinnes, Bruno Fieque, Jean Marc\nChiappa, and Patrick Robert, “Uncooled amorphous silicon TEC-less 1/4 VGA IRFPA with 25 pm pixel-pitch for\nhigh volume applications”, Proc. SPIE 6940, 69401Z (2008)\n\n7. A. Durand, C. Minassian, J. L. Tissot, M. Vilain, P. Robert, A. Touvignon, J. M. Chiappa, and C. Pistre, “Uncooled\namorphous silicon TEC-less 1/4 VGA IRFPA with 25um pixel-pitch for high volume applications”, Proc. SPIE\n7298, 72982B (2009)\n\n8. T. Schimert, J. Brady, T. Fagan, M. Taylor, W. McCardel, R. Gooch, S. Ajmera, C. Hanson, and A. J. Syllaios,\n”Amorphous silicon based large format uncooled FPA microbolometer technology”, Proc. SPIE 6940, 694023\n(2008)\n\n9. M. Rub&, J. Bauer, and H. Vogt, “The geometric design of microbolometer elements for uncooled focal plane arrays”,\nProc. SPIE Conference Infrared Technology and Applications XX XIII, Volume 6542, 2007\n\n10. F. Niklaus, F. Forsberg, A. Fischer, N. Roxhed, G. Stemme, “Performance model for uncooled infrared bolometer\narrays and performance predictions of bolometers operating at atmospheric pressure”, Infrared Physics &\nTechnology, Volume 51, Issue 3, January 2008, Pages 168-177\n\n11. Hwang, C.H.; Kim, C.B.; Lee, Y.S.; Lee, H.C., “Pixelwise readout circuit with current mirroring injection for\nmicrobolometer FPAs”, Electronics Letters, Volume 44, Issue 12, June 5 2008 Page(s):732 — 733\n\nProc. of SPIE Vol. 7660 76600S-8\n\nDownloaded From: http://proceedings.spiedigitallibrary.org/ on 05/18/2015 Terms of Use: http://spiedl.org/terms\nProc. of SPIE Vol. 7660  76600S-8\n']",
A 3.9-um Pixel Pitch VGA Format 10-b Digital Output CMOS Image Sensor With... .pdf,"['IEEE JOURNAL OF SOLID-STATE CIRCUITS, VOL. 39, NO. 12, DECEMBER 2004\n2417\nA 3.9-(cid:22)m Pixel Pitch VGA Format 10-b Digital\nOutput CMOS Image Sensor With 1.5 Transistor/Pixel\nHidekazu Takahashi, Masakuni Kinoshita, Kazumichi Morita, Takahiro Shirai, Toshiaki Sato, Takayuki Kimura,\nHiroshi Yuzurihara, Shunsuke Inoue, Member, IEEE, and Shigeyuki Matsumoto\noT\nla\n\nNt\n\n(FD) os\n\nBuried\nPhoto diode\n\nComplete\ncharge transfer\n\nAbstract—A 3.9- m pixel pitch VGA format 10-b digital output\nCMOS image sensor with 1.5 transistor/pixel has been developed\nfor mobile applications. The newly developed CMOS pixel archi-\ntecture realizes the minimum number of the transistors in one\npixel. Small pixel size and sufﬁcient ﬁll factor are achieved by\nusing the shared pixel architecture and ﬂoating diffusion driving.\nHigh conversion gain, low random noise, and low dark current are\nachieved by buried photodiode with complete charge transfer ca-\npability and correlated double sampling (CDS) circuit. The image\nsensor is fabricated in a thin planarized 0.35- m single poly-Si\ndouble-metal customized CMOS process in order to provide good\nimage performance. The image sensor achieves low noise ﬂoor\nof 330 V and low dark current of 50 pA/cm2 at 45 C. This\nimage sensor also realized various functions by on-chip digital and\nanalog circuits.\nIndex Terms—CMOS image sensors, modulation ﬂoating diffu-\nFig. 1. Conventional 4-transistor/pixel CMOS image sensor conﬁguration.\nsion, sharing ﬂoating diffusion ampliﬁer, small pixels.\nFig. 1 shows a pixel schematic of the 4-transistor/pixel\nCMOS image sensor. Each pixel contains a buried photodiode,\na transfer transistor, a reset transistor, an amplifying transistor, a\nselect transistor and a ﬂoating diffusion (FD). Conventional use\nof the buried photodiode to improve the image quality requires\nthe transfer transistor. Therefore, the ﬁll factor is reduced by\nthe extra transistor and its interconnecting wire. Thus, the\nminimum pixel size with the conventional design is limited by\nthe large number of transistors and wires used in one pixel.\nI. INTRODUCTION\nC MOS active pixel sensors are generally characterized by\ntheir low power consumption and capability for on-chip\nsystem integration [1]. By using these advantages, an APS-C\nsize CMOS image sensor [2], an area auto-focus CMOS sensor\n[3], and camera-on-a-chip [4] have been realized. Recent digital\nstill cameras and mobile phone cameras require high signal-to-\nnoise ratio (SNR) in spite of small pixel size. However, CMOS\nimage sensors currently are not widely used in such small pixel\napplications because of their low SNR than required, which\nleads to insufﬁcient image quality.\nPixel size reduction of the CMOS image sensors is presently\nperformed by process shrinking [7], the conventional process\nshrinking done two-dimensionally and not three-dimensionally.\nOn the other hand, the number of poly-Si and metal layers has\nbeen increasing and the thickness of insulation layers on pho-\ntodiode has been becoming higher. Fig. 2 shows the problems\nof conventional pixel structure with on-chip microlenses. The\nﬁrst problem is degradation in the light gathering power of the\non-chip microlenses. Reducing pixel size without proportion-\nally decreasing the thickness of layers on photodiode degrades\nthe light gathering capability of on-chip microlens, and nonﬂat\npassivation layer causes poor sensitivity. The passivation layer\non the small photodiode becomes concave because of step cov-\nerage of the light shielding metal edge. Thus, incident light is\nrefracted to the outside of the photodiode.\nTable I compares the features of CCD image sensors with\nthose of CMOS image sensors. CCD image sensors are char-\nacterized by high SNR and small pixel size, but other char-\nacteristics (low power consumption, single power supply and\non-chip system integration) are weak. In contrast, basic 3-tran-\nsistor/pixel CMOS image sensors [5] in standard technology\nprovide low power consumption and on-chip system integra-\nnoise and dark current problems.\ntion, but suffer from\nFour-transistor/pixel CMOS image sensors [2], [6] can realize\nnoise, and high\nideal properties of low dark current, no\nconversion gain by a buried photodiode with complete charge\ntransfer capability as has been expected from the analogy with\nthe buried photodiode on IL CCDs, but do not satisfy properties\nrequired for small pixel size.\nAnother problem is a metal contamination by silicide\nprocess. The silicide process causes large dark current and\nwhite pixels [8] by metal contamination from silicide metal to\nthe photodiode.\nWe have developed new pixel architecture and customized\nCMOS process to overcome these problems. This new pixel\narchitecture employs two technologies, that is, sharing of a\nﬂoating diffusion among four pixels to reduce the number\nManuscript received June 1, 2004; revised July 10, 2004.\nThe authors are with the Semiconductor Device Development Center, Canon\nInc., Kanagawa 252-1124, Japan (e-mail: takahashi.hidekazu@canon.co.jp).\nDigital Object Identiﬁer 10.1109/JSSC.2004.837087\n0018-9200/04$20.00 © 2004 IEEE\n2418\nIEEE JOURNAL OF SOLID-STATE CIRCUITS, VOL. 39, NO. 12, DECEMBER 2004\nTABLE I\nCOMPARISON OF FEATURES BETWEEN CCD AND CONVENTIONAL CMOS IMAGE SENSORS\nccD 3-transistor CMOS | 4-transistor CMOS\nPixel size Small Medium Large\nSensitivity Good Bad Good\nKTC noise None Exists None\nDark current Small Large Small\nML~PD thickness Thin Thick Thick\nPower consumption High Low Low\nSingle power supply Difficult Easy Easy\nSystem integration Difficult Easy Easy\n\nIncident light\n\nmicro lens\n\n‘Color filter\ni\n\nif — |\nLoom | lon |\n\nRO | }\\ | |\n\n* Non-flat passivation film\nl4—* Thick insulator film\n\n* Silicide gate\n\ny\n\nZ| VA\nU\n\nVertical line\n\n@®RS\nTM CNS\n\nTwi\n4FD common Select-transistor\nconnection elimination\n\nFig. 2. Cross-sectional view of conventional CMOS image sensor.\nFig. 3. 1.5-transistor/pixel CMOS image sensor conﬁguration.\nof transistors per pixel and ﬂoating diffusion modulation to\neliminate the select transistor from the pixel. The customized\nCMOS process enables a ﬂat passivation layer with thin metal\nlayers and insulating layers on the photodiode.\nselect transistor, a conventional row select transistor becomes\nunnecessary.\nPixel selection is excused by modulating FD potential\nthrough the reset transistor and vertical line. Whereas the FDs\nof unselected pixels keep GND level, that of the selected pixel\nis set active level. The winner-take-all characteristic of the\nsource-follower leads the selected pixel’s signal to the vertical\nline.\nBy the new architecture and the customized process, we have\ndeveloped a digital CMOS image sensor that realizes pixel size\nreduction with a high SNR and good light gathering power.\nIn future, 0.25- m or 0.18- m CMOS process will provide\nless than 3- m pixel pitch. This shared pixel architecture is\npromising technology for fabricating smaller pixels.\nIn this architecture, the reset transistor (M5) and the ampli-\nfying transistor (M6) are shared by four photodiodes (PD1, PD2,\nPD3, and PD4). Thus, with six transistors per four pixels, only\n1.5 transistors per pixel are used in this new conﬁguration. As a\nresult, a minimum number of transistors per pixel are realized.\nII. 1.5-TRANSISTOR/PIXEL ARCHITECTURE\nA. Pixel Schematic\nIn order to realize small pixel CMOS image sensor with high\nimage performance, reduction of the number of transistors in\none pixel, the buried photodiode with complete charge transfer\ncapability and CDS operation are indispensable. In this section,\nwe describe new pixel architecture for small pixel CMOS image\nsensor with high sensitivity and low noise.\nB. Operation\nFig. 4 shows a timing diagram of the pixel operation. M1,\nM2, M3, and M4 are controlled by the vertical shift register\n(VSR) and transfer signal charges from the photodiode to FD.\nProgressive scanning becomes possible by turning on M1, M2,\nM3, and M4 every 1H period independently. The exposure\nbegins after signal charges are completely transferred from a\nphotodiode to FD. In this photodiode reset, thermal reset noise\nis not generated because it is a full depletion reset. During the\nFig. 3 shows the schematic of the 1.5-transistor/pixel. The\npixel consists of transfer transistors (M1, M2, M3, and M4),\nreset transistor (M5), amplifying transistor (M6), ﬂoating diffu-\nsion (FD), and four buried photodiodes. By using M5 as a row\nTAKAHASHI et al.: A 3.9- m PIXEL PITCH VGA FORMAT 10-b DIGITAL OUTPUT CMOS IMAGE SENSOR WITH 1.5 TRANSISTOR/PIXEL\n2419\n14\n\noT3\n\noT2\n\nO71\n\n®RS\n\nov\n\nVS\n\n®RS\n\noT3\n\nOT4\n\n®H\n\n@HS\n\nI\n\nAmplifier On Amplifier Off\n\nReadout period\n\nl¢--—-—->|\nbob &\nNoise Signal\n\nReadout _Readout\n\nnee A > eee — Exposure period (PD1)—.—.—.—.—.-\n\na\nCharge Transfer (PD1 reset)\n\n\\¢—Exposure period (PD2)—--\n\nCharge Transfer (PD2 reset)\n\nFig. 4. Pixel schematic and timing diagram.\n3) Charge Transfer: When M1 turns on, the signal charges\nare completely transferred from the photodiode (PD1) to FD\n[Fig. 5(c)]. The photo-conversion voltage depends on the photo\nand the capacitance of the ﬂoating diffusion\ncharge\nexposure period, photo current is accumulated in the depletion\nlayer of the photodiode.\n1) Initializing: In this period, the vertical line is used as reset\nvoltage input line. At the beginning of readout period, the FD1\npotential of a selected pixel is raised from GND to VRS by\nturning on both M7 and M8, and activating the ampliﬁer. VRS\nis set so as to activate NMOS transistor. Other ampliﬁers stay in\nthe off-state because the FDs of unselected pixels are in GND\n) is\ncondition [Fig. 5(a)]. Each FD’s node potential (\nas follows:\n. Thereby, the FD1 potential\nis given by\nVr\nDuring the charge transfer period, the signal charges of the\nother photodiodes are not transferred because the transfer tran-\nsistors connected to other photodiodes (PD2, PD3, and PD4) are\noff.\n,\nV\n4) Photo Signal Readout: The photo signal is read out after\ncharges are transferred and M1 is turned off [Fig. 5(d)]. The\nphoto signal is given by\n2) Dark Signal Readout: In this period, the vertical line is\nused as signal output line. At ﬁrst, reset transistor is turned off,\nis given by\nand\nreset noise is generated on FD node.\nThe column-parallel CDS circuit subtracts the dark signal\nfrom the photo signal, reducing FPN and the thermal reset noise\nat FD. Output signal from the CDS circuit\nV\nis given by\nwhere\nis Boltzmann’s constant,\nis absolute temperature and\nis the capacitance of the ﬂoating diffusion.\nThen, the constant current source is connected to the ampliﬁer\nby turning on M10, making possible source-follower readout.\nThe dark signal output to CDS circuit is performed [Fig. 5(b)].\nThe dark signal\n5) Ampliﬁer Off: After the signal readout, the FD potential\nis ﬁxed to GND by turning on both M7 and M9. The ampliﬁer\nis cut off and readout from the pixel is disabled [Fig. 5(e)].\nis given by\nIII. IMAGE SENSOR CONFIGURATION\nwhere\nis the ﬁxed pattern noise of the pixel source-follower.\nis the gain of the pixel source-follower and\nFig. 6 shows the block diagram of the digital CMOS image\nsensor. This chip is fabricated using a 0.35- m single-poly\n2420\nIEEE JOURNAL OF SOLID-STATE CIRCUITS, VOL. 39, NO. 12, DECEMBER 2004\n214 |\n(Cr L\n\nCrp2\n\n(Vep2=GND)\nwr\n\n(Veo-VRS)\n\nrate\n\nwi (Veo oN Vop\n\n(PD3) *\np02)\n\nD1) ¥\n\ncia die Ria Biel Oia lek\nH\n\n(Vep1=VRS\nSVRS-Vp):\n\nFig. 5. Pixel operation method. (a) Initializing. (b) Dark signal readout. (c) Charge transfer. (d) Photo signal readout. (e) Ampliﬁer off.\ndouble-metal CMOS process. The CMOS image sensor consists\n499 effective pixels with a column noise canceller and\nof 703\nscanning circuits, and outputs analog signals and auto-gained\n10-b parallel digital signals. The image sensor further includes\na voltage regulator, a timing generator (TG), an auto gain\ncontrol (AGC), a 10-b digital-to-analog converter (DAC), and\nTAKAHASHI et al.: A 3.9- m PIXEL PITCH VGA FORMAT 10-b DIGITAL OUTPUT CMOS IMAGE SENSOR WITH 1.5 TRANSISTOR/PIXEL\n2421\nVOLTAGE\n10b D/A REGULATOR\n\nSENSOR\nBLOCK Correction Logic\n\nANALOG OUT 10b DIGITAL OUT\nFig. 6. Digital CMOS image sensor conﬁguration.\n16.0kv¥ %10.0kK 3\n\na\noe\n=\n=\ni\nE\ni]\n2\nPa}\n\nFig. 8. SEM photograph (cross-sectional view) of the pixel.\nIV. LOW OPTICAL STACK AND LOW NOISE PIXEL\nFig. 7. Pixel pattern layout. (a) Microphotograph of the top view of the image\narea. (b) Pixel layout without light shield.\nA. Single-Poly-Si Double-Metal Layout\na 10-b pipelined analog-to-digital converter (ADC). The single\nADC architecture is more suitable for a small pixel pitch image\nsensor than a column ADC architecture, because it is difﬁcult\nto realize high resolution ( 12 b) and small column pitch with\nthe column ADC. The timing generator block is controlled by\nclock pulses and serial communication and generates pulses\nfor the chip operation. The voltage regulator generates various\nvoltages for operation of each block. The bandgap circuit is\nalso on chip in order to generate constant voltages.\nFig. 7 shows a microphotograph of the top view of pixels\n[Fig. 7(a)] and pixel pattern layout [Fig. 7(b)]. The photodiode is\nformed with identical aperture shape and 3.9- m pitch. Not only\na light shielding metal but also the ﬁrst metal and the poly-Si\nof the photodiode perimeter are arranged so that the parasitic\ncapacitances are almost equal and apertures deﬁned by metal\nline layouts are equal among the pixels. If the symmetry of the\nPDs is lost, photo-response nonuniformity (PRNU) increases.\nTherefore, symmetric photodiode layout is indispensable for\nhigh image quality. Clock lines of the transfer transistor and the\nreset transistor are formed by a poly-Si layer. In order to mini-\nmize clock delay caused by high resistance of poly-Si, the VSR\nis arranged at both sides of the image area as shown in Fig. 10.\nA line connecting FD and a vertical signal line are formed by\nthe ﬁrst metal layer. The light-shielding layer is formed by the\nsecond metal layer and is also used as a power supply line. Thus,\nThe image sensor operates with a single master clock and\nruns at frequencies up to 12.27 MHz. Programmable features\ninclude variable frame rate operation using a constant frequency\nmaster clock, electronic exposure control, dark level control,\nand progressive/monitoring mode selection. The programmable\ngain is 0–18 dB (0.375-dB step) and the ﬁxed gain is either 0 or\n12 dB, therefore, total programmable gain of 30 dB is available.\n2422\nIEEE JOURNAL OF SOLID-STATE CIRCUITS, VOL. 39, NO. 12, DECEMBER 2004\nPassivation film\n\nPCR CI CS,\n\nle eates\n\nInterlayer\ninsulation film\n\nXv “\n\nInterlayer\ninsulation film\n2\n\nInterlayer\ninsulation film\n1\n\nP-Well\n\nN-Sub\n\n(a)\n\nFlat passivation film\n\nEG\n\nInterlayer\n\ninsulation film\n\nFalaer\nVere film\n\n=\n\nOptimized doping profile\n(b)\nFig. 9. Pixel structure compared with that of a conventional 1P 3M CMOS process. (a) Conventional structure. (b) New structure.\nTABLE II\nCOMPARISON OF FEATURES BETWEEN NEW CMOS IMAGE SENOR AND CONVENTIONAL CMOS IMAGE SENSORS\n1.5-transistor CMOS\n\n3-transistor CMOS\n\n4-transistor CMOS\n\nTransistors/pixel 1.5 3 4\nWires/pixel 1.5 4 5\nPixel size Small Medium Large\nSensitivity Good Bad Good\nDark current Small Large Small\nKTC noise None Exists None\n\nwith six wires per four pixels, only 1.5 wires per pixel are real-\nized in this new conﬁguration. By this pixel architecture, a suf-\nﬁcient ﬁll factor of 17% is realized with a 0.35- m design rule.\ndamage nonsilicide process. The nonsilicide process is adopted\nto prevent impurity contamination. The doping proﬁle in the\nphotodiode is optimized in order to realize low dark current\nand large saturation charges. As a result, very low dark current\nand enough saturation charges are achieved.\nB. Thin Planarized Pixel Structure\nTable II compares features of the conventional CMOS image\nsensors with that of the new image sensor. The number of the\ntransistors and the wires are reduced dramatically; therefore,\nsmall pixel size with high SNR becomes possible.\nFig. 8 shows a scanning electron microscope (SEM) pho-\ntograph (cross-sectional view) of the pixel. The image sensor\nis fabricated in a single poly-Si double-metal customized\nCMOS process, and a top passivation layer is planarized. The\nplanarized passivation layer is important to prevent lowering of\nsensitivity. Furthermore, the on-chip microlenses are fabricated\nwithout using a conventional thick planarization layer due to\nthe ﬂat passivation layer. The planarization is more effective\nfor light at large incident angle.\nV. SPECIFICATIONS AND PERFORMANCE\nFig. 10 shows a chip microphotograph of the CMOS image\n499(V) effective pixels compatible\nsensor. It includes 703(H)\nwith the VGA standard. The chip size is 4.74\n6.34 mm .\nFig. 9 shows the comparison of a conventional CMOS\nstructure and new pixel structure. The thicknesses of metal\nlayers and insulation layers are reduced approximately 30%\ncompared with the conventional single-poly-Si\ntriple-metal\n(1P 3M) CMOS process. A surface region of the photodiode\nhas shallow junction depth and high concentration diffusion\nlayer. Low dark current is achieved by adopting an optimized\nburied photodiode with low stress LOCOS isolation and low\nFig. 11 shows photo-conversion characteristics of the image\nsensor. The conversion linearity has been obtained in the range\nof the output voltage from about 1 to 230 mV. The image\nsensor speciﬁcations and performance are listed in Table III.\nThe CMOS image sensor has a low dark current of 50 pA/cm\nat 45 C and low random noise (RN) of 0.33 mV\nwithout\nimage lag. No image lag and good photo-conversion linearity\nTAKAHASHI et al.: A 3.9- m PIXEL PITCH VGA FORMAT 10-b DIGITAL OUTPUT CMOS IMAGE SENSOR WITH 1.5 TRANSISTOR/PIXEL\n2423\nSE\n33\nae\ne6\n\n2\n=\nss\nas\noe\nzo\n\nTABLE III\nCHARACTERISTICS OF THE IMAGE SENSOR\nTechnology:\n\nVoltage supply:\n\nChip size:\n\nArray size:\n\nPixel size:\n\nPixel fill factor:\nTransistors per pixel:\nFrame rate:\n\nADC resolution:\n\nADC conversion time:\n\nADC DNL/INL:\nConversion gain:\nSaturation :\n\nImage lag:\n\nPRNU:\n\nRN:\n\nFPN:\n\nDark current:\n\nDark output voltage:\n\n0.35um CMOS (1P, 2M)\n5.0V\n\n4.74(H) x 6.34(V)mm?\n703(H) x 499(V)\n\n3.9 x 3.9m?\n\n17%\n\n1.5Transistors\n\n15fps\n\n10b\n\n10MS/s\n\n0.5LSB/1LSB\n\n23uV/e""\n\n10000e\n\nbelow measurement accuracy\n\n1.2%pp\n\n0.33MVims (Gain=1)\n0.20MVims (Gain=1)\n50pA/cm? (@45°C)\n0.19mV (@45°C, 1fps)\nFig. 10. Chip microphotograph.\nQuitput Voltage (mV)\n\n100.0\n\n10.0\n\n1.0\n\n0.1\n\n2856K\nWith IR cut filter\nT=27°C\n\n1/15s\n\nPt Dark RN\n\n0.01 0.1 1 10\nIlluminance (Ix)\n\n100\nFig. 12. Sample image.\nVI. CONCLUSION\nFig. 11. Photoelectric conversion characteristics.\nWe have developed a shared 1.5-transistor/pixel architecture\nusing a buried photodiode with complete charge transfer ca-\npability for realizing high SNR and small pixel CMOS image\nsensor. By using the newly developed pixel architecture and\na thin planarized CMOS process, the CMOS image sensor\nachieves 3.9- m pixel pitch, enough saturation charge, and\nhigh SNR. A low optical stack photodiode achieves high light\ngathering capability.\nsuggest that complete charge transfer is performed. FD capaci-\ntance generally increases because of the common connection of\nFD, but FD capacitance is reduced by an advanced design rule\nresulting in a high conversion gain of 23 V/e\nin this work.\nADC differential nonlinearity (DNL) of 0.5 LSB and integral\nnonlinearity (INL) of 1 LSB are obtained, and maximum\nconversion speed is 10 MS/s. The PRNU of 1.2% peak-to-peak\nis somewhat larger than the conventional ones. Future work\nwill concentrate on decreasing the PRNU of this new pixel\narchitecture. Fig. 12 is a sample image taken by the digital\nCMOS image sensor.\nThe 1.5-transistor/pixel architecture has great advantages for\nfabricating high SNR small pixel image sensors. This shared\npixel architecture will help to produce mobile phones and digital\ncameras for low-cost and high-performance applications.\n2424\nIEEE JOURNAL OF SOLID-STATE CIRCUITS, VOL. 39, NO. 12, DECEMBER 2004\nACKNOWLEDGMENT\nKazumichi Morita was born in Tokyo, Japan,\nin 1973. He received the B.S. and M.S. degrees\nin electronic engineering from the Tokyo Univer-\nsity of Science, Chiba, Japan, in 1996 and 1998,\nrespectively.\nThe authors acknowledge contributions of M. Kimura,\nS. Yamamoto, A. Maeda, and members of Renesas Technology\nCorporation for prototype fabrication. The authors also thank\nM. Toyama, E. Ouchi, H. Wada and members of the Lens\nDepartment Division, Image Communication Department, for\nsupport.\nHe joined Canon Inc., Kanagawa, Japan, in 1998,\nwhere he has been engaged in logic circuit design and\nthe development of CMOS image sensors. He is now\na Designer with the Semiconductor Device Develop-\nment Center.\nREFERENCES\n[1] E. R. Fossum, “Active pixel sensors: are CCD’s dinosaures?,” in Charge-\nCoupled Devices and Solid-State Optical Sensors III, Proc. SPIE 1900,\n1993, pp. 2–14.\nTakahiro Shirai was born in Kagawa, Japan, in\n1962. He received the B.S. degree in physical science\nfrom Osaka University, Osaka, Japan.\n[2] S. Inoue et al., “A 3.25 M-pixel APS-C size CMOS image sensor,”\nin IEEE Workshop on CCDs and Advanced Image Sensors, 2001, pp.\n16–19.\nHe joined Canon Inc., Kanagawa, Japan, in 1985,\nwhere he has been engaged in research and develop-\nment of solid-state circuits. He is now a Senior En-\ngineer with the Semiconductor Device Development\nCenter.\n[3] H. Takahashi et al., “Area auto focus CMOS sensor,” in IEEE Workshop\non CCDs and Advanced Image Sensors, 1999, pp. 203–206.\n[4] E. R. Fossum, “CMOS image sensors: electronic camera-on-a-chip,”\nIEEE Trans. Electron Devices, vol. 4, pp. 1689–1698, Oct. 1997.\n[5] I. Takayanagi et al., “A 1 1/4 inch 8.3 M pixel digital output CMOS APS\nfor UDTV application,” in IEEE ISSCC Dig. Tech. Papers, Feb. 2003,\npp. 216–217.\n[6] S. Kawahito et al., “A column-based pixel-gain-adaptive CMOS image\nsensor for low-light-level imaging,” in IEEE ISSCC Dig. Tech. Papers,\nFeb. 2003, pp. 224–225.\n[7] S.-G. Wuu et al., “A high performance active pixel sensor with 0.18\nmm CMOS color imager technology,” in Int. Electron Devices Meeting\n(IEDM) Tech. Dig., 2001, pp. 24.3.1–24.3.4.\nToshiaki Sato was born in Hokkaido, Japan, in 1958.\nHe received the B.S. and M.S. degrees in physics\nfrom the Science University of Tokyo, Tokyo, Japan,\nin 1982 and 1984, respectively.\n[8] W. J. Toren et al., “Metal contamination characterization in CCD image\nsensors,” in Int. Electron Devices Meeting (IEDM) Tech. Dig., 1995, pp.\n163–165.\nIn 1984, he joined Canon Inc., Kanagawa, Japan.\nFrom 1984 to 1989, he was engaged in research and\ndevelopment of photo and imaging device packages.\nSince 1990, he has been engaged in research and\ndevelopment of mixed-signal LSIs and intelligent\nsensors. He is now Manager of the Semiconductor\nDevice Development Center.\nHidekazu Takahashi was born in Chiba, Japan, in\n1964. He received the B.S. and M.S. degrees in elec-\ntronic engineering from the Chiba University, Chiba,\nJapan, in 1987 and 1989, respectively.\nTakayuki Kimura was born in Niigata, Japan, in\n1970. He received the B.S. and M.S. degrees in\nelectronic engineering from the Niigata University,\nNiigata, Japan, in 1992 and 1994, respectively.\nHe joined Canon Inc., Kanagawa, Japan, in 1989,\nwhere he has been engaged in research and develop-\nment of solid-state imaging devices and intelligent\nsensors. He is now Staff Engineer of the Semicon-\nductor Device Development Center.\nHe joined Canon Inc., Kanagawa, Japan, in 1994,\nwhere he has been engaged in research and develop-\nment of process technology of solid-state imaging de-\nvices. He is now a Process Engineer with the Semi-\nconductor Device Development Center.\nMr. Takahashi is a member of the Institute of\nImage Information and Television Engineers of Japan.\nMasakuni Kinoshita was born in Kanagawa, Japan,\nin 1968. He received the B.S. and M.S. degrees in\nelectronic engineering from Shizuoka University,\nShizuoka, Japan, in 1992 and 1994, respectively.\nHiroshi Yuzurihara was born in Kanagawa, Japan,\nin 1961. He received the B.S. degree in electric engi-\nneering from the Keio University, Kanagawa, Japan,\nin 1985.\nHe joined Texas Instruments Japan Inc., Tokyo,\nJapan, in 1994, where he designed mixed-signal and\nASIC ICs. He joined Canon Inc., Kanagawa, Japan,\nin 2002, where he has been engaged in research and\ndevelopment of mixed-signal processing devices. He\nis now a Designer with the Semiconductor Device\nDevelopment Center.\nHe joined Canon Inc., Kanagawa, Japan, in 1985,\nwhere he has been engaged in research and devel-\nopment of process technology of solid-state imaging\ndevices. He is now General Manager of the Semicon-\nductor Device Development Center.\nMr. Yuzurihara is a member of the Japan Society\nof Applied Physics.\nTAKAHASHI et al.: A 3.9- m PIXEL PITCH VGA FORMAT 10-b DIGITAL OUTPUT CMOS IMAGE SENSOR WITH 1.5 TRANSISTOR/PIXEL\n2425\nShunsuke Inoue (M’87) was born in Osaka, Japan,\nin 1961. He received the B.S. degree in electronic en-\ngineering from the Tokyo University, Tokyo, Japan,\nin 1984 and M.S. degree in electrical engineering\nfrom Stanford University, Stanford, CA, in 1989.\nShigeyuki Matsumoto was born in Tokyo, Japan,\nin 1950. He received the B.S. and M.S. degrees in\nphysics from Waseda University, Tokyo, Japan, in\n1975 and 1977, respectively.\nHe joined Canon Research Laboratory in 1977,\nwhere he was involved in inkjet process technology.\nSince 1980, he has developed I L, CMOS, advanced\nbipolar processing, inkjet heater board processes,\nand CMOS image sensors. He is now Group Ex-\necutive of the Semiconductor Device Development\nCenter.\nHe joined Canon Inc., Kanagawa, Japan, in 1984,\nwhere he has been engaged in research and develop-\nment of solid-state imaging devices and display de-\nvices. He is now General Manager of the Device De-\nvelopment Department at the Semiconductor Device\nDevelopment Center.\nMr. Inoue is a member of the Institute of Electronics, Information and Com-\nmunication Engineers and a member of the Institute of Image Information and\nTelevision Engineers of Japan. He received the research promotion paper award\nof the Institute of Image Information and Television Engineers of Japan in 2001.\nMr. Matsumoto is a member of the Japan Society of Applied Physics and the\nSociety of Polymer Science of Japan.\n']",
A 9-V_Lux-s 5000-Framess 512x512 CMOS Sensor.pdf,"['136\nIEEE TRANSACTIONS ON ELECTRON DEVICES, VOL. 50, NO. 1, JANUARY 2003\nA 9-V/Lux-s 5000-Frames/s 512\n512\nCMOS Sensor\nAlexander I. Krymski, Member, IEEE, and Nianrong Tu\nin 2000; however, details of their implementation were not\ndisclosed in the literature until now. Meanwhile, some shutter\ntechniques, such as high-efficiency shuttering using pixel\nn-well [2] or performing 4T NMOS-only shuttering [3] were\nreported, but the performance of these reported sensors was not\nthe best at the time. For instance, the pixel [2] had a very high\ndark current. The architecture [3] did not allow simultaneous\nexposure and pixel read. Also, the data rate [3] did not exceed\n100 Mpixels/s.\n9-V/Lux-s\nAbstract—A high-responsivity\nhigh-speed\n5000-frames/s (at\n512 resolution) CMOS active\npixel sensor (APS) is presented in this paper. The sensor was\ndesigned for a 0.35- m 2P3M CMOS sensor process and utilizes a\nfive-transistor pixel to provide a true parallel shutter. Column-par-\nallel analog-to-digital converter (ADC) architecture yields fast\nreadout from pixels and digitization of the data simultaneously\nwith acquiring a new frame. The chip has a two-row SRAM to\nstore data from the ADC and read previous rows of data out of\nthe chip. There are a total of 16 parallel ports operating up to 90\n1.3 Gpixel/s or 13 Gb/s of data at the maximum\nMHz delivering\nrate. In conclusion, a comparison between two high-speed digital\nCMOS sensor architectures, which are a column-parallel APS\nand a digital pixel sensor (DPS), is conducted.\nfull 512\nRecently, an alternative high-speed digital pixel architecture\nwas implemented [4]. The digital pixel sensor (DPS) CMOS\nimage sensor with an in-pixel ramp ADC achieved a rate of\n288 resolution. The paper claimed the\n10 000 frames/s at 352\nscalability along with the mainstream digital CMOS process as\nan advantage of the DPS.\nIndex Terms—Active pixel sensor (APS), CMOS sensor, digital\npixel sensor (DPS), high-speed imaging, shutter.\n512 CMOS APS\nsensor built using a traditional column-parallel ADC architec-\nture. The sensor has a five-transistor (5T) shutter pixel. Since\nthe operation was targeted for very high speed, achieving a high\nresponsivity was the key requirement along with the sensor\nspeed.\nThis paper reports a high-speed 512\nI. INTRODUCTION\nI MAGE sensors with the frame rate of more than 1000\nframes/s are needed for variety of applications such as\nair-bag inspection, destruction testing, and ballistic tests.\nCMOS sensors have a number of architectural and performance\nadvantages over CCDs that are crucial for such high-speed\nimaging. The pixel readout in the typical CMOS sensor is\nessentially column parallel, so the sensor, if designed properly,\ncan easily support fast data readout through as many ports as\nneeded for the given data rate. The digitization in a CMOS\nsensor is done on the chip. In combination with low-voltage\noperation, this results in considerable power savings on the\ncamera level. Also, CMOS sensors show none of the high-speed\nCCD artifacts such as the panel-to-panel fixed pattern noise\n(FPN), blooming, and smear.\nThe paper is arranged as follows. Section II addresses the de-\nsign features of the high-speed high-responsivity CMOS APS\nsensor. It includes an overall architecture, the implementation\nof a 5T shutter pixel, noise calculations, and the column cir-\ncuit schematic. Section III presents the measured sensor per-\nformance. Section IV is a comparison between the high-speed\nAPS and DPS implementations and between the two technolo-\ngies. The paper is concluded with a summary, acknowledgment,\nand list of references.\nOne of the first high-speed high-resolution CMOS sensors [1]\nwas built using the 0.5- m process, had a 10- m three-transistor\n(3T) pixel, an 8-b column-parallel analog-to-digital converter\n(ADC), and operated at 500 frames/s with 1-Mpixel resolution.\nYet, the sensor had a rolling shutter limiting its application and\nsome visible column-to-column FPN because the ADC offset\ncorrection was only 5 b.\nII. DESIGN FOR HIGH SPEED AND HIGH RESPONSIVITY\nA. Architecture\nThe architecture of the sensor is very similar to the one\nreferenced in [1]. The sensor has a pixel array, row decoder\nand driver, column readout circuits with ADC in each column,\ncolumn-wise memory to store data from the ADC and read\nprevious row of data out, sense amps for memory readout,\noutput drivers, and several controllers—two (top/bottom)\nfor pixel read, column sample-and-hold and ADCs, and two\n(top/bottom) for a memory operation (Fig. 1). One difference\nto the implementation [1] is the use of two column readouts\nfor one column of pixels. This was done to boost the speed.\nAnother difference is the use of an analog amplifier with fixed\ngains of 1, 2, 4, and 8 prior to the ADC. The ADC was designed\nas a 10-b. The sensor has a total of 16 output ports 10 b each.\nMore advanced high-speed megapixel sensors with a true\nfreeze-frame (or parallel) shutter were commercially available\nfrom Photobit, Fillfactory, and Fraunhofer Institute beginning\nManuscript received May 16, 2002; revised October 1, 2002. This work was\nsupported by the U.S. Government and DRS Photronics, Inc. The review of this\npaper was arranged by Editor N. Teranishi.\nThe authors are with Micron Technology, Inc., Pasadena, CA 91101 USA\n(e-mail: akrymski@micron.com).\nDigital Object Identifier 10.1109/TED.2002.806958\n0018-9383/03$17.00 © 2003 IEEE\nKRYMSKI AN TU: A 9-V/LUX-S 5000-FRAMES/S 512\n512 CMOS SENSOR\n137\n8x10x2\n\nColumn select |_\\___»| Amps —»\n\nStart | SRAM Sense | Pads\n\ncontroller Shift 512x10 SRAM\n\n512x10 SRAM\n\nStart | ADC Sample # #2 |, fAS12\n—, > “A ADC ADC\n\ncontroller\n\nS/H with amplifier\nTX\n\nRow driver\n\nRow select\n\n5\nPm\n\ndo PIXEL ARRAY\nDC\n\nL Sense Pads\n\nAmps\n\nStart ADC\n>| controller >A ADC\nample\n[+ : 512x10 SRAM 8x10x2\nStart | SRAM Shift 7\n>| controller 512x1 0SRAM\n= > Column select\n\nFig. 1. Block schematic of the sensor.\nVrst Vdd\n\nrst_PD men |\n\n3\n\n||\nLI\n2\nS\n\n\\y \\y M3\n= SS\nPD XS pw\nXn 7 1\nP-well\nP-well P- epi\n\nB. High-Responsivity Shutter Pixel\nThe standard mixed-mode CMOS process leaves few possi-\nbilities for the realization of the parallel shutter in pixels. The\npixel can be either a photogate (with noiseless charge transfer\nto a pixel analog memory) or a photodiode with either voltage\nsharing or charge transfer. The latter would require solving the\nlag issue [5], so it was not selected for the implementation due to\nadditional risks. The photogate pixel test chip built in the target\nprocess did not show satisfactory quantum efficiency (QE), so\nit also was not selected. The one chosen for the implementa-\ntion was a photodiode with voltage sharing. The pixel schematic\nis shown in the top of Fig. 2. The photodiode is reset through\nswitch, which is a global operation for the entire\nthe\npixel array. An accumulated photo-signal is transferred to the\n. The pixel memory is\npixel memory\nswitch right after reading the signal\nreset through the\nfrom the memory and/or globally just before the signal transfer,\nif needed for dark signal reduction. All switches operate in the\ntriode regime to insure full reset or full transfer. Although triode\nnoise compares to subthreshold reset, it\noperation doubles\ninsures no image lag, which is important for high-speed opera-\ntion.\nby closing switch\nFig. 2. Schematic of the shutter pixel and its physical implementation.\ninto the shutter storage, so we selected an all-NMOS switch im-\nplementation.\nThe process provided the option of leaving an original lightly\ndoped p epi-layer in the area of the pixel array. In a regular\ntwin-well process, it would have a P-well implant. The design\nrules also allowed an island of the original substrate in each\npixel with a size of 12 m and larger. We made use of this\nopportunity, implementing an N/P-photodiode in the island of\nthe lightly doped substrate while placing the analog memory\n(which is simply a source–drain capacitance) in a P-well. This\nThe switches in pixel can be PMOS only. This allows very\ngood isolation of the memory built-in N-well [2]. However, the\npixel N-well serves as an effective parasitic drain for photo-\ngenerated electrons and may substantially hinder the collection;\nhence, the QE. The application primarily required high respon-\nsivity and was not very critical to a minor leakage of photosignal\n138\nIEEE TRANSACTIONS ON ELECTRON DEVICES, VOL. 50, NO. 1, JANUARY 2003\nFig. 3. Simplified schematic of the column front-end circuit.\nSumming squares of the noises together gives a simple expres-\nsion for the total pixel noise voltage\nwould supposedly limit the diffusion of photoelectrons into the\nmemory because of the difference in acceptor concentration in\nthe two areas. (The simple theory based on the steady state be-\ntween the two regions predicts a reduction in photoelectron con-\ncentration and hence diffusion current into the P-well region by\napproximately the ratio of the substrate doping concentrations.)\nIn order to reduce the carrier diffusion to the neighboring pixel,\na P-well guard ring was implemented, confining the carriers\nwithin the P-epi photodetector “pocket.” A physical sketch of\nthe pixel is drawn in the bottom of Fig. 2.\nAlthough pixel noise does not depend on the photodiode capac-\nafter collecting of a photo-charge\nitance, the signal voltage\ndegrades with larger photodiode capacitance according to\nthe formula\nThe simplest way to reach high responsivity is to use a bigger\npixel. Responsivity is the total collected charge divided by the\npixel capacitance. The number of photons is proportional to\nthe photon flux, integration time, pixel area, and QE. If we fix\nthe size of the photodiode and the floating diffusion (FD) and\nstart increasing the overall pixel size, assuming that QE does\nnot degrade, the responsivity, defined in volts per Lux-second,\nwill grow as a square of the pixel pitch. Because high respon-\nsivity was an important requirement, we chosen a relatively\nlarge 16- m pixel and relatively small photodiode and FD.\nand\nis when they are approx-\nThe optimal ratio between\nis smaller, it would limit the pixel charge-\nimately equal. If\nhandling capacity and reduce the signal-to-noise ratio (SNR)\nunless multiple sampling of the photo-charge into the memory\nduring the collection is used. This cannot be done during the\ntime of reading the pixels, so for the purpose of maximizing the\nframe rate this mode was not given much attention, and the ca-\npacitance ratio was chosen to be approximately 1 to 1.\nPixel noises can be simply reduced by a factor of\nif, in-\nstead of taking a true reset sample, we take the sample while\nreset switch is ON. This, however, adds an offset to the pixel\nsignal and presents another difficulty to overcome.\nThe capacitance of the photodiode and the pixel memory was\noptimized from noise and dynamic range considerations as de-\nscribed below.\nThe pixels are read row by row. Data from the first row goes\nto the bottom column circuit, the data from the second row goes\nto the top circuit, and so on.\nC. Pixel Noise\nD. Column Readout and ADC\nnoise from\nseveral switches. The reset of the photodiode with capacitance\nadded to the\nThe dominant noise source in the pixel is the\nColumn readout is similar to [1]. The difference is an ampli-\nfier prior to ADC and 10-b ADC design. The schematic of the\nfront-end column circuit is drawn in Fig. 3. It operates as fol-\nlows. The first signal voltage from the pixel is the pixel signal\nvoltage followed by the pixel reset voltage, which is of a higher\nlevel. While reading the pixel signal, the amplifier is reset and\nthe amplifier reset level is sampled into one of the ADC capaci-\ntors. Before performing the pixel reset the amplifier feedback is\nreleased, and, after pixel reset is completed, the amplified differ-\nence between the pixel reset and the pixel signal referenced to\nthe amplifier reset voltage is sampled into another ADC capac-\nitor. Thus, using a differential ADC input, the amplifier offset\nvarying from column to column is cancelled. In this implemen-\nleaves charge noise with a variance of\nsignal charge. Another noise charge with a variance of\ncomes to the signal charge from the reset of the memory with\n, these charges will be the\ncapacitance\nwith\nsum, and result in noise voltage at the sensing node\n. Additional noise comes from a\na noise square\n.\ncharge redistribution between\nThis contributes to signal voltage variance by term\n. At the closing of\nafter opening of\nand\n. To understand this, consider a loop that includes\n,\nare serially con-\nagain will\nto the signal.\n, and the\nswitch, in which\nand\nnected. Taking a reference voltage after resetting\nadd another noise voltage with variance\nKRYMSKI AN TU: A 9-V/LUX-S 5000-FRAMES/S 512\n512 CMOS SENSOR\n139\nDNL, Isb\n\nADC code, Isb\nFig. 5. ADC DNL. Here,\nmeasurements are done with a 9-b acquisition board.\nlsb stands for the least significant bit. The\noY\n\n206\n\nN\no\n\nu jo azenbs\n\n°\n\n100 150 200 250\n\n50\n\nSignal, Isb\nFig. 4. Photograph of the packaged sensor.\ntation, we used a simple cascoded differential amplifier with\nPMOS input transistors. Fixed gains were 1, 2, 4, and 8.\nWhile performing analog-to-digital (A/D) conversion, data\nare written into the column SRAM with independent write–read\noperations (parallel column-wise in-serial out) [1].\nIII. IMPLEMENTATION AND CHARACTERIZATION RESULTS\nFig. 6. Measurements of conversion gain (8-b data acquisition board).\nThe chip was designed and fabricated in 0.35- m 2P3M\nUnited Microelectronics Corporation (UMC) CMOS sensor\n16 mm (V). The\nprocess. The chip size was 12.1 mm (H)\nchip was packaged into a custom 288CQFP package with\ndecoupling capacitors for digital VDD, analog VDD, and ADC\nreference voltage (shown in Fig. 4).\nTABLE I\nSUMMARY OF THE SENSOR CHARACTERIZATION**\nResolution\n\n512x512\n\nPixel pitch\n\n16 um\n\nADC architecture\n\nSuccessive-approximation 10b\n\nADC resolution\n\n> 8 bit\n\nResponsivity at 550 nm 9 V/ Lux.s\n\nNoise 702\n\nSaturation 60,000 e°\n\nConversion gain 16 uV/e""\n\nDSNU 0.2% or 125e° r.m.s. or 1.5%\nPp\n\nPRNU at saturation 656% rms. or 4% p-p\n\nDark signal <50 mV/s\n\nShutter efficiency 99%\n\nNonlinearity <15%\n\nPower 500 mW\n\nThe image sensor was fully characterized using custom PC\nboard and image acquisition and characterization software. Ini-\ntially, the board acquired the 8 top bits from the sensor, but\nwas later upgraded to 9 b with the goal of better character-\nizing the ADCs. Most of the measurements presented here were\nperformed with 8-b accuracy, but the most sensitive ones in-\ncluding noise and dark signal nonuniformity (DSNU) were re-\npeated with the 9-b setup.\nMeasurements were done at room temperature with the\nsensor operating at 2500 frames/s. The ADC reference was\n1 V with gain equal to 1. The ADC differential nonlinearity\n(DNL) is drawn in Fig. 5. The maximum error at several codes\npoints to the 8-b accuracy. However, since we observed almost\na twofold reduction in noise acquiring 9 b compared to 8 b,\nthis rather witnessed about 9-b “statistical” resolution of the\nADC. The clear message is that a “bad” 9-b ADC is better than\nthe “ideal” 8-b ADC. The commonly accepted definition of the\nADC accuracy somehow ignores this fact. We also observed an\nexcessive ADC temporal noise possibly from the comparator,\nwhich masked the DNL. True DNL might be less than 1 b on a\n9-b scale.\n**All numbers are at 2500 frames/s. DSNU includes frozen\ntemporal noise\nleast significan bits (lsbs) per electron) under the assumption of\nthe shot noise at large signals. Then, the pixel conversion gain\nwas determined using the pixel-to-ADC voltage gain obtained\nfrom simulations.\nThe results of the measurements are summarized in Table I.\nTable I shows that a high responsivity of 9 V/Lux s for a rea-\nsonable dynamic range of 59 dB was achieved. Such a respon-\nsivity allows the sensor to capture images under room illumina-\ntion at a rate up to 1000 frames/s using a commercial\nlens, and at the gain of only 1. A 5000-frames/s imaging requires\nan outdoor sunlit operation or an additional projector (indoors).\nThe slope of the noise square versus signal plot (in Fig. 6)\nallows us to determine the overall sensor conversion gain (in\n140\nIEEE TRANSACTIONS ON ELECTRON DEVICES, VOL. 50, NO. 1, JANUARY 2003\n% ‘Aousiolyjy winyueno\n\n500 600 700 800 900 1000\n\n400\n\nWavelength, nm\nNumber of pixels\n\n100000\n\n80000\n\n60000\n\n40000\n\n20000\n\n0 -\nie) 128\n\nona NwWORD\n\n0 20 40 60 80 100\n\nPixel value, Isb\n\n256\nFig. 7. Dark signal histogram taken at low speed (30 frames/s) and its tail\n(shown in the inset).\nFig. 8. The spectral response of the sensor.\nSensor gain settings can also be used, although this reduces the\ndynamic range. The sensor sensitivity that is the ability to see\nin dark is defined by both the responsivity and the noise. For\ntemporal) noise of 125e , one needs a\nthe combined (spatial\nminimum of 11 Lux front-plate illumination to have the SNR of\n10, when the 9-V/Lux s sensor operates at 5000 frames/s with\nthe full frame exposure time.\nNoise reduction was verified to be approximately 20% when\nusing the “clamped reset” for reset voltage sampling. The devi-\nreduction was explained\nation from a theoretically expected\nby the ADC quantization error. When the latter was subtracted,\ngood correspondence to the prediction noise reduction was ob-\nserved. In this pixel reset mode, DSNU was also reduced by\n22%–25%. However, an asymmetric pixel reset resulted in an\noffset coming from the pixel, which saturated the amplifier at\ngains starting at 2. Further circuit improvements are needed to\ncompensate for pixel offset in this mode.\nFig. 9.\nImage obtained from the sensor at 5100 frames/s.\nIn the 5T pixel with voltage sharing, the dominant contrib-\nand\noperations and the variance of the switch feedthrough\nacross the pixel array. The DSNU results should be expected to\nsomewhat worse than in the 3T pixels. Nonetheless, the subjec-\ntive quality of the image was good, especially taking into ac-\ncount the high-speed aspect of operation. Also, DSNU can be\nimproved at the camera level by subtracting a dark frame. The\nhistogram of the dark frame taken at a temperature of 23 C and\na low speed of 30 frames/s is presented in Fig. 7. It peaks at 23\nlsb. This value was mostly a dark offset. The chip did not have\nan automatic black level adjustment, but did allow dark offset\nchange. Dark current contribution to the signal was relatively\nsmall, approximately 2 lsb on average, although several white\nspots started developing at the such a low frame rate. The inset\nin Fig. 7 points into a dozen pixels showing a higher dark cur-\nrent. This tail almost disappears at 60 frames/s and is invisible\nat 120 frames/s.\nutor to the pixel FPN is the asymmetry between the\nFig. 10. When a regular image gets saturated (left), double sampling of the\nphotosignal into the memory (right) extends the dynamic range.\nThis section is concluded with two pictures. The image of a\nTV chart (Fig. 9) is taken by the sensor with unity gain run-\nning at 5130 frames/s using a 90-MHz board oscillator. At the\nhigher oscillator rates the sensor SRAM readout started failing,\nshowing several noisy columns.\nQE (that includes fill factor) of the pixel is shown in Fig. 8.\nThe response can be characterized as red-greenish. A response\nof less blue can be attributed to a smaller active area of the de-\ntector and its deeper junction. The cut-off in the near infrared\narea is a combination of the fundamental silicon energy gap\nlimit, as well as a limited collection depth when using a 7- m\nepi-wafer on a heavily doped P substrate.\nFig. 10 shows another picture, demonstrating a dual slope\nresponse extending the dynamic range at the high end. Here the\nsensor ran at 1250 frames/s and the signal was sampled twice\ninto the memory, after 12 rows and after a full frame (512 rows).\nA similar idea for an image sensor with a rolling shutter was\ndisclosed in [6]. In this paper, the fusion is done within the pixel.\nKRYMSKI AN TU: A 9-V/LUX-S 5000-FRAMES/S 512\n512 CMOS SENSOR\n141\nPhotodiode\n\nAnalog memory & switches |”\n\ni\n\nCDS to the estimated level of about 20e . In the APS, FPN ex-\nceeded the temporal noise by 60%. As we discussed earlier, this\nFPN came from pixel switches and can be subtracted by using\na dark frame memory, the one the DPS uses to perform digital\nCDS. Then the APS noise is expected to drop to 70e .\nIf we put together the numbers for responsivity and the noise\n(in volts), the conclusion would be that the APS was 60 times\nmore sensitive than the DPS.\nOne advantage of the DPS is that it occupies less periphery\n4 mm/side went on\nchip area. In the APS, substantial space\na column readout. However, the DPS needs to use an external\nmemory of the frame size to perform digital CDS. This reduces\nthe area advantage of DPS.\nFig. 11. Comparative drawing of the DPS and the APS pixels. The size ratio\nis approximately correct.\nThe speed of the two sensors was essentially the same, 1.3\nGpixel/s.\nIn general, the DPS with pixel-parallel ADC should exhibit\na higher speed because it needs only one conversion per frame,\nwhereas a column-parallel ADC performs as many conversions\nas the number of rows in the frame. However, the ramp ADC\ncurrently used in the DPS is a very slow type of ADC, so it is\nnot obvious that the DPS with the pixel ramp ADC completes\nthe conversion faster than the APS with algorithmic ADC. Let\nus compare APS and DPS sensors in terms of the number of\nclock cycles needed to complete the pixel and ADC operations.\nThe DPS pixel requires two A/D conversions: one for the\nsignal and the other for reset. Pixels perform conversion in par-\nallel, but data are read out line by line. Two A/D conversions\nclocks, where Nbit is the ADC\nwill require\nresolution. The readout of two words will most likely require\nfour clocks per one row. The total number of clocks per A/D\nand the pixel readout is 2\nTABLE II\nCOMPARISON OF THE APS AND THE DPS\nAPS DPS\nProcess 0.35um 0.18um\nResolution 512x512 352x288\nFrame rate 5,000 Frames/s, 10,000 Frames/s\n10,000 @512x256\n\nADC >8 bit 8 bit\n\nPixel 16um 9.4um\nPeriphery size 4mm Imm\nResponsivity 9 V/Lux-s 0.11 V/Lux-s\nTotal Noise\n\n125e° or 2 mV\n\n115e-or 1.5 mV\n.\nAn APS with algorithmic column ADC and pipelining of the\npixel readout and the A/D conversion requires approximately\nclocks to perform pixel readout and ADC\nIV. COMPARISON BETWEEN HIGH-SPEED APS AND DPS\nSince the speed, resolution, and data rate of a 1.3-Gpixel/s\nfor the sensor were comparable to the parameters of the DPS\nsensor [4], it was interesting to compare these two sensors and\nthe technologies.\nfor entire pixel array.\nThe plot of the number of clock cycles versus number of rows\nfor a 6-b ADC accuracy and a 12-b ADC accuracy are presented\nin Fig. 12. The conclusion is that the DPS performs A/D conver-\nsion faster at a low ADC resolution and in the case of the 12-b\n480). The APS\nADC for sensor format larger than VGA (640\nhas an advantage in the case of high A/D conversion accuracy\nand sub-VGA format.\nFig. 11 presents a drawing of the two pixels. Table II com-\npares resolution, speed, pixel size, periphery size, ADC accu-\nracy, responsivity, and the combined temporal and spatial noise\nof two sensors.\nThe APS pixel is bigger, but this alone does not explain a\nhigher responsivity of nearly 100. If the DPS pixel grew from\n9.4 to 16 m, its responsivity might have grown seven times, as-\n– wiring. An-\nsuming that the pixel fill factor is limited by\nother order of difference in responsivity may be attributed to the\nusage of a nonadjusted digital CMOS process for DPS imple-\nmentation, but primarily because of much worse area utilization\nby DPS. For instance, the DPS must accommodate 37 MOS’s\nin the pixel whereas the APS uses only five. Some additional\nloss of the QE in DPS is the diffusion of photoelectrons into the\npixel N-well.\nADC speed is an important factor, but it is not the only one\nthat limits sensor speed. Output interface presents another lim-\nbits each, the number\nitation. In general, if we have\nof clocks needed to read out the sensor array of the dimension\n.The number of\npixels through 1,\nclocks needed to read out the frame of\n8, or 4, 16 ports is also plotted in Fig. 12. For the most practical\nresolutions (the number of rows is several hundred and more),\nit is the output that limits the image sensor throughput for both\nhigh-speed APSs and DPSs.\nports\nby\nwill be equal to\nyy\nyy\nyy\nyy\nIn addition, note the following considerations about the two\nThe total noise in Table II includes both the spatial and the\ntemporal components. Noise for the DPS was converted from\nlsbs to volts assuming a 1-V ADC reference, and into electrons\nusing conversion gain of 13.1 V [4]. The total noise in elec-\ntrons was a 10% higher in APS. DPS noise was dominated by\nthe temporal noise. Its spatial noise was canceled by the digital\ntechnologies.\n1) If DPS uses the mainstream digital process which is not\nwell suited for imaging [7], QE and dark current are not\nexpected to be good. However, once the dedicated DPS\npixel process is developed, the APS can also benefit from\n142\nIEEE TRANSACTIONS ON ELECTRON DEVICES, VOL. 50, NO. 1, JANUARY 2003\nN clocks\n\n1000000\n\n100000\n\n10000\n\n1000\n\n100\n\n6b ADC resolution\n\nea\n\neas\n\nar\n\n100\n\nN rows\n\n1000\n\n—e— ADC APS\n\n|—m- ADC DPS\n\n—+— 4 Ports\n—x— 16 ports\ncomparator operation. Then, however, temporal noise of\nactive MOSFETs in a pixel may become an issue. Also,\nsince the reset and the pixel signal are spread in time, there\nis a possibility of catching additional\nnoise from the\nanalog MOSFETs in the pixel.\nIn conclusion, the high-speed APS has shown an apparent ad-\nvantage over the high-speed DPS in responsivity. This is due to\nthe use of a simpler pixel and thus higher fill factor and because\nof a specialized CMOS sensor process. The comparative anal-\nysis shows that the DPS should be seeking opportunities in ap-\nplications, which require low ADC resolution, smaller imager\ndimension, and which can tolerate smaller responsivity. Then\nthe DPS’s periphery size advantage may transform into a lower\ncost. The comparison also showed an opportunity for a high-\nspatial-resolution high-speed DPS. However, in our opinion,\nsuch a design presents a serious challenge and requires solving\nmany engineering issues such as power routing, crosstalk, and\nnoise arising from simultaneous operation of an array of the\nADCs. Although this paper is about high-speed imaging, it is\nworth mentioning that the megapixel digital still camera market\nis still driven by CCDs pushing the pixel size to a pitch of less\nthan 3 m, so, as for a CMOS being competitive with CCDs in\nthe consumer market, there is little choice but to use only simple\npixels, which means an APS.\n(a)\nN clocks\n\n12b ADC resolution\n\n1000000\n\n100000\n\n10000\n\n100 1000 10000\n\n[—e—ADC APS\n|—m- ADC DPS\n—— 1 port\n|—*— 8 ports\n\nWhen discussin the high-speed APS, the primary design is-\nsues for the future are reduction of the periphery size and the\npixel temporal and spatial noises. In this regard, the transition\nto smaller design rules and to a buried type of photodiode would\nbe beneficial.\nV. CONCLUSION\n(b)\nA high-responsivity 9-V/Lux s, high-speed 5000-frames/s\n512 CMOS APS sensor with column-parallel ADCs was\nFig. 12. Number of clock cycles required by the APS and DPS to perform\nADC operations for (a) 6-b ADC accuracy and (b) 12-b accuracy. Also shown\nis output port data throughput limitation.\n512\ndesigned, manufactured, and characterized.\nThe comparison of high-speed digital sensors shows the supe-\nriority of the state-of-the-art APS technology regarding respon-\nsivity to light and sensitivity. The two major contributing factors\nare the relative simplicity of the APS pixel and the design for\nhigh responsivity in a specialized CMOS sensor process.\nit. As an example, we have drawn a column ADC using\n0.18- m rules, which is in only one quarter height of the\nADC in the 0.35- m process.\n2) In order to route a wide data bus in a minimum pixel\nspace, the DPS should use more than three layers of metal.\nA thick “sandwich” is probably not the best starting point\nto optimize optical performance of the sensor and reduce\na pixel-to pixel optical crosstalk.\nACKNOWLEDGMENT\nThe authors would like to thank A. Sevastyanov and\nA. Yakovlev for the board and the software design and Dr.\nE. Fossum for useful comments.\n3) The APS can easily boost an analog pre-ADC gain to\nget higher responsivity. To some extent this can also be\ndone in the DPS pixel by lowering ramp voltage swing.\nHowever, a noticeable offset from pixel to pixel will not\nallow us to use this technique efficiently.\nREFERENCES\n[1] A. Krymski, D. Van Blerkom, A. Anderson, N. Bock, B. Mansoorian,\nand E. Fossum, “A high-speed, 500 frames/s, 1024 (cid:2) 1024 CMOS active\npixel sensor,” in Proc. Symp. VLSI Circuits, June 1999, pp. 137–138.\n[2] S. Lauxtermann, G. Israel, P. Seitz, H. Bloss, J. Ernst, H. Firla, and\nS. Gick, “A mega-pixel high speed CMOS sensor with sustainable Gi-\ngapixel/s readout rate,” in Proc. IEEE Workshop on CCDs and Advanced\nImage Sensors, June 2001, pp. 48–51.\n4) In an APS, only one row of pixels is selected at a time and\nconsumes power, so routing of the pixel power supply is\nnot an issue. In a DPS, ADCs operate simultaneously. The\nbigger the dimensions of the DPS, the more critical is the\npower routing. A noticeable voltage drop in power lines\nmay give rise to image shading (gradient in the image\nwhich is supposed to be uniform) and image shadowing\n(crosstalk between bright and dark image areas). Solving\nthis issue may force the designer to seek subthreshold\n[3] N. Stevanovic, M. Hillegrand, B. J. Hostica, and A. Teuner, “A CMOS\nimage sensor for high speed imaging,” in Proc. IEEE Int. Solid-State\nCircuits Conf., Feb. 2000, pp. 104–105.\n[4] S. Kleinfelder, S. Lim, X. Liu, and A. El Gamal, “A 10 000 frames/s\nCMOS digital pixel sensor,” IEEE J. Solid-State Circuits, vol. 36, pp.\n2049–2059, Dec. 2001.\nKRYMSKI AN TU: A 9-V/LUX-S 5000-FRAMES/S 512\n512 CMOS SENSOR\n143\nNianrong Tu received the B.S. degree in electrical\nengineering from Xi’an Jiaotong University, China,\nin 1992 and the M.S.E.E. degree from the University\nof Manitoba, Manitoba, Canada, in 1995.\n[5] B. Pain et al., “Analysis and enhancement of low-light-level per-\nformance of photodiode-type active pixel\nimagers operated with\nsubthreshold reset,” in Proc. 1999 Workshop on CCDs and Advanced\nImage Sensors, June 1999, pp. 140–143.\n[6] O. Yadid-Pecht and E. Fossum, “Image sensor producing at least two\nintegrating times from each sensing pixel,” U.S. Patent 6 115 065, 2000.\n[7] H. S. Wong, “Technology and device scaling considerations for CMOS\nimagers,” IEEE Trans. Electron Devices, vol. 43, pp. 2131–2141, Dec.\n1996.\nFrom 1996 to 1999, he was working at the Uni-\nvesity of Waterloo, Waterloo, ON, Canada, doing re-\nsearch on CMOS sensors. He joined Photobit Cor-\nporation in 2000 and was responsible for VLSI de-\nsign of a number of high-speed CMOS sensors. Since\nNovember of 2001, he has been with Micron Tech-\nnology, Micron Imaging Group, Pasadena, CA.\nAlexander I. Krymski\n(M’97) graduated from\nNovosibirsk University, Novosibirsk, Russia, in 1984\nand received the Ph.D. degree from the Institute for\nSemiconductor Physics, Novosibirsk, in 1992, where\nhe worked on a photo-electrical characterization of\nMOS devices, and CCD/CMOS multiplexers for\ninfrared focal plane arrays.\nIn 1993–1994, he collaborated with the CMOS\nsensor group at IMEC, Leuven, Belgium, in the area\nof smart sensors. In 1996, he joined Photobit Corpo-\nration, Pasadena, CA, specializing in CMOS sensor\nresearch and development and custom design. His major contributions to the\nCMOS sensor technology were the design of a low-power “camera-in-a-pill”\nsensor and principle circuits for a high-speed Megapixel family of sensors.\nSince November 2001, he has been with Micron Technology, Pasadena, CA, as\nthe head of the Advanced Sensor group. He has published more than 15 papers\nin the area of imaging and is the author or coauthor of ten U.S. patents and 15\npending patent applications.\n']",
A Low-Noise CMOS Image Sensor with Digital Correlated Multiple Sampling.pdf,"['This article has been accepted for inclusion in a future issue of this journal. Content is final as presented, with the exception of pagination.\nIEEE TRANSACTIONS ON CIRCUITS AND SYSTEMS–I: REGULAR PAPERS\n1\nA Low-Noise CMOS Image Sensor With\nDigital Correlated Multiple Sampling\nNan Chen, Shengyou Zhong, Mei Zou, Jiqing Zhang, Zhongshun Ji, and Libin Yao, Senior Member, IEEE\nnode is used in 4T pixel\nto realize the readout of reset\nvoltage and signal voltage subsequently. This implementation\nis supplied by customized CIS process with option of pinned\nphotodiode [7], which provides improved photo-responsivity\nand noise performance compared with standard PN junction.\nHowever, CIS process with high performance is not avail-\nable to common customers as the process parameters for\npinned photodiode and other units in pixel are optimized by\nfoundry for requirements of speciﬁc customers. The additional\nmask layers and process optimization increase cost further.\nDelta difference sampling (DDS) [7], [8] is proposed to\nimprove the uniformity with standard CMOS process, which\nsubtracts the integrated signal voltage in one frame and reset\nvoltage in the following frame. Since the samples in differ-\nent frames are un-correlated, the resulted reset noise power\ndoubles.\nAbstract— This paper presents a low noise CMOS image sensor\nusing conventional 3T active pixel with Nwell/Psub diode as photo\ndetector. Both ﬁxed pattern noise (FPN) and temporal noise\nare suppressed by the proposed digital correlated multiple sam-\npling (DCMS) technology. FPN and temporal noise from pixel,\nbuffer circuit, and column-parallel ADC are analyzed in detail,\nand the total noise with DCMS is derived. General expression of\n1/f noise with correlated multiple sampling is given, illustrating\nimpact of delay time in DCMS. Output noise of image sensor,\nframe rate, power, and area are affected by order and oversam-\npling ratio of sigma–delta ADC, which are discussed for practical\ndesign. A prototype CMOS image sensor with 800×600 pixel\narray and second-order incremental sigma–delta ADCs is imple-\nmented with the 0.35-µm standard CMOS process. Measurement\nresults of the implemented image sensor show a column FPN\n−\nof 0.009%, an input referred noise of 3.5 e\nrms, and a dynamic\nrange of 84 dB with oversampling ratio of 255. This indicates that\nimage sensor with low noise can be achieved by DCMS without\nthe CIS process and column ampliﬁcation.\nTo achieve low noise imaging with standard CMOS\nthis paper presents a digital correlated multiple\nprocess,\nsampling (DCMS) technique for 3T pixel to suppress spatial\nnoise as well as temporal noise without pinned photodiode.\nCompared with analog CDS, CMS and DDS, suffering from\nFPN of column-parallel ADC array, better uniformity can\nbe obtained if the subtraction is executed in digital domain\nsince FPN from all stages of image sensor is suppressed.\nThe increased temporal noise due to the un-correlated noise\nsources is attenuated signiﬁcantly by the multiple sampling\nand average of column-parallel sigma-delta ADC. Both Spatial\nnoise and temporal noise from all noise sources of image\nsensor with proposed DCMS is analyzed in this paper, and\nthe measurement results of prototype image sensor conﬁrm\nthe effectiveness of DCMS to FPN and temporal noise.\nIndex Terms— CMOS image\nsensor,\nsigma-delta ADC,\nlow noise, FPN, digital correlated multiple sampling.\nI. INTRODUCTION\nC MOS image sensor (CIS) for low-light level imaging is\ndesirable in applications of scientiﬁc imaging, medical\nimaging and security. To achieve good imaging quality under\nlow-illumination conditions, the CIS needs both low spatial\nnoise and temporal noise.\nHigh-gain column ampliﬁer is helpful to reduce the tem-\nporal noise [1], but the uniformity of image is deteriorated\ndue to the mismatch of devices in ampliﬁer. The introduced\ncolumn ﬁxed pattern noise (FPN) corrupts the imaging quality\nmore seriously at low light intensity than high light intensity.\nCorrelated double sampling (CDS) [2], [3] can suppress offset\nFPN, low frequency noise and reset noise of pixel effectively\nby the correlation of reset voltage and integrated signal volt-\nage. In addition, correlated multiple sampling (CMS) [4]–[6]\nis developed to reduce temporal noise further by average of\nmultiple samples from these two voltage levels. The effect of\nCDS/CMS to low frequency noise is inversely proportional\nto the interval of two samples, thus ﬂoating diffusion output\nThe paper is organized as follows: Section II describes\nthe image sensor architecture and the proposed DCMS. FPN\nwith DCMS is discussed in Section III, followed by temporal\nnoise analysis of DCMS in detail in Section IV. Design of\ncolumn-parallel sigma-delta ADC is presented in Section V.\nSection VI shows the implementation and measurement\nresults, followed by the conclusion in Section VII.\nManuscript received January 15, 2017; revised May 7, 2017; accepted\nJuly 3, 2017. This work was supported by the Applied Basic Research\nPrograms of Yunnan Province of China under Grant 2013FC009. This paper\nwas recommended by Associate Editor I. F. Chen. (Corresponding author:\nNan Chen.)\nII. PROPOSED DCMS AND ARCHITECTURE\nFig. 1 shows the architecture of the proposed CMOS image\nsensor. The image sensor consists of a 800×600 pixel array,\ncolumn-parallel sigma-delta ADC array, digital column MUX\ncircuits, row decoder and timing controller. The column\nreadout circuits place on both top and down sides of the pixel\narray, and each side contains 400 columns. Off-chip buffer\nThe authors are with the Kunming Institute of Physics, Kunming 650223,\nChina (e-mail: nanc@mail.ustc.edu.cn).\nColor versions of one or more of the ﬁgures in this paper are available\nonline at http://ieeexplore.ieee.org.\nDigital Object Identiﬁer 10.1109/TCSI.2017.2724855\n1549-8328 © 2017 IEEE. Personal use is permitted, but republication/redistribution requires IEEE permission.\nSee http://www.ieee.org/publications_standards/publications/rights/index.html for more information.\nThis article has been accepted for inclusion in a future issue of this journal. Content is final as presented, with the exception of pagination.\n2\nIEEE TRANSACTIONS ON CIRCUITS AND SYSTEMS–I: REGULAR PAPERS\nFig. 3. Operation principle of proposed DCMS.\nFig. 1. Block diagram of the CMOS image sensor.\nfor noise reduction. This will cause voltage dropping of ADC\ninput during sampling, since photo current is still integrating\nin this phase. As sigma-delta ADC outputs mean value for\nthe dropping voltage during the whole sampling phase of one\npixel, the result actually corresponds to the level integrated\nfor Tint plus half time of readout phase (Tro).\nAs\nshown in Fig. 2,\nis\nsupply voltage (VDD), and the input voltage of source\nfollower (NMOS) is\nthe reset voltage of pixel\n(I pd + Id )T (cid:2)\nint\nCint\nVG = V D D −\n(1)\nwhere I pd and Id are photo current and dark current from\nint is the equivalent integration time\nis integration capacitance\nphotodiode, respectively. T (cid:2)\nas Tint =Tint + Tro/ 2, and Cint\nincluding junction capacitance and parasitic capacitance.\nFig. 2. Pixel circuit.\nare used to realize the proposed DCMS operation. Rolling\nshutter is used for adequate integration time and simple pixel\ncircuits. 3T active pixel structure is designed in the image\nsensor, as shown in Fig. 2, which uses Nwell/Psub diode\ninstead of pinned photodiode.\nSupposing the source follower is in saturation and neglect\ninﬂuence of the switch controlled by SEL, the output voltage\nof pixel for integration time of Tint can be obtained as\nVS = VG − VG S,S F = V D D\n(I pd + Id )T (cid:2)\nint\nCint\n(cid:2)\nThe basic idea of DCMS is similar to CMS, while the\nsampling timing should be modiﬁed to be compatible with\n3T pixel. The operation principle of DCMS is shown in Fig. 3.\nRather than the adjacent sampling of reset and signal voltage\nin one pixel for CDS/CMS with 4T pixel,\nthe proposed\nDCMS with 3T pixel has to sample reset voltage of all pixels\nand buffer their digital codes (DR),\nthen samples signal\nvoltage and digitize as DS. Both reset voltage and signal\nvoltage are sampled with multiple times by column-parallel\nsigma-delta ADC in readout phase, and the output code (DO )\nis obtained by the difference of signal code (DS) and the\nbuffered reset code (DR) for each pixel. A frame buffer is\nrequired to store reset codes of all pixels for one frame,\nwhich will occupy considerable area if it\nis implemented\non chip. Alternatively, off-chip memory is used to realize\nDCMS, taking the advance of high volume, high speed and\nlow cost\nin advanced nano-meter CMOS technology for\nmemory.\n2IB\nμN Cox WS F /L S F\n− VT N −\n−\n(2)\nwhere VT N , WS F and L S F are the threshold voltage, effective\nwidth and length of source follower, respectively. IB is the\nbias current of source follower, μN is the mobility of NMOS,\nand Cox is the gate oxide capacitance per unit area.\nDigital output of Vs from Lth-rder incremental sigma-delta\nADC with oversampling ratio of M is\nL−1(cid:3)\nDS = VS − VO S\nVR E F\n1\nL!\n[ci (M + i )]\ni=0\n(I pd + Id )T (cid:2)\nint\nCint\n(cid:2)\n(cid:4)\n(cid:5)\n2IB L S F\nμN Cox WS F\n=\nV D D−\n−VT N −\n−VO S\nL−1(cid:6)\n[ci (M + i )]\ni=0\n×\n(3)\nVR E F L!\nNote that there is no additional circuit between pixel output\nand input of ADC, especially the sampling and hold circuit\nbefore ADC is removed to take the advantage of time average\nwhere ci is gain of the ith integrator in sigma-delta modulator,\nVR E F is reference voltage, and VO S is offset voltage in ADC.\nThis article has been accepted for inclusion in a future issue of this journal. Content is final as presented, with the exception of pagination.\nCHEN et al.: LOW-NOISE CIS WITH DCMS\n3\nThe integration time T (cid:2)\nreset voltage VR.\nint in (3) is zero for digital output of\nIV. TEMPORAL NOISE ANALYSIS OF DCMS\nThe source of temporal noise includes pixel circuits, buffer\ncircuits and column circuits. In previous works [1], [11]–[14],\nanalysis of temporal noise mainly focus on pixel and buffer\ncircuits, however the impact of column-parallel ADC is not\nconcerned. Noise from each source in image sensor and the\ntotal noise will be analyzed in the following. As the temporal\nnoise is much smaller than signal, small signal circuit is used\nin the analysis.\nThe ﬁnal output with DCMS is\nL−1(cid:6)\n[ci (M + i )]\ni=0\nDO = DR − DS = (VR − VS)\nVR E F L!\nL−1(cid:6)\n[ci (M + i )]\n(cid:7)\n(cid:8)\n(I pd + Id )T (cid:2)\nint\nCint\ni=0\n=\n+ (cid:2)VT N\n(4)\nVR E F L!\nA. Noise of Pixel\nwhere (cid:2)VT N is the difference of source follower’s threshold\nvoltage between reset and signal sampling due to body effect.\nThe reset operation of pixel introduces thermal noise, which\nnoise power with reset switch of PMOS is well known as\n= kT\nCint\nIII. FPN ANALYSIS OF DCMS\nV 2\nn,rst\n(9)\nThere are three types of noise that degrade the quality of\nimage sensor. The ﬁrst one is FPN caused by spatial non-\nuniformity, the second one is temporal noise due to photo\ndetector and circuits in image sensor, and the third one comes\nfrom substrate and supply voltage ﬂuctuations. Total random\nnoise is composed of the last two types of noise. The last type\nnoise is not discussed in the following analysis.\nwhere k is the Boltzmann constant and T is the absolute\ntemperature [12]. Cint is the integration capacitance given by\nCint = C pd + (1 − AS F )Cgs, S F\n(10)\nwhere C pd is the capacitance of photo detector, Cgs, S F is\nthe gate-source capacitance of source follower, and AS F is the\nvoltage gain of source follower as\nFPN comes from the mismatch of devices and process\nvariation in space. Supposing that all the sources of spatial\nnon-uniformity are uncorrelated, pixel FPN of signal sampling\nwith normal operation can be derived from (3) as\n∂ VS\n∂ VG\ngm,S F\ngm,S F + gmb,S F\n= 1\nAS F =\n=\n(11)\n1 + η\nwhere gm,S F is the transconductance of source follower,\ngmb,S F is the transconductance due to body effect, and\nη = gmb,S F /gm,S F for source follower in saturation.\nσ 2\n= σ 2\nI pd\n+ σ 2\nId\n+ σ 2\n+ σ 2\n+ σ 2\n+ σ 2\n(5)\npi x\nCint\nVT N\nWS F\nL S F\nwhere variations of photo current, dark current and integration\ncapacitance lead to gain FPN, while non-uniformity from\nthreshold voltage and dimension of source follower contribute\nto offset FPN.\nReset noise at column bus becomes\nkT\nCint (1 + η)2\n= A2\n=\nV 2\nn,R ST\nS F V 2\n(12)\nn,rst\nPhoto current I pd and dark current Id of photodiode intro-\nSimilarly, column FPN due to non-uniformity of column\nduce shot noise with the following PSD\nSI,shot = q(I ph + Id )\nparallel circuits can be derived as\nL−1(cid:9)\n(13)\nσ 2\ncol\n= σ 2\nIB\nσ 2\nCi\n+ σ 2\n+\n(6)\nVO S\nwhere q is the charge of electron. After integration with\ntime Tint , the noise voltage at column bus is\ni=0\n(cid:10)\nwhere variations of ADC gain results in gain FPN, while offset\nfrom bias current of source follower and ADC give rise to\noffset FPN.\ndt = q(I pd + Id )Tint\n(1 + η)2\nC 2\nint\nTint\nSI,shot\nC 2\nint\n= A2\nS F\nV 2\n(14)\nn,shot\n0\nAccording to (4), items not related to signal are cancelled\nby DCMS, and the consequent pixel FPN and column FPN\nare shown as follows, respectively.\nB. Noise of Buffer\nWhen the pixel is selected to read out, its source follower\nand the current bias transistor contribute thermal noise with the\nfollowing PSD [15], where the noise of switching transistor is\nignored.\n+ σ (cid:2)\nσ 2\n= σ 2\nI pd\nL−1(cid:9)\n+ σ 2\nId\n+ σ 2\n2\n(7)\npi x,DC M S\nV T N\nCint\nσ 2\nσ 2\nCi\n=\n(8)\ncol,DC M S\nSI = 4kT γ gm\n(15)\nwhere γ is the excess noise factor given by 2/3, and gm is the\ntransconductance of source follower or current bias transistor.\nSmall signal model for noise analysis of buffer is shown\nin Fig. 4. The resistance of current bias transistor\nis\nRB=1/gds,B. The transconductance from source voltage of\nsource follower to its drain current is\ni=0\nMost offset FPN is eliminated by DCMS except residue\nvariation of threshold voltage due to body effect. However\ngain FPN is not affected by DCMS or other double sampling\ntechniques, which can be reduced by more complicated cal-\nibration technology [9], [10]. Compared with analog CDS,\nCMS or DDS, DCMS not only eliminates offset FPN from\npixel circuits, but also cancels the spatial variation of column\nreadout circuits including ADCs. Thus considerable improve-\nment of FPN is expected with DCMS.\n∂ ID S\n∂ VS\nC pd\nC pd + Cgs, S F\nG S F =\n= gm,S F\n(16)\nThis article has been accepted for inclusion in a future issue of this journal. Content is final as presented, with the exception of pagination.\n4\nIEEE TRANSACTIONS ON CIRCUITS AND SYSTEMS–I: REGULAR PAPERS\nFig. 4. Small signal model for noise analysis of source follower and current\nbias transistor.\nFig. 6.\n(b) integration phase.\nNoise analysis model of integrator in (a) sampling phase and\nIn sampling phase (P1 = 1, P2 = 0), the switched-capacitor\ncircuits introduce kT/C noise. Since the noise is aliased to the\nband from 0 to Nyquist frequency, the noise PSD is given by\nSV ,S W ≈ 2kT\nCS1 fs\n(21)\nwhere CS1 is the sampling capacitance of the ﬁrst integrator.\nIn integration phase (P1 =0, P2 =1), both switches and\nampliﬁer contribute noise. Foldover of ampliﬁer’s thermal\nnoise should be considered in sampling system, and this effect\ncan be approximated by f Bn/( fs /2)\n[16], where f Bn is the\nequivalent noise bandwidth as\nFig. 5.\nIntegrator circuit of sigma-delta modulator.\nThen the equivalent resistance of source follower is given by\n1\ngmb,S F + G S F\n1\nαgm,Y S F\nRS F =\n=\n(17)\nπ\nG BWA1 = gm,A1\n4C P2\nf Bn =\n(22)\n2\nwhere α is the coefﬁcient deﬁned as\nC pd\nC pd + Cgs, S F\nwhere GBWA1 is the gain-bandwidth product of ampliﬁer, and\ngm,A1 is the transconductance of input transistor. C P2 is the\ncompensation capacitance for two-stage ampliﬁer, while it is\nthe output capacitance of ampliﬁer for one-stage ampliﬁer as\nα = η +\n(18)\nCapacitance of column bus Ccol forms low-pass ﬁlter with\nRS F and RB, and the noise transfer function is\nC P2 = CS1CI 1\nCS1 + CI 1\nwhere CI 1 and CL1 are integration capacitance and load\ncapacitance of the ﬁrst integrator.\n+ CL1\n(23)\n1\n1+ j 2π f Ccol\nαgm,S F+gds,B\n1\n1+ j 2π f Ccol (RS F //RB )\n=\nHBU F( f ) =\n(19)\nInput referred noise of ampliﬁer is related to its speciﬁc\ntopology, which can be derived with small signal model. With\nno loss of generality, we suppose that the thermal noise of\nampliﬁer is dominated by its input transistor, then the noise\nPSD of ampliﬁer is\nNow thermal noise power of buffer can be derived as\n(cid:10) ∞\n(cid:11)\n(cid:12)\nSI,S F R2\nS F\n+ SI,B R2\nB\n(cid:13)\n|HBU F( f )|2d f\n(cid:14)\n=\nV 2\nn,BU F\n0\n= kT γ (αgm,S F +gds,B)\nCcol\n1\nα2gm,S F\n+ gm,B\ng2\nds,B\nSV ,A = 4kT γ\ngm,A1\n= 2kT γ\nfs C P2\nK f\n(W L)A1\n1\nf\n2 f Bn\nfs\n1\nf\n(20)\n+\nC 2\nox\nK f\n(W L)A1\nis thermal noise, and the\nin which the ﬁrst component\nrest\nthe ﬂicker noise parameter\nwith 10−31 F2V2/cm2, W and L are effective width and length\nof transistor, respectively.\n+\n(24)\nC 2\nox\nC. Noise of Column-parallel ADC\nIn the proposed architecture, column readout path only\nhas sigma-delta ADC,\nthus there is no additional column\ncircuit adding readout noise. Thermal noise and 1/f noise from\nintegrators of sigma-delta modulator, as well as quantization\nerror contribute the noise of ADC.\nnoise. K f\nis 1/ f\nis\nThe noise of sigma-delta modulator is derived as\n(cid:10)\nEach integrator in sigma-delta modulator contributes noise\nto the total output noise, but we only consider the ﬁrst\nintegrator’s inﬂuence here because the noise from subsequent\nintegrators is attenuated by high pass response. The integrator\nis implemented by switched capacitor and ampliﬁer as shown\nin Fig. 5, which model for noise analysis is shown in Fig. 6.\nf B\n=\n(2SV ,S W + SV ,A)d f\n(cid:15)\nγ\nV 2\nn,M O D\n(cid:16)\n0\n= 2kT\nK f\n(W L)A1\n2\nCS1\nf B\nfs\n+\n+\nln f B\nC 2\nox\nC P2\n(25)\nThis article has been accepted for inclusion in a future issue of this journal. Content is final as presented, with the exception of pagination.\nCHEN et al.: LOW-NOISE CIS WITH DCMS\n5\nwhere 1/ f noise is integrated from 1 Hz instead of 0. Note that\noversampling ratio is M = f s/(2 f B), and scanning frequency\nof row ﬁts f0 = 2 f B , then the noise power becomes\n|||||||||\n|||||||||\n|||||||||\n|||||||||\n|||||||||\n|||||||||\n|||||||||\n|||||||||\n|||||||||\n|||||||||\n|||||||||(cid:15)\n(cid:16)\n(cid:16)\n(cid:15)\nγ\nK f\n(W L)A1\n2\nCS1\nf0\n2\n(M) = kT\nM\n+\n+\nV 2\nln\nn,M O D\nC 2\nox\nC P2\n(26)\nThermal noise of modulator is suppressed by M, while 1/ f\nnoise cannot be reduced by oversampling as it is low frequency\nnoise. It is clear that large sampling capacitance is desirable\nfor low noise of modulator, whereas large capacitance will\ngive rise to reduction of gain-bandwidth product and increase\nof power dissipation.\nTo reduce total noise of image sensor, 1/ f noise of ADC\nshould be minimized. With the parameters will be given\nin Part F, thermal noise of modulator is about 18 μV with\nM = 250, while 1/ f noise is up to 54 μV for input transistor\nwith minimum dimension in 0.35-μm process. Transistor with\nlarge dimension is a simple way to reduce 1/ f noise. For\nexample, if area of input transistor becomes 600 times of\nthe minimum one, 1/ f noise would decrease to 2 μV. It is\na practical solution in this design because of the relative large\nwidth of ADC (32 μm), whereas it is not available for small\npixel pitch, such as 1 or 2-μm pitch for high resolution imager.\nFor ADC with smaller width, further techniques are required\nto minimize its 1/ f noise. Autozero has been implemented\nin 12-bit sigma-delta ADC with 0.13-μm process to reduce\n1/ f noise and offset, by which image sensor with 2.25μm\npixel pitch achieves temporal noise of 2.4 e−\nrms [6]. Chopper\nstabilization is another effective way by modulation rather\nthan sampling, which has been successfully utilized in [17]\nfor 15-bit incremental sigma-delta ADC.\nFig. 7.\norder.\nEstimated quantization noise for sigma-delta ADC with different\nnoise in ﬁrst-order modulator due to its weak noise shaping,\nwhile oversampling ratio can be reduced signiﬁcantly for\nsecond-order or higher order modulator with enhanced noise\nshaping.\nD. Thermal Noise with DCMS\nThermal noise of ADC and its input noise including shot\nnoise and thermal noise of buffer are suppressed by the\nmultiple sampling and average of sigma-delta ADC, and the\noutput noise is inﬂuenced by impulse response of decimation\nﬁlter as\n= V 2\nn,in Hdec(L)\nV 2\n(30)\nn,out\nThe cascaded digital integrators are used as decimation ﬁlter\nof incremental sigma-delta ADC for the reason of power and\narea, which impulse response of Lt h-order ﬁler is\nQuantization noise is caused by the quantization error\nas [18]\n(cid:16)\n2\n(cid:15)\n(cid:2)2\nVR E F\n2N\n= 1\n12 fs\nM(cid:9)\nSV ,Q =\n(27)\nw2\ni\nHdec(L) =\n(L)\n12 fs\n(31)\ni=1\nwhere (cid:2) is the LSB of ADC determined by the reference\nvoltage (VR E F ) and resolution (N).\nwhere wi\n(L) is the weight coefﬁcients of the Lth-order\ndecimation ﬁlter for the ith cycle. The weight coefﬁcients are\n1/M for the ﬁrst-order ﬁlter, while they are cycle dependent\nfor higher order ﬁlters [19]. wi of Lth-order decimation ﬁlter\nis found by\nThe noise transfer function of Lt h-order modulator with\nsingle bit quantization is\n(cid:15)\n(cid:16)\n(cid:17)\n(cid:17)\n(cid:17)\nL\nj 2π f\nfs\n−1)L\n≈\nN T F(z) = (1 − z\n(28)\nz= j 2π f / fs\nL−1(cid:6)\n(M + j − i )\nL\nThe quantization noise power is derived as\nj =1\nL−1(cid:6)\n(cid:10)\nwi (L) =\n(32)\nf B\nSV ,Q |N T F( f )|2d f\n(M, L) =\nV 2\nn,Q\n(M + j )\n− f B\n(cid:15)\n(cid:16)\n2\nj =0\nπ 2L\n(2L + 1)M 2L+1\nVre f\n2N\n≈ 1\n12\n(29)\nThe corresponding impulse response can be derived by (31)\nand (32) as\nThe calculated quantization noise for ﬁrst to fourth-order\nmodulators with different oversampling ratio are shown\nin Fig. 7. Compared to thermal noise of integrator only attenu-\nated by oversampling, quantization noise is suppressed further\nmore by noise shaping, thus high resolution can be achieved\nwith high order modulation or large oversampling ratio. Large\noversampling ratio (over 500) is needed for low quantization\nL2\n(2L − 1)M\nHdec(L) ≈\n(33)\nThus Hdec of ﬁrst to fourth-order decimation ﬁlters are 1/M,\n4/(3M), 9/(5M) and 16/(7M), respectively. Note that the low\nfrequency noise, such as 1/f noise, will not be inﬂuenced by\nabove effect.\nThis article has been accepted for inclusion in a future issue of this journal. Content is final as presented, with the exception of pagination.\n6\nIEEE TRANSACTIONS ON CIRCUITS AND SYSTEMS–I: REGULAR PAPERS\nThe reset noise in samples of reset and signal with DCMS\nare fully correlated, thus they can be canceled. However other\nthermal noise power excepting shot noise will double as they\nhave no correlation. The resulted output thermal noise power\nwith DCMS is\n||||\n||||\n||||\n||||\n||||\n||||\n||||\n||||= 2V 2\nn,in Hdec(L)\nV 2\nn,out\n(34)\nE. 1/f Noise With DCMS\n1/ f noise from ADC can be ignored by techniques men-\ntioned above, whereas the component from pixel buffer should\nbe taken into account even with DCMS. The analysis of 1/ f\nnoise is more complex as it is not fully correlated in different\nsamples of DCMS.\nFig. 8. Normalized 1/f noise power with CMS.\n1/ f noise PSD of transistor is given by\nSI f = K f g2\nm\nC 2\nox W L\n1\nf\narray at least for 3T pixel with the proposed DCMS. M = 1 is\nthe case of CDS, and for M → ∞, the noise power becomes\n(35)\n(cid:10) ∞\nand 1/ f noise PSD of pixel buffer is\n4 sin2(x) sin2((x Nr )\nx 3\n= N f [(Nr − 1)2 ln(Nr − 1) − 2(Nr )2 ln(Nr )\n(∞) = N f\nV 2\nn f,BU F\n(cid:12)\n(cid:11)\nd x\nSI f,S F R2\nS F\n(cid:13)\n+ SI f,B R2\nB\nSV f =\n0\n(cid:14)\ng2\nm,B\nWB L B\n= K f\n2C 2\nox\n1\nα2WS F L S F\n1\nf\n+ (Nr + 1)2 ln(Nr + 1)]\n(41)\n+\n(36)\ng2\nds,B\nTo evaluate the impact of delay time between samples of\nreset and signal, normalized 1/ f noise power by numerical\ncalculation from (39) is shown in Fig. 8, in which ωcTs = 6.\n1/ f noise increases considerably with longer delay time, thus\nminimum noise is obtained with Nr = 1, corresponding to 4T\npixel. Effect of oversampling ratio M is also evaluated, which\ndoes not help much for the reduction of 1/ f noise when Nr\nis large, whereas 70% of 1/ f noise power can be reduced\nby CMS compared with CDS for Nr = 1. It is found that\nwhen M ≥ 50, simple calculation with (41) is adequate to\npredict 1/ f noise power instead of (39), which is not related\nto cut-off frequency (ωc) and sampling period (Ts). Nr is 600\nin this design, thus normalized 1/ f noise power is 15.6 with\nDCMS. Obviously, 1/ f noise is the main limitation of 3T\npixel to achieve lower noise even with the proposed DCMS,\ntherefore relative large pixel pitch is preferred to compensate\nthe degradation of 1/ f noise performance in 3T pixel.\nAccording to Fig. 3, voltage difference of reset sampling\nand signal sampling is\n(cid:4)\n(cid:5)\nM−1(cid:9)\nM−1(cid:9)\n(cid:2)VS = 1\nM\nVS(i Ts) −\nVS(i Ts − Tint )\n(37)\ni=0\ni=0\nwhere Ts is the sampling period of ADC (Ts = 1/ fs), M is\noversampling ratio, and Tint is the delay between samples of\nreset and signal. Considering Tint = Nr MTs , noise transfer\nfunction of CMS can be derived according to [11] as\n|HC M S(x)|2 = 4 sin2(x) sin2(x Nr )\n(38)\nM 2 sin2( x\nM\n)\nwhere x= ωMTs/2. Now output 1/ f noise power is obtained\nas\n(cid:10) ∞\n|HC M S(x)|2\n1 + ( ω\nωc\n(M) =\nV 2\nn f,BU F\nSV f\n(cid:10) ∞\n)2 d x\n4 sin2(x) sin2(x Nr )\n(cid:18)\n)2\nF. Total Noise\n0\nN f\nM 2\nThe total output noise power is given by\n⎤\n(cid:19) d x\n=\n(39)\n⎡\n1 + ( x\nM xc\nx sin2( x\nM\n)\n0\n(cid:10) ∞\nSi ( f )|Hi ( f )|2(cid:9)\n⎣\n⎦d f\n=\nV 2\n(42)\nn,out\nwhere xc = ωcTs/2, and ωc is the cut-off angular frequency.\nN f\n0\ni\nis the relative magnitude of 1/ f noise power as\n(cid:14)\nwhere Si ( f ) is PSD of the ith noise source, andHi( f ) is noise\ntransfer function from the ith source to output. It’s assumed\nthat the noise from different sources are un-correlated, thus the\ntotal output noise power can be calculated by the summation\nof noise power from all sources as\n(cid:24)(cid:10) ∞\n(cid:13)\ng2\nm,B\ng2\nds,B WB L B\nN f = K f\n2C 2\nox\n1\nα2WS F L S F\n+\n(40)\nis\nEquation (39)\nthe general expression of 1/ f noise\npower\nfrom pixel buffer with CMS, being valid for\nboth 3T and 4T pixels. Nr = 1 corresponds to CMS\nwith 4T pixel, while Nr must be equal to row number of pixel\n(cid:25)\n(cid:18)\n(cid:19)\n(cid:9)\n(cid:9)\nSi ( f ) |Hi( f )|2\n=\n=\nV 2\nV 2\nn,i\n(43)\nd f\nn,out\n0\ni\ni\nThis article has been accepted for inclusion in a future issue of this journal. Content is final as presented, with the exception of pagination.\nCHEN et al.: LOW-NOISE CIS WITH DCMS\n7\n|||||||\n|||||||\n|||||||\n||||||||||||||||\n|None|||None|None|None|None|None|Fig. 10. Resolution of ADC with different order and oversampling ratio.\nFig. 9. Estimated noise voltage from different sources with multiple sampling\nfor ﬁrst-order sigma-delta ADC.\nthe immunity to non-idealities of analog circuits [19]. Thus we\nchoose it as column-parallel ADC for DCMS. Besides output\nnoise, power consumption and area must be also considered in\nthe design of ADC because column-parallel ADC array usually\ndominates the total power of image sensor, while its width is\nlimited by the pixel pitch.\nFor simplicity, shot noise in reset sampling is ignored since\nits integration time is as short as 1/600 of signal sampling\nin this design. According to previous discussion, 1/ f noise\nfrom sigma-delta modulator is also neglected, and the resulted\noutput noise power with DCMS is\n(cid:11)\n(cid:12)\n= 2Hdec(L)\n+V 2\n(1)+ M V 2\n(M, L)\nV 2\nn,out\nV 2\nn,BU F\nn,M O D\nn,Q\nA. Order of Modulation\n+ Hdec(L)V 2\n+V 2\n(∞)\n(44)\nTrade-off of oversampling ratio, frame rate, output noise,\nstability, power and area should be taken into account for the\norder of sigma-delta ADC.\nn,S H OT\nn f,BU F\nin which 1/ f noise of buffer is predicted with equation (41)\nas oversampling ratio of sigma-delta ADC is over 50 for gray\nscale of vision with 10 bits at least.\nAssuming that all the integrators in modulator are with unity\ngain, the resolution of Lth-order incremental sigma-delta ADC\ncan be found by\nThe conversion gain is\n(cid:5)\n(cid:4)\nC G = q AS F\nCint\nq\n(1 + η)Cint\nL−1(cid:3)\n=\n(45)\n1\nL!\nN = log2\n(M + i )\n(47)\ni=0\nThe input referred noise electron can be obtained by output\nnoise voltage over C G as following\n(cid:26)\nThe resolution is determined by order of modulation L\nand oversampling ratio M. As shown in Fig. 10, large M\nis preferred to achieve low noise, at\nthe cost of reduced\nbandwidth and frame rate. The image sensor needs at least\n10-bit output for the gray scale of vision, thus ADC with\nﬁrst-order fails to effectively trade-off between resolution and\nframe rate. High-order modulation should be considered.\n(cid:26)\nV 2\n(1 + η)Cint\nq\nn,out\n=\nen =\nV 2\nn,out\n(46)\nC G\nThe estimated noise voltage from each source with mul-\ntiple sampling of second-order sigma-delta ADC are shown\nin Fig. 9, as well as the total output noise of DCMS. The main\nparameters are Cint = 4 fF, Ccol = 5.37 pF, gm,S F =115.5 μS,\ngm,I B = 105.5 μS, Id + I pd = 4.5 fA, Cs1 = 200 fF,\nTint = 50 ms. The resulted conversion gain is 32 μV/e-.\nObviously all the thermal noise are reduced effectively by\nmultiple sampling, while 1/f noise from buffer circuits cannot\nbe suppressed by this way. Shot noise is proportional to photo\ncurrent, and it will be less than buffer’s noise if photo current\nis smaller than 2 fA with above design parameters. Decrease\nrate of total noise will be lower in dark due to lack of shot\nnoise. Noise contribution of ADC can be reduced to a low level\nat the cost of increased power and area according to (26).\nThe input referred noise with DCMS for different orders\nof decimation ﬁler (cascaded digital integrators) are estimated\nin Fig. 11. For reasons of power and area, decimation ﬁlter\nis designed with same order as modulator [19]. Compared\nwith second-order ﬁlter, the noise increases by 40% and 80%\nfor third and fourth-order, respectively. This is caused by\nthe increased impulse response with high-order decimation\nﬁlter, as shown in (33). In addition, more power and area are\ninevitable with increased integrators for higher-order ADC.\nStability is another factor of sigma-delta ADC design, which\nis degraded for higher-order modulation. For stable operation,\nthe maximum input range of a second-order modulator is\naround 90% of reference voltage, while it is less than 75% in\nthird-order one. The reduced input range would limit dynamic\nrange of image sensor if third or higher-order modulator is\nused.\nV. ADC DESIGN\nIncremental sigma-delta ADC is very attractive in low noise\napplication for its oversampling and noise shaping, as well as\nThis article has been accepted for inclusion in a future issue of this journal. Content is final as presented, with the exception of pagination.\n8\nIEEE TRANSACTIONS ON CIRCUITS AND SYSTEMS–I: REGULAR PAPERS\n||||None||||\n||||None||||\n||||None||||\n||||None||||\n||||None||||\n||||||||\n|None||None|None|None||None|||\n||Fig. 13. Schematic of current mirror ampliﬁer.\nFig. 11. Estimated input referred noise for different order sigma-delta ADC.\nDigital MUX,\n™- Sigma-Delta ADC =\n\nPixel Array\n(800 x 600)\n\n|||Fig. 14. Chip micrograph of the image sensor.\nFig. 12. Schematic of incremental sigma-delta ADC and timing diagram.\nsimple ripple counter with 8 bits for M ≤ 255. The second\nintegrator is realized by 16-bit accumulator for 15-bit ADC\nresolution with 1-bit redundancy, which consists of adders and\nregisters.\nBased on above discussion, second-order sigma-delta ADC\nis a good choice for the trade-off of noise, stability, power and\narea. As far as frame rate is concerned, too large oversampling\nratio is not practical, therefore M ≤ 300 is preferred in the\ndesign.\nThe ﬁrst ampliﬁer in modulator is critical as its noise cannot\nbe suppressed by noise shaping, thus it usually dominates\nthe main power consumption of modulator. Inverter has been\nused as ampliﬁer in sigma-delta ADC for low power, whereas\nspecial techniques are required to compensate its poor PSRR\nand voltage offset [6]. For the same gain-bandwidth product\nand over drive voltage, current mirror ampliﬁer is more power\nefﬁcient than two-stage ampliﬁer since no power is wasted in\ndriving the compensation capacitance [20]. Therefore current\nmirror ampliﬁer is used in this design, which schematic is\nshown in Fig. 13. The thermal noise of current mirror ampliﬁer\nis given by\nB. Circuits Design\nSchematic of second-order incremental sigma-delta ADC\nis illustrated in Fig. 12. Sigma-delta modulator with single\nloop and single bit is preferred for efﬁciency of power and\narea. To be compatible with pixel output, single-end input\nis used rather than differential conﬁguration. The maximum\noversampling ratio is 255 in this design for 15-bit resolution.\nin modulator are realized with switched-\ncapacitor. They are reset at the beginning of each conversion\nperiod, then M cycles are run for one conversion. To avoid\nthe signal-dependent charge injection, non-overlapping clocks\nwith delayed falling edges are used in the integrators. All the\nclocks are supplied by the clock generator.\nFor incremental sigma-delta ADC,\nIntegrators\n(cid:15)\n1 + gm3\ngm1\n(cid:16)\n+ gm5 + gm7\ngm1\nSV ,A = 4kT γ\ngm1\n2 f Bn\nfs\n(48)\nwhich will replace (24) for noise estimation.\nits decimation ﬁlter\ncan be implemented by two cascaded digital integrators for\nsecond-order modulator [19]. The simpliﬁed circuits lead to\nconsiderable reduction of area and power compared with\nﬁlters in normal sigma-delta ADC. As the modulator is 1-bit\nquantization, the ﬁrst digital integrator can be implemented by\nVI. MEASUREMENT RESULTS\nThe prototype chip of proposed image sensor is fabricated\nwith 1P4M 0.35-μm standard CMOS technology. The chip\nmicrograph is shown in Fig. 14, which area is 16.4×13.5 mm2.\nThe pixel array is 800×600 with 16-μm pixel pitch, which\nThis article has been accepted for inclusion in a future issue of this journal. Content is final as presented, with the exception of pagination.\nCHEN et al.: LOW-NOISE CIS WITH DCMS\n9\n|||||\n|||||\n|||||||||Fig. 15. Measured output code of image sensor versus light irradiance.\nFig. 17. Measured averaged column FPN (a) without DCMS and (b) with\nDCMS.\nFig. 16. Measured DNL and INL of the image sensor.\nFig. 18.\noversampling ratio.\nMeasured and estimated input referred noise with different\nphoto detector is implemented by Nwell/Psub diode rather than\npinned photodiode. The output data are transmitted by two\nLVDS channels on top and down sides of pixel array.\nlinear input range of second-order sigma-delta ADC is less\nthan 90% of its reference voltage, thus the linearity of image\nsensor at low light level is limited by ADC. The integral\nnonlinearity (INL) is within +0.5/−3 LSB as shown in Fig. 16,\ncorresponding to 0.02% nonlinearity.\nOne column-parallel ADC occupies 32×750 μm2. Its sam-\npling frequency is up to 7.8 MHz for maximum frame rate\nof 50 fps, and the power consumption of one ADC is 122 μW.\nFig. 15 shows the measured output code of image sen-\nsor with DCMS versus the light\nirradiance varying from\n0.016 mW/m2 to 210 mW/m2, with oversampling ratio of 255.\nThe maximum non-saturated output code is 14890 LSB,\ncorresponding to full well capacity of 59 ke−. Based on the\ncurve in Fig. 15, non-linearity of the image sensor is shown\nin Fig. 16, which contains the non-linearity from integration-\nnode capacitance,\nsource follower of pixel and ADC.\nAs illustrated in Fig. 16, the differential nonlinearity (DNL)\nof the proposed image sensor is within +0.8/−0.4 LSB.\nWhen irradiance is between 0.1∼10 mW/m2, the DNL is\nwithin +0.13/−0.09 LSB, while the linearity will degrade for\nirradiance out of this range. The integration capacitance mainly\ncomes from the junction capacitance of MOSFET, thus it\nchanges obviously when the MOSFET leaves strong inversion\nregion with low gate-source voltage, leading to worse linearity\nunder high illuminance. On the other hand, the maximum\nThe measured averaged column FPN without and with\nDCMS at dark condition are shown in Fig. 17. The averaged\ncolumn FPN is the averaged code of each column minus the\nmean value of all pixels, then over the maximum output code.\nThe measured column FPN (rms) without DCMS is 0.85%,\nwhile it reduces to 0.009% with DCMS. The pixel FPN (rms)\nat dark condition are also measured, which is suppressed from\n1.34% to 0.11% with DCMS. Thus the spatial uniformity is\nimproved signiﬁcantly by DCMS.\nThe temporal noise is measured for different oversampling\nratio M with integration time of 60 ms. As shown in Fig. 18,\nthe input referred noise with DDSM is measured at dark\ncondition, and the estimated results from section IV are also\ngiven. The reduction of measured noise is more severe than\nestimated for small oversampling ratio, which is due to that\nthe noise coupled from power supply, reference voltage and\nThis article has been accepted for inclusion in a future issue of this journal. Content is final as presented, with the exception of pagination.\n10\nIEEE TRANSACTIONS ON CIRCUITS AND SYSTEMS–I: REGULAR PAPERS\nTABLE I\nPERFORMANCE COMPARISON WITH PREVIOUS WORK\n|||||||||\n|||||||||\n|||||||||\n|||||||||\n|||||||||I\neas\nes\nREN\n\nother works in the table utilize pinned photodiode (PPD) in\nCMOS image sensor (CIS) process. The proposed image sen-\nsor is measured with oversampling ratio of 255. Image sensor\nwith DCMS achieves both low spatial and temporal noise\neven without 4T pixel and pinned photodiode. The comparison\nshows that DCMS suppresses noise more effectively than\nanalog/digital CDS and DDS without column ampliﬁcation.\nVII. CONCLUSION\nA low noise CMOS image sensor with digital correlated\nmultiple sampling is proposed in this paper. Rather than pinned\nphotodiode in CIS process, Nwell/Psub diode in standard\nCMOS process is used to reduce cost. Very low column FPN\nis achieved by the DCMS operation. Temporal noise of image\nsensor with DCMS is analyzed, in particular the general 1/ f\nnoise expression with CDS/CMS is illustrated. The measured\nlow noise performance conﬁrms the effectiveness of proposed\nDCMS for 3T pixel. Small conversion gain of 3T pixel and\ndegradation of 1/ f noise due to long delay between samples\nin DCMS are main limitations of 3T pixel and the proposed\nDCMS to achieve lower input referred noise. Large pixel pitch\nis helpful to minimize 1/ f noise, whereas it is not feasible for\nhigh resolution imager. Anyway, DCMS supplies a solution for\nlow-noise image sensor even without CIS process and column\nampliﬁcation.\nFig. 19. Sample image with the implemented image sensor at 0.3 lux.\nsubstrate dominate total noise [5]. They are not considered in\nthe analysis of Section IV, which noise power are attenuated\nmore drastically with 1/M 2 by noise shaping in sigma-delta\nADC [21]. When M increases over 180 (according to 14 bits\nfor second-order sigma-delta ADC), the coupled noise are\nattenuated to a low level and temporal noise from circuits\nof image sensor dominate the total random noise, thus good\nagreement between measurement and estimation is exhibited.\nFor 15-bit resolution (M = 255) in this design, the measured\ninput referred noise with DCMS is 3.5 e−\nrms(112 μV).\nFig. 19 shows the sample image with the implemented\nimage sensor at low-light level of 0.3 lux, and the oversam-\npling ratio is 255 at frame rate of 16 fps. To reduce dark\ncurrent, the sample image is obtained by cancellation from\nthe image at dark with same integration time.\nREFERENCES\n[1] N. Kawai and S. Kawahito, “Noise analysis of high-gain, low-noise\ncolumn readout circuits for CMOS image sensors,” IEEE Trans. Electron\nDevices, vol. 51, no. 2, pp. 185–194, Feb. 2004.\n[2] S. Lim et al., “A 240-frames/s 2.1-Mpixel CMOS image sensor with\ncolumn-shared cyclic ADCs,” IEEE J. Solid-State Circuits, vol. 46, no. 9,\npp. 2073–2083, Sep. 2011.\nThe performance comparison with previous works is listed\nin TABLE I. Nwell/Psub diode (NPD) in standard (sd.) CMOS\nprocess is used as photo detector in [8] and this work, while\n[3] Y. Oike and A. El Gamal, “CMOS image sensor with per-column\n(cid:10)(cid:2) ADC and programmable compressed sensing,” IEEE J. Solid-State\nCircuits, vol. 48, no. 1, pp. 318–328, Jan. 2013.\nThis article has been accepted for inclusion in a future issue of this journal. Content is final as presented, with the exception of pagination.\nCHEN et al.: LOW-NOISE CIS WITH DCMS\n11\n[4] Y. Chen, Y. Xu, A. J. Mierop, and A. J. P. Theuwissen, “Column-\nparallel digital correlated multiple sampling for low-noise CMOS image\nsensors,” IEEE Sensors J., vol. 12, no. 4, pp. 793–799, Apr. 2012.\n[5] M.-W. Seo et al., “A low-noise high intrascene dynamic range CMOS\nimage sensor with a 13 to 19b variable-resolution column-parallel\nfolding-integration/cyclic ADC,” IEEE J. Solid-State Circuits, vol. 47,\nno. 1, pp. 272–283, Jan. 2012.\nShengyou Zhong received the M.S. degree in micro-\nelectronics from the Kunming institute of physics,\nin 2014, where he is currently\nKunming, China,\npursuing the Ph.D. degree in microelectronics. His\ncurrent research interests include the design of low\npower high resolution ADC.\n[6] Y. Chae et al., “A 2.1 M pixels, 120 frame/s CMOS image sensor with\ncolumn-parallel (cid:2)(cid:10) ADC architecture,” IEEE J. Solid-State Circuits,\nvol. 46, no. 1, pp. 236–247, Jan. 2011.\n[7] A. El Gamal and H. Eltoukhy, “CMOS image sensors,” IEEE Circuits\nDevices Mag., vol. 21, no. 3, pp. 6–20, May/Jun. 2005.\n[8] K. Murari, R. Etienne-Cummings, N. V. Thakor, and G. Cauwenberghs,\n“A CMOS in-pixel CTIA high-sensitivity ﬂuorescence imager,” IEEE\nTrans. Biomed. Circuits Syst., vol. 5, no. 5, pp. 449–458, Oct. 2011.\n[9] S. Lim and A. E. Gamal, “Gain ﬁxed pattern noise correction via\noptical ﬂow,” IEEE Trans. Circuits Syst. I, Reg. Papers, vol. 51, no. 4,\npp. 779–786, Apr. 2004.\nMei Zou received the B.S. degree from the Nanjing\nUniversity of Science & Technology, Nanjing,\nin 2009, and the M.S. degree from Xiamen\nUniversity, Xiamen,\nin 2012. She is currently\npursuing the Ph.D. degree in optical engineering\nwith the Kunming Institute of Physics, Kunming,\nChina. Her\ninclude\nlow-light-level CMOS image sensor design and\nread out integrated circuit design.\n[10] M. Sakakibara et al., “A high-sensitivity CMOS image sensor with gain-\nadaptive column ampliﬁers,” IEEE J. Solid-State Circuits, vol. 40, no. 5,\npp. 1147–1156, May 2005.\nresearch interests\ncurrent\n[11] S. Kawahito, S. Suh, T. Shirei, S. Itoh, and S. Aoyama, “Noise reduction\neffects of column-parallel correlated multiple sampling and source-\nfollower driving current switching for CMOS image sensors,” in Proc.\nInt. Image Sensor Workshop, 2009, pp. 320–323.\n[12] H. Tian, B. Fowler, and A. El Gamal, “Analysis of temporal noise in\nCMOS photodiode active pixel sensor,” IEEE J. Solid-State Circuits,\nvol. 36, no. 1, pp. 92–101, Jan. 2001.\n[13] J. Cheon and G. Han, “Noise analysis and simulation method for a\nsingle-slope ADC with CDS in a CMOS image sensor,” IEEE Trans.\nCircuits Syst. I: Reg. Papers, vol. 55, no. 10, pp. 2980–2987, Nov. 2008.\n[14] A. Boukhayma, A. Peizerat, and C. Enz, “Temporal readout noise\nanalysis and reduction techniques for low-light CMOS image sensors,”\nIEEE Trans. Electron Devices, vol. 63, no. 1, pp. 72–78, Jan. 2016.\n[15] B. Razavi, Design of Analog CMOS Integrated Circuits: Tata. New York,\nJiqing Zhang received the M.S. degree in design\nof integrated circuits from Xidian University, Xi’an,\nChina, in 2013. He is currently pursuing the Ph.D.\ndegree with the Kunming Institute of Physics,\nKunming, China. His current\nresearch interests\ninclude the design of readout circuit for digital\nimage sensors.\nNY, USA: McGraw-Hill, 2002.\n[16] C. C. Enz and G. C. Temes, “Circuit techniques for reducing the effects\nof op-amp imperfections: Autozeroing, correlated double sampling, and\nchopper stabilization,” Proc. IEEE, vol. 84, no. 11, pp. 1584–1614,\nNov. 1996.\n[17] J. Liang and D. A. Johns, “A frequency-scalable 15-bit incremental ADC\nfor low power sensor applications,” in Proc. IEEE Int. Symp. Circuits\nSyst., Jun. 2010, pp. 2418–2421.\n[18] R. Schreier and G. C. Temes, Understanding Delta-Sigma Data Con-\nverters. Hoboken, NJ, USA: Wiley, 2004.\n[19] J. Markus, J. Silva, and G. C. Temes, “Theory and applications of\nincremental (cid:2)(cid:10) converters,” IEEE Trans. Circuits Syst. I: Reg. Papers,\nvol. 51, no. 4, pp. 678–690, Apr. 2004.\nZhongshun Ji received the B.S. degree from the\nTaiyuan University of Science and Technology,\nin 2006. In 2006, he joined the\nTaiyuan, China,\nKunming Institute of Physics, China. His current\nresearch interests include low power digital circuits\nand digital image processing.\n[20] L. Yao, M. S. J. Steyaert, and W. Sansen, “A 1-V 140-μW 88-dB audio\nsigma-delta modulator in 90-nm CMOS,” IEEE J. Solid-State Circuits,\nvol. 39, no. 11, pp. 1809–1818, Nov. 2004.\n[21] Y. Chae and G. Han, “Low voltage, low power, inverter-based switched-\ncapacitor delta-sigma modulator,” IEEE J. Solid-State Circuits, vol. 44,\nno. 2, pp. 458–472, Feb. 2009.\n[22] Y.-R. Jo, S.-K. Hong, and O.-K. Kwon, “A multi-bit incremental ADC\nbased on successive approximation for low noise and high resolu-\ntion column-parallel readout circuits,” IEEE Trans. Circuits Syst. I,\nReg. Papers, vol. 62, no. 9, pp. 2156–2166, Sep. 2015.\nLibin Yao (M’05–SM’11) received the B.Sc. degree\nfrom the University of Electronic Science and Tech-\nnology of China in 1989, the M.Eng. degree from\nthe Nanjing University of Science and Technology\nin 2000, and the Ph.D. degree in electronics from\nKatholieke Universiteit Leuven, Belgium.\nFrom 1989 to 2000, he was a Researcher with\nthe Kunming Institute of Physics, China. From 2000\nto 2005, he was a Research Assistant with the\nMICAS Laboratory, Katholieke Universiteit Leuven,\nBelgium. From 2006 to 2010, he was an Assistant\nProfessor with t the National University of Singapore. He is currently the Lab\nDirector of the Kunming Institute of Physics. His research interests include\nhigh-performance analog and mixed-signal circuit design in deep-submicron\nCMOS technologies.\nNan Chen received the B.S. and Ph.D. degrees from\nthe University of Science and Technology of China,\nHefei, China, in 2008 and 2013, respectively.\nSince 2013, he has been with the Kunming\nInstitute\nPhysics, Kunming, China. His\nresearch interests include low power synthesizer,\nA/D converter, and CMOS image sensor. He was\na recipient of\nthe Best Student Paper Award\nat\nthe 2011 IEEE International Symposium on\nRadio-Frequency Integration Technology.\nof\nDr. Yao was an Associate Editor of\nthe IEEE TRANSACTIONS ON\nCIRCUITS AND SYSTEM II from 2012 to 2013.\n']",
A 1.5-V 550-uW 176x144 Autonomous CMOS Active Pixel Image Sensor.pdf,"['96\nIEEE TRANSACTIONS ON ELECTRON DEVICES, VOL. 50, NO. 1, JANUARY 2003\nA 1.5-V 550-(cid:22)W 176\n144 Autonomous\nCMOS Active Pixel Image Sensor\nKwang-Bo Cho, Member, IEEE, Alexander I. Krymski, Member, IEEE, and Eric R. Fossum, Fellow, IEEE\nII. SENSOR CHIP ARCHITECTURE\nAbstract—This paper addresses the development of a mi-\nimage sensor that\ncropower 176\ndissipates one to two orders of magnitude less power than current\nstate-of-the-art CMOS image sensors. The chip operates from a\n1.5-V voltage source and the power consumption measured for the\nchip running from an internal 25.2-MHz clock yielding 30 frames\nper second is about 550 W. This amount enables the sensor to\nrun from a watch battery. In order to achieve design goals, a\nlow-power sensor design methodology is applied throughout the\ndesign process from system-level to process-level, while realizing\nthe performance to satisfy the design specification. As an au-\ntonomous sensor, it can be operated with only three pads [GND,\nVDD (1.2–1.7 V), DATAOUT]. The die occupies 4 mm2 of silicon.\n144 CMOS active pixel\nThe image sensor’s block diagram is shown in Fig. 1. The\n144 (V) photodiode ac-\ncore pixel array consists of 176 (H)\ntive pixels [quarter common intermediate format (QCIF)] with\na 5- m pitch. The array of pixels is accessed in the row-wise\nfashion using a shift register and row driver with a reset boot-\nstrapping circuit. All pixels in the row are read out into column\nanalog readout circuits in parallel. Each of the 176 column-par-\nallel readout circuits performs both sample-and-hold (S/H) and\ndelta double sampling (DDS) functions [4], eliminating pixel\nnoise. The signal\noffset variations and pixel source-follower\nis stored in the charge domain. The global charge-sensitive am-\nplifier at the front end of the analog-to-digital converter (ADC)\nprovides a fixed gain for the column charges being read using the\ncolumn select logic. The amplifier reset and the amplifier signal\nvalues are sent to the 8-b self-calibrating successive approxima-\ntion ADC. The ADC generates the 8-b digital output. The digital\ntiming and control logic block generates the proper sequencing\nof the row address, column address, ADC timing, as well as gen-\nerates the synchronization pulses for the pixel data going off-\nchip. The on-chip clock generator generates an internal clock\nwith on-chip bandgap reference circuitry and power-on-reset\ncircuit for the timing and control logic.\nIndex Terms—Active pixel\nautonomous\nsensor, battery-operated devices, CMOS image sensors, image\nlow-voltage, micropower, on-chip clock,\nsensor,\nsystem-on-a-chip.\nsensor,\nimage\nlow-power,\nI. INTRODUCTION\nL OW-POWER consumption is a fundamental demand for\nbattery-operated devices [1]–[3], such as cellular phones,\nportable digital assistants (PDAs), and wireless security sys-\ntems. Cellular videophones that emerge on the market will uti-\nlize state-of-the-art CMOS image sensors consuming 5–30 mW\nof power. The requirements of the next generation of portable\ndevices to components are expected to be more stringent in\nterms of power and size.\nA. Signal Path From Pixel to ADC\nThis paper presents an image sensor which is a prototype of\na future generation of micropower image sensors that consume\nless than 1 mW of power. This value is one to two orders of\nmagnitude less than the power in current state-of-the-art CMOS\nimage sensors. The chip is designed for 1.2–1.7-V operation,\nsupposedly from one battery, and dissipates 550 W.\nA signal path from the pixel to the ADC is shown in Fig. 2.\nA photodiode pixel is the sensing structure used for this\nmicropower image sensor. Increasing the amplitude of the rst\nthreshold voltage using the bootstrap switch\nsignal as\ncircuit adopted from [5] should increase the pixel reset voltage\nin order to extend the pixel dynamic range.\nVy\nThis paper is organized as follows. Section II describes the\nimage sensor architecture and analog and digital building blocks\nin this micropower CMOS active pixel image sensor. Section III\nsummarizes a low-power sensor design methodology in this re-\nsearch. Section IV addresses the results of the sensor character-\nization and internal on-chip clock generation issues. Finally, the\nconclusions are presented in Section V.\nfor each column’s source-follower is\n1.25 A, permitting charging of the sampling capacitors in\nthe allotted time. The source-followers can then be turned off\n. Once row and sample_in switches are selected,\nby\nthe photogenerated pixel signal value is stored in the column\nclamped to an operational transconductance\ncapacitors\n. After resetting the pixel, the pixel\namplifier input voltage\n, and the difference\nreset value is stored in the capacitor\n.\nbetween pixel reset and signal is stored in the capacitor\n.\nThe overall input capacitance is\nThe charge difference between the pixel reset and signal is\ntransferred to the operational amplifier by turning on the col\nswitch.\nOur biasing\nVY.\nVo\nManuscript received May 14, 2002; revised August 15, 2002. This work was\nsupported in part by the U.S. Defense Advanced Research Projects Agency\n(DARPA) under a Small Business Innovative Research (SBIR) program Con-\ntract DAAH01-96-C-R257. The review of this paper was arranged by Editor A.\nTheuwissen.\nThe authors are with Micron Technology, Inc., Pasadena, CA 91101 USA\neric_fossum@hot-\nakrymski@micron.com;\nacho@micron.com;\n(e-mail:\nmail.com).\nFig. 3 shows the relative timing for row and column opera-\ntion of the sensor. At 30 frames/s, the sensor is clocked from\nDigital Object Identifier 10.1109/TED.2002.806475\n0018-9383/03$17.00 © 2003 IEEE\nCHO et al.: AUTONOMOUS CMOS ACTIVE PIXEL IMAGE SENSOR\n97\nbandgap\nreference\n\nand\nclock\ngenerator\n\nrow driver\n\nrstboost\n\nreset\nboot-\nstrapping\nlogic\n\ndigital timing and control logic dataout\n\nrst#0, row#0\n\nphotodiode\nAPS array\n(176 x 144)\n\nstrobe\nshr, shs\n\nvinen column analog signal chain\n\nsample_in (sample-and-hold) ; amplifier\n\nopamp_rst\n\nselect column driver opamp_en\n\n. i phot\ncolumn shift register<— pnc2 eee\nphe_in (Vin,Vref)\n\nserial digital port\n\nFig. 1. Sensor’s block diagram.\nglobal\namplifier\n\nopamp_rst\n\npixel\n\nVdd\n\nsample_in\nrst\n\nstrobe\n\nopamp_en\n\ncolumn signal chain\n\nADC block\n\nFig. 2. Pixel to ADC signal path.\nB. Operational Transconductance Amplifier\na 25.2-MHz source. The total row time at this frame rate is\n32) clocks]. This period is divided\n231.1\nbetween the time required for column analog operations (192\nclocks) and the ADC conversion time (32 clocks). The analog\nreadout sequence starts with the selection of a pixel row, whose\noutput is sampled onto the column S/H capacitor in parallel.\nEach ADC processing time is the global S/H (16 clocks) and the\nADC conversion (16 clocks). At the full 30-Hz frame rate, the\nADC used in this sensor needs to operate at 0.75 Msamples/s.\n176\ns [(192\nThe major problem in the realization of micropower opera-\ntional amplifiers is obtaining a reasonable speed and an accept-\nable dynamic range. A key factor for power reduction is the\navoidance of any compensation capacitor other than the load\nitself, which is only possible if the major part of the voltage\ngain is achieved at the output node, that is, by using a single-\nstage operational transconductance amplifier (OTA) [6]. The\n98\nIEEE TRANSACTIONS ON ELECTRON DEVICES, VOL. 50, NO. 1, JANUARY 2003\nI Th\niL i i\nrow iV iil\n— ST\nrst it iy\ntt i Ub\nH i ty\nvin_en HH 1th\n_ | tht\nH tit\n+ rT H\nsample_in — 720 clocks ti\n—— H\nopamp_rst ; f i!\nW i\nshr t i\niH rf lir=a\nshs i i\nM Lt\ncol | i\nlee i UE\n\n1 clock 5 clocks\nTABLE I\nSIMULATED PERFORMANCE OF THE LOW-VOLTAGE OTA\nAdc > 40 dB\n\nPM 80°\n\nGBW 10 MHz\n\nSlew Rate 5.7 V/us\n\nThe main ADC conversion uses eight binary-scaled capaci-\ntors to sample the amplifier signal and reset capacitor to store\nthe amplifier reset voltage. These capacitor networks are con-\nnected to the input of the comparator. After saving these signal\nand reset voltages on the top plate of the capacitors, the bottom\nplates are successively connected to\n.\nFig. 3. Relative row and column timing.\nThe comparator output determines whether or not the signal\nside maintains the updated signal in the top plate. During the\nconvergence process, the variable signal is matched to a fixed\n. Not only does this allow the use of\namplifier reset voltage\na limited input swing comparator, but it causes the comparison\nto happen at the same level each time, eliminating the potential\ncomparator offset versus signal dependence.\nVo\nIn the current implementation, the power supply voltage\nVY.\nand PMOS switches\nas the ADC reference voltage\nto connect this voltage are used. Generally ADC reference\nvoltage is provided from off-chip through pad or on-chip\nreference circuit. Because of the 3-pin configuration, on-chip\nADC reference voltage generation is required; however,\ngeneration takes the big portion of total power consumption.\nBecause of that, power supply\nusing the additional capacitor\nsignificant bit) voltage\nis used to create\n. In Fig. 4, LSB (least\nand the ADC reference voltage\nVo\nFig. 4. Low-voltage operational transconductance amplifier.\nVy\ncan be expressed by\nOTA used is shown in Fig. 4. Assuming a ratio\nof the mirror\n–\n, the overall transconductance of the amplifier is\nmV\n(3)\nVy\n(1)\nV (4)\n, behaves essentially as an integrator\nThe circuit, loaded by\nwith a time constant\n,\nwhere\n,\n, and\nV, respectively.\nVy,\n(2)\nD. On-Chip Clock Generator\n.\nwhich is the inverse of the unity gain frequency\nThe three-stage ring oscillator as an on-chip clock generator\nis used as shown in Fig. 6(a). The stable clock power Vclock is\nrequired to stabilize the clock frequency over process, voltage,\nand temperature variations. The bandgap reference is one of\nthe most popular reference voltage generators that achieve the\nrequirement [8]. In Fig. 6(a), the clock power Vclock comes\nfrom on-chip bandgap reference circuitry. The output voltage\nof the conventional bandgap reference is 1.25 V. This\nfixed output voltage of 1.25 V limits the low-voltage operation.\nIn [9], a bandgap reference that can successfully operate with a\nsub-1-V supply is presented. Fig. 6(b) shows the low-voltage\nbandgap reference circuit with the decoupling capacitors\nand\nence circuit becomes\nof the dominant pole depends\n.\nThe very low frequency\n. Also, the slew rate is\ndirectly on the dc gain\nThe key performance parameters of the opamp with a load\nof 4.3 pF are summarized in Table I.\nC. The 8-B Successive Approximation ADC\nThe low-power 8-b successive approximation ADC [7] is\nshown in Fig. 5. The ADC consists of a capacitor bank, a\ncomparator, decision latches, and correction latches.\nThe calibration portion of the ADC serves to eliminate the dy-\nnamic comparator offset, which is typically 30 mV, by sampling\non both input capacitors\nthe same amplifier reset voltage\nand five\nof the comparator. It has one sign capacitor bit\nbinary-scaled capacitor bit cells. This ADC is calibrated at the\nbeginning of the very first frame for compensating the dc offset\nat the input of the comparator.\nVo\n. The output voltage of this low-voltage bandgap refer-\nyy\nCHO et al.: AUTONOMOUS CMOS ACTIVE PIXEL IMAGE SENSOR\n99\nComparator\n\nADC OUTPU Latches | <P\n\n4 Se\n\nConversion Calibration\n\nFig. 5. Low-power 8-b successive approximation ADC.\nof view, a 0.35- m CMOS technology as the preferred design\ntechnology for this research is chosen.\nwhere\nforward voltage difference between on diode\nis the built-in voltage of the diode and\nis the\ndiodes\nand\nwith proportional to the thermal voltage, respectively.\nFor power reduction through circuit/logic design, the re-\nduction of the power supply voltage can be a key element\nthe design\nin low-power CMOS image sensors. However,\nof a low voltage CMOS sensor involves several well-known\nchallenges such as: 1) the reduced dynamic range of pixel;\n2) the low-voltage MOS switch problem; 3) low-voltage opamp\nand ADC design; and 4) low-power internal bias generation.\nThe challenges discussed above are addressed in the following\nway.\nas Vclock can be freely changed\ncan be lowered below 1 V if the ampli-\nfrom\nfier is properly working. Unlike using the native NMOS transis-\ntors [9], the simple differential amplifier is used, therefore the\nminimum supply voltage value is imposed by the differential\npair of the input stage, and is equal to a threshold voltage plus\n. For the 0.35- m CMOS process\ntwo overdrive voltages\nused, this value turns out to be around 1 V.\nTherefore,\nVo\nand\nVo\nVY.\nThe signals rst and rstb are generated by the power-on-reset\ncircuit as shown in Fig. 6(c). A power-on-reset circuit provides\nthe stable generation of a reset signal without being affected\nby the rising characteristic of a power-supply voltage. This\n),\npower-on-reset circuit includes two MOSFETs (\n, and two inverters. In the power-on-reset\na capacitance\nis acted as the resistance with a large threshold\ncircuit,\nis a pull-down switch, and the reset signal is\nvoltage and\ndetermined by the difference of threshold voltages between\nand\nin the first inverter and the RC constant of\nand\n1) The pixel voltage dynamic range is increased by using a\nbootstrapped reset pulse.\n2) The column analog readout circuit is designed so that only\nunipolar MOS switches are required. For instance, the\nS/H switch is of an n-type and is good for sampling pixel\nsignals that are always “low.” While the column select\nswitch is of a p-type, which is good at connecting high\nlevel signals, such as for the reference voltage, etc.\nand\n3) The charge mode readout fixes the readout bus voltage so\nthat the requirements on the amplifier input voltage swing\nare relaxed. On the other hand, an inverting current-mirror\nOTA used in this design yields almost rail-to-rail output\nand a capacitive ADC is selected to avoid some low-\nvoltage design problems that would be faced with dif-\nferent types of ADC such as flash, pipelining, or folding\nconverter.\n.\nIII. LOW-POWER SENSOR DESIGN METHODOLOGY\nLow-power sensor design methodology is considered at all\nlevels—technology, circuit and logic, architecture, algorithm,\nand system integration. Fig. 7 summarizes low-power design\nsteps from process technology to system integration in this\nresearch.\n4) Column readout circuits receive the reference voltage\nfrom the readout opamp, eliminating the need for a\npower consuming reference voltage generator. In this\ncase, the reference voltage is loaded only onto the high\nvoltage source can\nimpedance opamp input, so the\nbe implemented as a high-resistance one.\nFor power reduction through process technology, generally\ndigital circuitry can benefit most from the next-generation tech-\nnology such as area, speed, and power performance [1], [10].\nFrom the scaling laws, the most advanced technology is good\nfor low-power consumption. However, CMOS image sensors\nare more performance sensitive than digital circuitry, thus they\nrequire a stable, well-characterized technology. From this point\nVY\nIn addition, the following measures have been undertaken to\nreduce the sensor power. First, unused blocks such as the pixel\n100\nIEEE TRANSACTIONS ON ELECTRON DEVICES, VOL. 50, NO. 1, JANUARY 2003\nx\n\no\n2\n(S)\n\n(a)\nVdd\n\nVelock\n\nc2\n\nVdd\n\nrstb\n\n(c)\nFig. 6. On-chip clock generator. (a) Three-stage ring oscillator. (b) Low-voltage on-chip bandgap reference circuitry. (c) Power-on-reset circuit.\ncurrent load\nin the column circuit, the opamp in the analog\nsignal chain, and the comparator in the ADC have been cut from\npower for the time they do not operate. Second, the column S/H\ncircuit does not have an active buffer. It was replaced with a\npassive capacitor storage.\nFor power reduction through architectural design, the power\nconsumption can be further reduced by minimizing the chip\nfunction and the number of blocks. Also, we divide the chip\narchitecture partition with selectively enabled blocks. For\nreducing the operation for decoding and execution, the shift\nVY.\nCHO et al.: AUTONOMOUS CMOS ACTIVE PIXEL IMAGE SENSOR\n101\nSystem Integration\n\nAlgorithm\nSelection\n\nCircuit/Logic Design\n\nProcess Technology\n\nSystem-On-a-Chip (SOC) - autonomous image sensor\nOn-chip clock generator\nWide-voltage operation\n\nMinimizing the number of circuit block Complexity - off-chip color processing\nPower management NRZ Data Representation\n\nColumn parallel analog signal chain\n\nShift register array decoding\n\nLow-voltage (1.2V) operation\n\nOptimization - analog signal chain, opamp, successive approximation ADC\nActivity-driven Power-down - clock-gating\n\nCustom timing & control block\n\nClever circuit technique — bootstrapping switch\n\n0.35um CMOS 2P 3M\nFig. 7. Low-power sensor design steps in this research.\nPixel Array\n(176 x 144)\n\nColumn Analog Signal Chain |\n\nTABLE II\nSPECIFICATION AND MEASURED SENSOR PERFORMANCE\nAT A 1.5-V AND 5 FRAMES/s\nTechnology\n\n0.35 um, 2 P, 3 M CMOS\n\nPixel array size\n\n176(H) x 144(V) (QCIF)\n\nPixel size and type\n\n5 wm x 5 um Photodiode APS\n\nPixel fill factor\n\n30 %.\n\nChip size 2mm x 2mm\n\nSensor output 8-bit serial digital\n\nOn-chip ADC 8-bit single successive approximation\nADC DNL/INL 1 LSB/2 LSB\n\nConversion gain (pixel PD-referred) |34 wV/e-\n\nADC conversion gain 3.5 mV/LSB\n\nDark signal\n\n6.97 LSB/sec or 24.4 mV/sec or 718 e-/sec\n\nSaturation (pixel PD-referred)\n\n253.2 LSB or 886.2 mV or 26,065 e-\n\nNoise\n\n0.85 LSB or 3.0 mV or 88 e- r.m.s.\n\nOperating voltage\n\n1.2-3.6V\n\nMaximum frame rate\n\n40 fps\n\nMaximum pixel readout rate\n\n1 Mpix/sec\n\nPower consumption\n\n550 pW at 1.5 V, 30 fps\n\nFig. 8.\nImage sensor chip microphotograph.\nregister array type is chosen. Although window and random\naccess functions are sacrificed, which are not necessary in a\nsmall-format image sensor, shift register array type reduces the\nnumber of global buses.\nPower Supply (V)\nFor power reduction through algorithm selection, the oper-\nation and the number of hardware resources can be minimized\n[11]. On-chip color processing can not be considered, which\ntends to be very compute-intensive and power-hungry. The\nnonreturn-to-zero (NRZ) representations [12] that reduce the\nbandwidth needed to send the pulse-code modulation (PCM)\ncode is chosen.\nFor power reduction through system integration, the overall\nsystem pin requirements by combining functionality into\nsystem-on-a-chip (SOC) can be reduced [13]. By integrating\nthe master clock generator and other ICs such as digital and\nanalog peripherals, the image sensor can be operated with only\nthree pads which are GND, VDD, and DATAOUT. At\nthe\nthat is orders\nsystem level, off-chip buses have capacitance\nFig. 9. Measured power consumption at 30 frames/s from 1.2 to 1.7 V with a\n25.2-MHz on-chip clock.\n102\nIEEE TRANSACTIONS ON ELECTRON DEVICES, VOL. 50, NO. 1, JANUARY 2003\nTABLE III\nESTIMATED CHIP POWER PORTFOLIO WITH 30 FRAMES/S AT A 1.5-V POWER SUPPLY\nMain components Current | Quantity\n(MA) b.\n\nAverage current\n(MA)\n\nPeak current\n\n(WA)\n\nColumn analog signal chain (vIn) | 1.25 176 x (1/50)* | 4.4 220\nGlobal opamp 30 1x (2y 15 30\nADC (comparator) 16 1x (1/4) 4 16\nBiases (VIn + Vref) 16 1 16 16\nPeripheral (row & col logic + rst | 20 1 20 300\nbootstrapping circuit + drivers)\n\nClock generator 75 1 715 200\nTiming and control 170 1 170 6200\nDataout 60 1 60 3200\nTotal Average Current (uA) 364.4\n\nTotal Peak Current (uA) 10182\n\nTotal Average Power (V x I) (uW)\n\n1.5 x 364.4 = 546.6\n\n4 duty cycle factor\n\nCurrent (A)\n\ntem 4\n\n10m 5\n\n8m 4\n\n[pee ; aan RARRRRRRD BERRA BO i  AASARARRARRERRBARRRO ORE\n0 2u au bu bu 10u Tu 140 160 180 20u\nTime (lin) (TIME)\n\n>\\« >|< >\nInitialization column analog operation ADC conversion\n\n(a)\nDATAOUT transition\n\nclock falling edge\n\ndge\n\ning e\n\nclock ris\n\nCurrent (A)\n\nr pe\n\n12.40\n\nT\n\n12.36u\n\nA RARARERSRD MMAASRRRAD CARRR AREAS |\n\n12.44u 12.46u\n\n12.42u\nTime (lin) (TIME)\n\n12.32u 12.34u 12.36u\n\n12.34\n(b)\nFig. 10. Peak current from the chip-level HSPICE simulation at 1.5 V and 30 frames/s with on-chip 25.2-MHz clock. (a) Peak current profile. (b) Zoom in on\nADC conversion.\nof magnitude greater than those found on signal lines internal\nto a chip. Therefore, transitions on these buses result in consid-\nerable system power dissipation. Also, the system can be oper-\nated without a voltage regulator, there will be greater savings,\nbut then a more variable supply voltage must be tolerated. This\nsensor can be operated in a wide voltage range (1.2–3.6 V).\nCHO et al.: AUTONOMOUS CMOS ACTIVE PIXEL IMAGE SENSOR\n103\nCul rrent (A) ; i\n\no4 Ten DORAL RNSEUEEE ———\n7\nif a Latta ARR EEOR\niy past ii earl 1 SLA TMA a\nTH ielgins i if viall I he\n\nCA ae ES\n\nih Mt at a a A a A ma\nHEHE ea IANS A HR ie\n\nA ME a a eae\n\n-2m J RN a i Se an\n\nRea Ta ee\nveld gy a a eee a Ee\n\nCay ey\n\n-20m He —\n; ‘ at 1.7 V power supply\nSa\n0 2u 4u\n\nTime (lin) (TIME)\nFig. 11. Peak current at different power supplies of 1.2, 1.5, and 1.7 V.\nand pads, is shown in Fig. 9 with the internal 25.2-MHz on-chip\nclock (30 frames/s) from a 1.2-1.7-V power supply. At 1.5 V,\nthe measured average power consumption is about 550 W.\nIV. TEST RESULTS\nThe sensor is implemented in a 0.35- m, 2P, 3M 3.3-V\nV. The\nCMOS process with\nmicrograph of the image sensor is shown in Fig. 8. The size of\nthe chip is about 2 mm 2 mm, which includes the pixel array,\nrow/column logic, analog readout, ADC, biases, on-chip clock\ngenerator, timing and control block, and 16 pads including test\npins. This chip is packaged by 28-pin ceramic leadless chip\ncarrier (CLCC).\nV and\nVo\nVo\nThe estimated overall chip power consumption is 546.6 W\nat 1.5 V and 30 frames/s with the internal 25.2-MHz clock as\nshown in Table III. Note that, first, the timing and control block\nconsumes about 1/2 of total average current and 3/5 of total\npeak current. Second, the serial digital output port DATAOUT\nconsumes about 1/3 of total peak current.\nFig. 10 shows less than 8 mA of peak current from the\nchip-level HSPICE simulation at 1.5 V and 30 frames/s with the\ninternal 25.2-MHz clock. To reduce the peak current, DATAOUT\ntransition is designed to happen in about 1/4 clock period after\nthe rising edge of the master clock of the timing and control\nblock as shown in Fig. 10(b). Also, Fig. 11 shows the peak\ncurrent at different power supply voltages. At a 1.2-V power\nsupply, the peak current can be about 3 mA according to the\nHSPICE simulation result. As expected, the peak current is\nproportional to\nThe chip can be operated autonomously with only three pads\n[GND, VDD (1.2–1.7 V), DATAOUT]. Also, with an external\nmaster clock, the chip can be operated on a 1.2–3.6-V power\nsupply. Table II summarizes the sensor chip characteristics at 5\nframes/s and 1.5-V power supply with the external 4.125-MHz\nclock.\nA. Power Consumption\n.\nThe measured power consumption of\nThe measured power consumption of the overall chip, which\nincludes the pixel array, row/column logic, analog readout,\nADC, biases, timing and control block, on-chip clock generator,\nthe overall chip\nis shown in Fig. 12 with the external 16.5-MHz clock (20\n104\nIEEE TRANSACTIONS ON ELECTRON DEVICES, VOL. 50, NO. 1, JANUARY 2003\n———\nai\n\n© @\n38\n\nos\n\n35\n\n25\n\n1s\n\nPower Supply (V)\nFig. 14. Test images. (a) Twenty frames/s at 1.5 V with the external 16.5-MHz\nexternal clock. (b) Forty frames/s at 1.5 V with the external 33-MHz clock. (c)\nThirty frames/s at 1.5 V with the internal 25.2 MHz clock. (d) Thirty frames/s\nat 1.7 V with the internal 25.2-MHz clock.\nFig. 12. Measured power consumption with the external 16.5-MHz clock (20\nframes/s) from a 1.2–3.3-V power supply.\n(mw) wondunsueg ood\n\nFrame per Second (fps)\n‘Frequency (MHz)\n\n6\n\n0\n\nPower Supply (V)\n\nFig. 13. Measured power consumption at 1.5-V and 2.7-V power supplies for\ndifferent frame rates.\nFig. 15. Measured frequency response of on-chip clock generator.\nV. CONCLUSION\nframes/s) from a 1.2–3.3-V power supply. As expected, the\npower consumption is proportional to\n.\nVy\nAn active pixel image sensor designed for 1.2–1.7-V opera-\ntion with an on-chip clock generator and 1.2–3.6-V operation\n144 (V) QCIF 8-b\nwith an external clock to provide 176 (H)\nmonochrome video is presented. As an autonomous sensor, it\ncan be operated with only three pads [GND, VDD (1.2–1.7 V),\nDATAOUT]. The measured power consumption of the overall\nchip with the internal 25.2-MHz on-chip clock (30 frames/s)\nat a 1.5– V power supply is about 550 W. Low-power,\nlow-voltage image sensor techniques have been successfully\ntried and the possibility has been shown of wide voltage-range\noperation (1.2–3.6 V).\nFig. 13 shows the measured power consumption of the\noverall chip at 1.5-V and 2.7-V power supplies for different\nframe rates. As expected, the power consumption is propor-\ntional to the frame rate.\nB. Test Images\nImages taken with the sensor at 20 and 40 frames/s with\na 1.5-V power supply and the external clock are shown in\nFig. 14(a) and (b). Also, images taken with the sensor at 30\nframes/s (25.2 MHz on-chip block) with 1.5-V and 1.7–V\npower supplies are shown in Fig. 14(c) and (d).\nREFERENCES\nC. Clock Stability\n[1] A. P. Chandrakasan et al., “Minimizing power consumption in digital\nThe measurement result of the three-stage ring oscillator with\nclock power Vclock from the on-chip low-voltage bandgap ref-\nerence circuitry is shown in Fig. 15. The on-chip low-voltage\nbandgap reference circuitry generates 0.9 V as Vclock from a\n1.1–1.7-V power supply. The measured clock frequency shows\nfrom 22.5 MHz to 26 MHz with respect from 1.1 to 1.7 V, which\ncorresponds to a less than 15% variation. This means that the\nbandgap reference circuitry generates less than a 5-mV varia-\ntion from 0.9 V, which is less than 1% variation.\nCMOS circuits,” Proc. IEEE, vol. 83, pp. 498–523, Apr. 1995.\n[2] E. R. Fossum, “CMOS image sensors: Electronic camera on a chip,” in\nIEDM Tech. Dig, Dec. 1995, pp. 17–25.\n[3] K. B. Cho et al., “A 1.2 V micropower CMOS active pixel image sensor\nfor potable applications,” in ISSCC Dig. Tech. Papers, Feb. 2000, pp.\n114–115.\n[4] R. H. Nixon et al., “128 (cid:2) 128 CMOS photodiode-type active pixel\nsensor with on-chip timing, control and signal chain electronics,” Proc.\nSPIE, vol. 2415, pp. 117–123, 1995.\n[5] D. Senderowicz et al., “Low-voltage double-sampled (cid:6)(cid:1) converters ap-\nplications,” in ISSCC Dig. Tech. Papers, Feb. 1997, pp. 210–211.\nCHO et al.: AUTONOMOUS CMOS ACTIVE PIXEL IMAGE SENSOR\n105\nEric. R. Fossum (S’80–M’84–SM’91–F’98) was\nborn and raised in Connecticut. He received the\nB.S. degree in physics and engineering from Trinity\nCollege, Hartford, CT, in 1979 and the Ph.D. degree\nin electrical engineering from Yale University, New\nHaven, CT, in 1984.\n[6] E. A. Vittoz, “Low-power low-voltage limitations and prospects in\nanalog design,” in Proc. Advanced in Analog Circuit Design Workshop,\nMar. 1994.\n[7] Z. Zhou et al., “CMOS active pixel sensor with on-chip successive ap-\nproximation analog-to-digital converter,” IEEE Trans. Electron Devices,\nvol. 44, pp. 1759–1763, Oct. 1997.\nAs a member of Columbia University’s Electrical\nEngineering faculty from 1984-1990, he and his stu-\ndents performed research on CCD focal-plane image\nprocessing and high speed III-V CCDs. In 1990, Dr.\nFossum joined the NASA Jet Propulsion Laboratory,\nCalifornia Institute of Technology, Pasadena, and managed JPL’s image sensor\nand focal-plane technology research and advanced development. He led the in-\nvention and development of CMOS active pixel sensor (APS) camera-on-a-chip\nand subsequent transfer of the technology to US industry. In 1996, he joined\nPhotobit Corporation as Chief Scientist, a company he helped found in 1995, and\nbecame CEO of Photobit Technology Corporation in 2000. While at Photobit,\nhe and his staff commercialized the camera-on-a-chip which has been used in\nLogitech® and Intel® PC cameras, ultra-low-power sensors enabling the swal-\nlowable “pill-camera,” and very-high-speed, high-resolution sensors used for\nHollywood special effects such as in The Mummy Returns and Pearl Harbor. In\nlate 2001, Photobit was acquired by Micron Technology, Inc. and he is presently\na Senior Micron Fellow. He has also served as Adjunct Professor of electrical en-\ngineering at the University of California, Los Angeles (UCLA), and is currently\nAdjunct Professor of electrical engineering-electrophysics at the University of\nSouthern California (USC), Los Angeles, and teaches undergraduate physical\nelectronics. He has served as primary adviser to 12 Ph.D. candidates. He has\npublished 230 technical papers and holds 53 U.S. patents.\nDr. Fossum received Yale’s Becton Prize in 1984,\n[8] K. E. Kuijk, “A precision reference voltage source,” IEEE J. Solid-State\nCircuits, vol. SSC-8, pp. 222–226, Jun. 1973.\n[9] H. Banba et al., “A CMOS bandgap reference circuit with sub-1-V op-\neration,” IEEE J. Solid-State Circuits, vol. 34, pp. 670–674, May 1999.\n[10] H.-S. Wong, “Technology and device scaling considerations for CMOS\nimagers,” IEEE Trans. Electron Devices, vol. 43, pp. 2131–2142, Dec.\n1996.\n[11] J. Henkel, “A low-power hardware/software partitioning approach for\ncore-based embedded systems,” in Proc. Design Automation Conf., June\n1999, pp. 122–127.\n[12] F. G. Stremler, Introduction to Communication Systems. Reading,\nMA: Addison-Wesley, 1990.\n[13] S. Smith et al., “A single-chip 306 (cid:2) 244-pixel CMOS NTSC video\ncamera,” in ISSCC Dig. Tech. Papers, Feb. 1998, pp. 170–171.\nKwang-Bo Cho (S’96–M’00) received the B.S.\ndegree (summa cum laude) from Sogang University,\nKorea,\nthe M.S. degree in electrical engineering\nfrom the Korea Advanced Institute of Science\nand Technology (KAIST), and the Ph.D. degree\nin electrical engineering from the University of\nSouthern California (USC), Los Angeles.\nthe IBM Faculty\nDevelopment Award in 1984, the National Science Foundation Presidential\nYoung Investigator Award in 1986, the JPL Lew Allen Award for Excellence\nin 1992, and the NASA Exceptional Achievement Medal in 1996. He was\ninducted into the U.S. Space Foundation Technology Hall of Fame in 1999. He\nfounded the biannual IEEE Workshops on CCDs and Advanced Image Sensors\nand the SPIE Conferences on Infrared Readout Electronics. He has served on\nprogram committees for the IEDM, ISSCC, and SPIE conferences. He has\nserved as associate editor for IEEE TRANSACTIONS ON VLSI, guest editor for\nIEEE JOURNAL OF SOLID STATE CIRCUITS, and was Guest Editor-in-Chief for\nIEEE TRANSACTIONS ON ELECTRON DEVICES Special Issue on Solid-State\nImage Sensors published in October 1997. He was recently named to the\nBoard of Fellows for Trinity College, CT where he also serves on the college’s\nEngineering Advisory Committee.\nFrom 1994 to 1995, he was a Research Engineer\nat the LG Corporate Institute of Technology, Seoul,\nKorea. From 1996 to 2001, he was with Photobit\nCorporation, Pasadena, CA, as a VLSI design\nengineer. Since 2001, he has been with Micron Technology, Inc., Pasadena,\nCA, as a Senior VLSI Design Engineer. He has published more than\n20 internationally peer-reviewed articles on image processing,\nintelligent\ninformation processing, circuit design, and image sensors. His current research\ninterests are CMOS active pixel image sensors, low-power VLSI system\ndesign, and intelligent microsystems.\nAlexander I. Krymski\n(M’97) graduated from\nNovosibirsk University, Novosibirsk, Russia, in 1984\nand received the Ph.D. degree from the Institute for\nSemiconductor Physics, Novosibirsk, in 1992, where\nhe worked on a photo-electrical characterization of\nMOS devices, and CCD/CMOS multiplexers for\ninfrared focal plane arrays.\nIn 1993–1994, he collaborated with the CMOS\nsensor group at IMEC, Leuven, Belgium, in the area\nof smart sensors. In 1996 he joined Photobit Corpo-\nration, Pasadena, CA, specializing in CMOS sensor\nresearch and development and custom design. His major contributions to the\nCMOS sensor technology were the design of a low-power “camera-in-a-pill”\nsensor and principle circuits for a high-speed Megapixel family of sensors.\nSince November 2001, he has been with Micron Technology, Pasadena, CA, as\nthe head of the Advanced Sensor group. He has published more than 15 papers\nin the area of imaging and is the author or coauthor of ten U.S. patents and 15\npending patent applications.\n']",
CMOS APS Imager Employing 3_3V 12 Bit 6_3 MSs Pipelined ADC.pdf,"['CMOS APS IMAGER EMPLOYING 3.3V 12 BIT 6.3 MS/S PIPELINED ADC \nShy Hamami, Leonid Fleshel and Orly Yadid-Pecht \nThe VLSI Systems Center, Ben-Gurion University, Beer-Sheva, Israel, e-mail: oyp@ee.bgu.ac.il \nthe  same  chip.  The \nintegrated  on \ntest  chip  has  been \nimplemented  in  0.35µm  2P4M  process,  operated  by  a  3.3V \nsupply  and  at  conversion  rate  of  6.3  MS/s  is  expected  to \ndissipate 55mW.  \n     This  work  is  arranged  as  follows:  Section  II  addresses  the \nsystem \ncircuit \nimplementation.  Section  IV  describes  the  measured  results.  A \nsummary concludes the paper.  \nABSTRACT \nA novel 256x256 CMOS active pixel sensor (APS) system with \n12  bit,  6.3  MSample/s  (MS/s)  CMOS  pipelined  analog  to \ndigital  converter  (ADC)  integrated  on  chip  is  presented.  The \ntest  chip  has  been  implemented  in  0.35µm  2P4M  process, \noperated by a 3.3V supply and is expected to dissipate 55mW. \nThe total area of the prototype is 12 mm2, and the core area of \nADC  is  18%  from  the  total  area.  System  architecture  and \noperation are discussed and simulation results are presented.  \narchitecture.  Section \nIII  presents \nthe \n2. SYSTEM ARCHITECTURE\n2.1 APS Architecture \nThe  architecture  of  the  sensor  is  shown  in  Figure  1.  As  in  a \ntraditional  rolling  shutter  APS  the  proposed  sensor  has  an \nimager of 256x256, 3 transistors (3T) pixel array, row decoder, \nrow  driver,  column  decoder  Sample  &  Hold  (S/H)  circuits, \nclock and signals generator, timing block, and a 12 bit pipelined \nADC. \n1. INTRODUCTION \nDriven  by  the  demands  of  multimedia  applications,  digital \ncameras  rapidly  became  attractive.  The  basic  requirements  of \ndigital  cameras,  in  addition  to  image  capture  must  include \nanalog-to-digital  conversion  and  digital  signal  processing. \nCMOS technology is rapidly scaling down, enabling integration \nof  these  functions  onto  a  single  chip  [1,2,3].  Integration  of  a \nCMOS sensor with an ADCs can be done in three fundamental \napproaches:  \n• \n|Pixel Pixel Pixel Pixel|None|None|\n||S/H|OutputChain x1|\n||||\n|None|||\n|Column Decoder|None|None|r\ne\nd\no\nc\ne\nD\nw\no\nR\nr\ne\nv\ni\nr\nD\nw\no\nR\n \n \nPixel  level  approach  [4,5]-  A  separate  ADC  is \nallocated for every pixel. \n•  Column  parallel  approach  [6,7,8]-  Each  ADC  serves \nw\no\nR\none or more columns in the sensor array. \n•  Chip  level approach [9,10]- A single ADC serves the \nTiming and\nControl\nBlock\nColumn\nwhole image sensor. \nPipelined ADC\n     Different  kinds  of  ADCs  can  be  integrated  with  APS \nimagers,  but  only  a  few  of  them  can  meet  requirements  of  the \nchip  level  approach  at  video  rate.  The  best  options  for  low \npower implementation in 5 MS/s sampling rate (and above) and \nat resolution of 8-12 bit range, are multi-step flash and pipeline \nconfigurations.  In  comparison  to  multi-step  flash,  a  pipelined \nADC has the potential advantages of inherent signal single-path \nsampling,  which  gives  good  high-frequency  effective  bit \nperformance.  In  addition,  signal  amplification  down \nthe \npipeline  followed  by  digital  error  correction  relaxes  the \ncomparator  offset  constraints,  which  enables  the  usage  of \ndynamic  comparators.  Pipelined  ADC  has  been  the  subject  of \ninvestigation  during  last  several  years  [11,12,13,14].  Recently, \na 10 bit, 1.8 V, 65mW, 50MS/s [15], and a 12 bit, 3V, 35mW, \n21MS/s  CMOS  pipelined  ADCs  [16]  have  been  reported.  The \nadvantages  of  the  pipelined  ADC,  which  combines  high  speed \nwith  medium-high  resolution  and  low  power  consumption \nseems  a  promising  combination  with  the  standard CMOS APS \nimplementation.  This  paper  presents  a  novel  256x256  CMOS \nAPS  system  with  12  bit,  6.3  MS/s  CMOS  pipelined  ADC \n12\nClock and Signal\nGenerator\nFigure 1: The sensor architecture \n     The single pixel with an N-well photodiode has a fill factor \n(FF)  of  12%  and  a  pitch  of  7µm.  The  operation  principle  is \ndescribed in [3] and will be briefly summarized here. The pixel \nconsists of a photodiode reset transistor (RST) and a row select \ntransistor  (RS).  The  charge-to-voltage  conversion  occurs  at  the \nsense  node  capacitance,  which  consists  of  the  photodiode \ncapacitance  and  all  other  parasitic  capacitances  connected  to \nthat  node.  The  source-follower  transistor  (SF)  acts  as  a  buffer \namplifier  to  isolate  the  sensing  node.  When  a  reset  pulse  is \napplied, the photodiode is charged to a known value limited by \nthe  threshold  voltage  of  the  RST  transistor.  The  integration \nstarts  when  the  RST  transistor  is  switched  off.  During \nintegration,  the  photodiode  discharges  the  capacitance  of  the \nphotodiode  node.  Finally  the  value  is  read  out  through  the  SF \nand the RS. The S/H  circuit  has to  convert  the  single  ended  \n(cid:19)(cid:16)(cid:26)(cid:27)(cid:19)(cid:22)(cid:16)(cid:27)(cid:21)(cid:24)(cid:20)(cid:16)(cid:59)(cid:18)(cid:19)(cid:23)(cid:18)(cid:7)(cid:20)(cid:26)(cid:17)(cid:19)(cid:19)(cid:3)(cid:139)(cid:21)(cid:19)(cid:19)(cid:23)(cid:3)(cid:44)(cid:40)(cid:40)(cid:40)\n(cid:44)(cid:57)(cid:3)(cid:16)(cid:3)(cid:28)(cid:25)(cid:19)\n(cid:44)(cid:54)(cid:38)(cid:36)(cid:54)(cid:3)(cid:21)(cid:19)(cid:19)(cid:23)\nφ\n1\nBuffer\n. ..\n|None|. 256 . S/HCircuit S/HCircuit + COL1 C S COL1 Out SHR SHR\' VCM SHS SHS\'|None|None|None|None|None|\n|2|S/HCircuit + COL1 C S COL1 Out SHR SHR\' VCM SHS SHS\'|None|None|None|None|None|\n|Vref|+ COL1 C S COL1 Out SHR SHR\' VCM SHS SHS\'|None|None|None|None|None|\n|ixel|None||||VCM|φ φ1 1|(cid:22)\nSTAGE 1\nSTAGE 2\nSTAGE 3\nSTAGE 11\nAnalog\nInput\nFC\nVref+\nVout-\nφ\nφ\n1\n2 bit\n2 bit\n2 bit\nφ\n1\nφ\n1\n2 bit\nPixel Out\nM1\nC\nV\nOpAmp\nDIGITAL ERROR CORRECTION\nVout+\nVref-\nSC\n1COL\n1COL\nFC\n1\nS/H Circuit\n1\n2\nb\ni\nt\n2×\nφ\n1\n \n(cid:166)\nS/H\nResidue\nAnalog\nInput\nFigure 2: Output chain block diagram \nADC\nDAC\npixel  output  into  a  differential  mode, since the pipelined ADC \nwas  implemented  in a fully differential configuration. Figure 2 \nexhibits  the  output  chain  block  diagram,  which  consists  of  a \nS/H circuits and a buffer. \n     The  clocks  (cid:301)1 and (cid:301)2 are non-overlapping and are used for \nthe pipeline timing ((cid:301)2 is not displayed in Figure 2). The signal \nCOL1 is a result of a logical AND between the column decoder \noutput  and  (cid:301)2.  The  design  (i.e.,  both  the  S/H  circuit  and  the \npipelined ADC) utilizes a bottom plate sampling technique (i.e., \nSHS\'  and  SHR\'),  thus  eliminating  the  first  order  signal-\ndependent  charge  injection  distortion.  In  addition,  slow  SHS \nand  SHR  are  applied  to  minimize  charge  injection  and  clock \nfeed-through offsets. 1pF sampling and feedback capacitors, CS\nand CF respectively, are used in order to reduce the kT/C noise. \nThe output chain transfer function is given by: \n)\n2 bit\nFigure 3: The selected pipelined ADC architecture  \nFC\nOV\ninV\nSC\nLatch\n`\nMux\nrefV\n+\n4\nrefV−\nrefV+\n`\n(\nLatch\nC\nrefV\n4\n=\n−\n−\n[1] \n \n \n \n(cid:170)\n(cid:172)\n(cid:186)\n(cid:188)\nv\nv\nv\nv\nout\n−\nS\nC\nrst\nsig\nref\nF\nResidue\nGAIN Stage\nDAC\nA detailed op-amp topology is discussed in section 3.\nCoarse -ADC\nFigure 4: Pipelined ADC stage block diagram \n2.2 Pipelined ADC Architecture \nwith corresponding threshold voltages Vref/4 and -Vref/4, which, \nin fact, assemble the coarse Flash-ADC, (2) An analog mux that \nactually  functions  as  DAC,  with  the  three  corresponding \nreference  voltages  -Vref,  0,  and  Vref and (3) Residue gain stage \n[14].  The  residue  gain  stage,  shown  in  Figure  5,  samples  the \nsignal  input,  subtracts  it  from  the  relevant  reference  voltage, \nand  amplifies  the  residue  by  the  gain  of  two. When  defining \nCF=CS, the ideal stage operation is as follows: \nThe ADC uses a pipeline 1.5-bit/stage architecture [11] with 11 \nstages,  as  shown  in  Figure  3.  Each  stage  is  responsible  for \nresolving  two  bits  from  the  digital  output  code.  Each  stage  is \ncomposed  of  a  coarse  Flash-ADC,  a  low  resolution  digital  to \nanalog converter (DAC), a S/H circuit, and a residue amplifier. \nThe 2-bit MSB low-resolution ADC determines the two MSBs. \nThe  determination  of  the  remaining  LSBs  is  performed  in  the \nfollowing  steps:  (1)  The  quantization  error  is  found  by \nreconverting the 2-bit digital to an analog value using the 2-bit \nDAC.  (2)  This  value  is  subtracted  from  the  input  signal, \ngenerating a residue. This residue is then amplified by a gain of \ntwo and passed on to the next stage. The second stage performs \nsimilar  operations  on  the  amplified  residue  resulting  in  a \ndetermination  of  the  next  most  significant  bits  of  the  input \nsignal.  The  stages  are  buffered  by  switching-capacitors  gain \nblocks  that  provide  a  S/H  between  each  stage,  allowing \nconcurrent processing. Digital error correction [11,12] is used to \ngenerate  the  12  bit  final output code from the resulting 22 bit. \nThe  use  of  a  digital  error  correction  technique  in  conjunction \nwith  a  low  number  of  bits  per  stage  relaxes  the  constraints on \nthe comparator offset voltage. \n     Figure  4  displays  the pipelined ADC stage implementation. \nAlthough, a single-ended configuration is shown for simplicity, \nthe actual implementation was fully differential. \n     The pipelined ADC stage  consists of  (1)  Two comparators \nV\n(cid:173)\n(cid:176)\n(cid:176)\n(cid:176)=\n(cid:174)\n(cid:176)\n(cid:176)\n(cid:176)\n(cid:175)\n(cid:183)\n(cid:184)\n(cid:185)\n(cid:167)\n(cid:168)\n(cid:169)\n2\nV\ni\n(\n2 10\n)\n−\n>\n→\nref\n2\n/ 4\nV\ni\nif V V\ni\nd\n[2] \n \n2\nref\n2\n(\n)\n2 01\n−\n<\n<\nV V\n→\n/ 4\n/ 4\nV\no\nif\nV\nd\nref\ni\nref\n2\nV\n(cid:167)\n(cid:168)\n(cid:169)\n(cid:183)\n(cid:184)\n(cid:185)\nwhere d is the stage digital output code.\n     Figure  6  shows  the  ideal  transfer  characteristics  of  a \npipelined  ADC  stage.  With  the  use  of  a  digital  correction \nalgorithm  the  overflow  of  the  current  stage  output  from  the \ninput  range  of  the  following  stage  can  be  prevented  even  with \nthe  presence  of  a  large  comparator  offset,  so  that  this  offset \nerror  amplified  down \nthe  pipeline  can  be  detected  for \ncorrection. With this configuration, the coarse Flash-ADC error, \nup  to  Vref/4,  can  be  tolerated  and  digital  correction  circuit \ncontains  adders  only.  The  correction  is  achieved by adding the \noutput  codes  of  the  pipeline  stages  in  overlapping  the  stage  i \nLSB with stage i+1 MSB.\n)\n(\n1 00\n+\n→\n< −\nref\n2\n/ 4\nd\nV\nV\ni\nif V\ni\n2\nref\n2\n(cid:44)(cid:57)(cid:3)(cid:16)(cid:3)(cid:28)(cid:25)(cid:20)\nφ\n1\nφ\n\'\n1\nφ\n2\nVin+\nFC\nφ\n1\nt[nsec]\nVout-\nφ\n1\nφ\n1\nφ\n\'1\nφ\n\'1\n|φ\' 1|||\n|φ 2|||\n|φ\' 2|||φ\n2\nφ\n2\nVref+\nM\nC\nV\nt[nsec]\nSC\nSC\nV\nC\nM\nOpAmp\nVout+\nt[nsec]\nVref-\nφ\n1\nFC\nφ\n2\nVin-\nt[nsec]\nFigure 7: The non-overlapping multiphase clock waveforms \nFigure 5: The residue gain stage \nimplemented \nVDD CMFB\nVout\nVDD\n00\n01\n10\nVo1\n+Vref\nVo2\nVDD\nVDD\nVDD\nVDD\nVin1\nVin2\n-Vref\n+Vref\n|None||\n||None|Vo1\nVo2\nVin\n||None|\n|None||Figure 8: Operational amplifier architecture \n-Vref\nrelaxed  accuracy  constraints  in  later  pipeline  stages,  these \ncapacitors were scaled down to help reduce power consumption \n[12].  To  maximize  the  matching  between  the  capacitors  and \nminimize  bottom  plate  parasitics, \nthe  common-centroid \ncapacitor  arrays  with  dummy  capacitors surrounding the arrays \nare used. \nFigure 6: Ideal transfer characteristics of the pipelined ADC \nstage \n     The  clock \nmultiphase clocks, shown in Figure 7. \ntiming  generator  generates  non-overlapping \n3. PIPELINED ADC-CIRCUIT DESCRIPTION  \n4. SIMULATION RESULTS\nBecause of the large dc gain requirement in the high resolution \npipeline,  and  in  order  to  achieve  a  large voltage swing, a two-\nstage  amplifier  is  used  for  this  application.  The  op-amp \ntopology [13] used in the pipeline stages is shown in Figure 8. \nThis  two-stage,  fully-differential  amplifier  consists  of  a  folded \ncascode  first  stage  followed  by  a  common-source  second  stage \nwith  compensation  to  the  cascode  node  [17].  The  fully \ndifferential  architecture,  although  improving  power  supply \nrejection,  requires  a  common  mode  feedback  as  shown.  This \nextra  circuitry  is  needed  to  establish  a  common-mode  output \nvoltage. The S/H op-amp is the most critical part in the overall \ndesign, because it has to settle within at least 13 bit accuracy in \none  clock  phase.  Actually,  this  settling  time  limits  the  overall \npipeline  throughput.  Based  on  BSIM  3v3  simulations,  the \nsettling  time  of  the  op-amp  is  less  than  70nsec  for  13  bit \naccuracy. The op-amp dc gain is 120dB and its phase margin is  \n63o.  The  power  dissipation  of  the  op-amp  including  its  bias \ncircuit is less than 2.6 mW. There are a total of ten op-amps in \nthe  ADC,  since  the  last  stage  does  not  need  to  generate  any \nanalog signal. \n     The  comparator  circuit  consists  of  a  preamplifier  followed \nby  a  dynamic  latche  circuit  and  buffer  [14].  This  architecture \nimproves metastability and reduces kick-back noise on the input \nresidue. The pipelined ADC consists of 22 comparators, which \ndissipate  approximately  4.4mW.  The  interstage  capacitor  sizes \nare determined by the kT/C thermal noise constraints. Due to \nFigure 9 shows the layout of the test chip. The total area of the \nprototype is 12 mm2, and the core area of the ADC is 18% from \nthe  total  area.  The  test  chip  has  been  implemented  in  0.35µm \n2P4M  process,  operated  by  a  3.3V  supply.  Design  simulation \nhas  been  carried  out  in  SpectreS  with  BSIM3V3  models  of  a \nTSMC  0.35µm  2P4M  process.  Based  on  SpectreS  simulation, \nthe  approximate  total  power  consumption  is  55mW.  Based  on \nlayout  extraction,  the  transient  response  of  the  S/H  op-amp \nshows  that  the  maximum  settling  time  to  13  bit  accuracy  is in \n70ns. The chip attributes summary shown in Table I. \n4. CONCLUSIONS \nThe  trend  toward  integration  is  driven  by  low  cost,  and  low \npower  implementations.  Therefore,  for  video  rate  applications, \nintegration  of  an  APS  system with a chip-level pipelined ADC \nappears  as  a  very  reasonable  option.  This  work  successfully \ndemonstrates  a  novel  256x256  CMOS  APS  system  with  3.3V, \n12 bits, 6.3 MS/s CMOS pipelined ADC integrated on the same \nchip.  This  experimental  chip  has  been  implemented  in  a \n0.35µm  2P4M  process,  operated  by  a  3.3V  and  at  conversion \nrate of 6.3 MS/s dissipates 55mW. \n(cid:44)(cid:57)(cid:3)(cid:16)(cid:3)(cid:28)(cid:25)(cid:21)\n                                                                              \nprocessing  of  infrared  sensors,""  IEEE  Workshop  on  Charge \nCoupled Devices and Advanced Image Sensors, June, 1995. \n[6]  A.  Dickinson,  S.  Mendis,  D.  Inglis,  K.  Azadet,  and  E. \nFossum,  ""CMOS  Digital  Camera  with  Parallel  Analog-to \nDigital  Conversion  Architecture,""  IEEE  Workshop  on  Charge \nCoupled Devices and Advanced Image Sensors, April, 1995. \n[7]  S.  Decker,  R.  McGrath,  K.  Brehmer,  and  C.  Soldini,  ""A \n256x256 CMOS imaging arrays with wide dynamic range pixels \nand column-parallel digital output,"" ISSCC Digest of Technical \nPapers, pp. 176-177, February, 1998.  \n[8]  A.  Krymski  and  N.  Tu,  ""A  9-V/Lux-s  5000-Frames/s \n512x512  CMOS  Sensor,""  IEEE  Trans.  Electron  Devices,  vol. \n50 pp. 136-143, Jan. 2003. \n[9] S.  Smith,  J.Hurwitz,  M.  Torrie,  D.  Baxter,  A.  Holmes, \nM.Panaghiston, R. Henderson, A. Murray, S. Anderson, and P. \nDenyer,  ""A  single-chip  306x244-pixel  CMOS  NTSC  video \ncamera,""  ISSCC  Digest  of  Technical  Papers,  pp.  170-171, \nFebruary 1998.\n[10]  M.  Loinaz,  K.  Singh,  A.  Blanksby,  D.  Inglis,  K.  Azadet, \nand  B.  Acland,""  A  200mW  3.3V  CMOS  color  camera  IC \nproducing 352x288 24b Video at 30frames/s,"" ISSCC Digest of \nTechnical Papers, pp 186-169, February 1998. \n[11]  S.H.  Lewis;  H.S.  Fetterman,  G.F.  Jr.  Gross;  R. \nRamachandran,  T.R.  Viswanathan;  and  T.  R.  Viswanathan, \n“10-b  20-Msample/s  analog-to-digital  converter,”  IEEE  J. \nSolid-State Circuits, vol. 27, pp.351-358, March 1992. \n[12]  T.  Cho,  and  P.  R.  Gray,  ""A  10b  20MSamples/s  35mW \nPipeline A/D Converter,"" IEEE J. Solid-State Circuits, vol. 30, \npp. 166-172, March 1995. \n[13]  D.  Cline,  and  P.  Gray,  “A  Power  Optimized  13  b  5 \nMSample/s  Pipelined  Analog-to-Digital  Converter  in  1.2µm \nCMOS,”  IEEE  J.  Solid-State  Circuits,  vol.  31,  no.  3, pp. 443-\n452, March 1996. \n[14]  A.  Abo,  and  P.  R.  Gray,  ""A  1.5-V,  10-bit,  14.3-MS/s \nCMOS  Pipeline  Analog-to-Digital  Converter,""  IEEE  J.  Solid-\nState Circuits, vol. 34, no. 5, pp. 599-606, May 1999.  \n[15]  S.  Hamedi-Hagh,  and  C.A.T.  Salama,  ""A  10  bit,  50 \nMSample/s,  Low  Power  Pipelined  A/D  Converter  for  Cable \nModem Applications,"" IEEE ISCAS, vol. 1, pp. 424 -427, May \n2001.  \n[16]  S.  Kulhalli,  V.  Penkota,  and  R.  Asv,  ""A  30mW  12b\n21MSample/s Pipelined CMOS ADC,"" IEEE ISSCC, vol: 1, pp. \n312 -469, February 2002. \n[17]  B.  K.  Ahuja,  ""An  improved  Frequency  Compensation \nTechnique  for  CMOS  Operational  Amplifier,""  IEEE  J.  Solid-\nState Circuits, vol. SC-18, no. 6, pp. 629-633, December 1983. \nFigure 9: Test chip layout \n|Power Supply|3.3 V|\n|Technology|0.35µm 2P4M CMOS|\n|APS array resolution|256x256|\n|Pixel pitch|7µm|\n|Fill factor|12%|\n|ADC resolution|12 bit|\n|ADC conversion rate|6.3 MS/s|\n|ADC input range|±1 V differential|\n|Die area|12 mm2|\n|Power dissipation|55 mW|Power Supply \nTechnology \nAPS array resolution \nPixel pitch \nFill factor \nADC resolution \nADC conversion rate \nADC input range \nDie area \nPower dissipation \nTable 1:  chip attributes \nACKNOWLEDGMENTS \nThe  authors  acknowledge  the  financial  support  of  the  Israeli \nMinistry  of  Defense  and  Mr.  Shai Diller for helpful assistance \nand discussion. The fabrication was carried out through MOSIS. \n REFERENCES \n                                                \n[1]  E.  Fossum,  “CMOS  Image  Sensors:  Electronic  Camera-on-\nA-Chip,”  IEEE  Trans.  Electron  Devices,  vol.  44,  pp.  1689-\n1698, Oct 1997. \n[2]  O.  Yadid-Pecht,  R.  Ginosar  and  Y.  Shacham-Diamand,  “A \nrandom  access  photodiode  array for intelligent image capture,” \nIEEE Trans. Electron Devices, vol. 38, no. 8, pp. 1772 - 1781, \nAug.1991. \n[3] S. Mendis, S. Kemeny, R Gee, B. Pain, C. Staller, Q. Kim \nand  E.  Fossum,  “CMOS  active  pixel  image  sensors  for  highly \nintegrated imaging systems,” IEEE J. Solid State Circuits, vol. \n32, pp. 187-197, Feb. 1997. \n[4]  D.X.D.  Yang,  A.  El  Gamal,  B.  Fowler  and  H.  Tian,  “A \n640x512 CMOS Image Sensor with Ultra Wide Dynamic Range \nFloating  Point  Pixel  Level  ADC,”  IEEE  ISSCC,  WA  17.5, \n1999. \n[5]  B.  Pain,  S.  Mendis,  R.  Scober,  R.  Nixon,  and  E.  Fossum, \n""Low-power  low-noise  analog  circuits for on-focal-plane signal \n(cid:44)(cid:57)(cid:3)(cid:16)(cid:3)(cid:28)(cid:25)(cid:22)\n']",
CMOS Image Sensor with Integrated 4Gbs Camera Link Transmitter.pdf,"['Session_27_Penmor  1/8/06  10:48 AM  Page 504\n|ISSCC 2006 / SESSION 27 / IMAGE SENSORS / 27.7||27.7 \nCMOS Image Sensor with integrated 4Gb/s \nCamera Link Transmitter\nThe  transmitter  realizes  the  conversion  table  in  Fig.  27.7.5  to\ncomply with one of the commercially available receivers. The line\nand the frame data syncs are built into the data by substitution\nof some imaging data (hex 00 and 01). One can notice ‘all zeroes’\nin the conversion table for one column. In the commercial device,\nthis  column  is  taken  to  represent  the  dc-balance  bit  derived\nthrough a parity calculation. The sensor implements an alterna-\ntive dc-balancing method. To equalize the representation of ones\nand zeroes in the transferred image, every second data bit pass-\ning an LVDS channel is inverted. In other implementations, this\ncould  be  an  inversion  of  the  every  second  column  data  in  the\nimage,  or/and  the  inversion  of  the  every  second  bit  in  one  byte.\nThis dc-balancing technique is rather intuitive and uses statisti-\ncal  properties  of  the  image,  working  as  well  in  situations  when\nthe image is dark or saturated.  The unscrambling of the data is\ndone  on  the  receiving  end,  both  after  the  cable  and  after  the\nreceiver.\nAlex Krymski1, Kenji Tajima2\n1Alexima, Pasadena, CA\n2Photron, Tokyo, Japan\na \nis \ninterface \npromising \nLVDS \nfor  machine-\nvision/automotive/medical  CMOS  image  sensors,  allowing  low\npin-count and over 500Mb/s data rates per pair of wires. The fea-\nsibility  of  image  sensor  with  a  single  LVDS  output  yielding\n60frames/s  has  been  recently  reported  [1].  Some  vision  applica-\ntions, however, require sensor data rates well above the capabili-\nties of a single LVDS channel. Therefore, there is a demand for a\nwide LVDS interface, such as a camera link on an image sensor.\nSuch  a  sensor  is  designed,  manufactured,  characterized,  and  is\npresented in this paper. \nOutputs  from  the  serializers  are  connected  to  pre-drivers  to\nrestore logic levels and then routed to LVDS pads.  One LVDS pad\nis a standard current-steering bridge on 4 NMOS switches with a\ndiagonal 100Ω termination resistor. The mid point of the resistor\nis  kept  at  the  1.25V  required  by  the  standard  using  a  negative\nfeedback that equalizes the current in the PMOS current source,\npumping  the  bridge  with  the  8mA current  sunk  through  an\nNMOS sink, in the way similar to [4]. The LVDS pad also has con-\nventional clamps for ESD protection of the output and the inter-\nnal nodes.\nThe sensor contains a pixel array, column ADCs at both top and\nbottom of the pixel array, data registers, and a camera-link trans-\nmitter  (Fig.  27.7.1). A 5T  shutter  pixel  (Fig.  27.7.2)  is  based  on\nconventional  photodiode  and  designed  to  increase  sensitivity  by\nutilizing charge transfer rather than charge share in the 5T shut-\nter pixel [2]. A common reset switch is implemented to reduce the\nFPN  and  to  provide  the  possibility  of  performing  reset  in  “soft”\nmode  with  slightly  lower  kTC  noise.    The  column ADC  uses  an\nauto-zeroing instead of a bulky capacitive DAC [2] for compara-\ntor  offset  removal.  With  the  exception  of  a  capacitor  bank,  the\ntopology is fully differential, with the potential of capturing less\nsubstrate  noise.  The ADC  core  is  a  multistage  high-speed  com-\nparator where each subsequent low-gain stage removes the offset\nof the previous stage.\nA microphotograph of the manufactured chip is presented in Fig.\n27.7.7, and the measured parameters- in the table in Fig. 27.7.6.\nAn  evaluation  board  combines  the  image  sensor,  an  FPGA for\nboard-level controls and data multiplexing, a memory, a commer-\ncial  deserializer,  and  2  camera-link  (input  and  output)  connec-\ntors.  The  LVDS  data  is  sent  through  a  3m  cable  and  returned\nback to the board. The link was fully functional up to the rates of\n80MHz demonstrating the transmission of the data with the data\nrate of up to 4 Gb/s.\nData from ADC is sampled into registers and is read out with a\nclock up to 100MHz  via 6 parallel channels (this rate is proven\nin  a  separate  chip).  The  internal  data  bus  width  is  48b;  24b  is\nread at the bottom of the chip and the other 24b at the top. A cam-\nera-link  transmitter  serializes  48  CMOS-level  signals  into  8\nLVDS outputs and also transmits the LVDS clock.  The transmit-\nter  consists  of  a  PLL,  an  8-channel  serializer,  and  9  LVDS  I/O\npads. The PLL includes a phase detector, a charge pump, a filter,\nand a VCO; the design is based on the implementation reported\nin [3]. An essential part of the transmitter is the 8-channel seri-\nalizer. In order to avoid the risks associated with multiplexing of\nsignals at the VCO clock rate, the decision is made to use a sub-\ncarrier clock generated in a divide-by-7 frequency divider which\nis part of the PLL. These waveforms (b1-b3) are generated syn-\nchronously  from  the  outputs  of  simple  dynamic  D-FFs  (Fig.\n27.7.3.),  and  later  splitted  into  6  complementary  delay-compen-\nsated decoder controls (b1-b3, b1n-b3n), buffered, and distributed\nover the array of the serializers. Figure 27.7.4 shows one channel\nof the serializer. It combines 7 differential NMOS current-steer-\ning circuits, each enabled with 3 decoding NMOS transistors in\nseries. The differential pairs have a common load on 2 diode-con-\nnected PMOS transistors. The 7 differential signals to be multi-\nplexed, d0/d0n through d6/d6n, are applied to the gates of the cor-\nresponding  differential  pairs.  One  pair  is  selected  at  a  time  to\ndrive  the  load.  Differential  current-mode  operation  minimizes\nglitches (the adjacent branches compete for the load in the tran-\nsition  time),  and  low-resistance  diode-connected  loads  insure\nhigh multiplexing rate and sharp edges of the output waveforms.\nLVDS clock is derived from the top bit in the divide-by-7 counter\nand passes a dummy serializer (the decoder inputs are enabled)\nto have the same delay as the rest of the data.\nImplementing  this  interface  on  a  digital  imaging  sensor  allows\ncompact camera heads with the output data rates well exceeding\nthe capabilities of any of the popular USB-2, IEEE1394, LVDS, or\nGigabit Ethernet interfaces.\nReferences:\n[1] N. Bock, et al., “A Wide-VGA CMOS Image Sensor with Global Shutter\nand Extended Dynamic Range,” Proc. of IEEE Workshop on CCDs and AIS,\nKaruizawa, pp. 222-225, 2005.\n[2] A. Krymski, et al., “A 9-V/Lux-s 5000-Frames/s 512×512 CMOS Sensor,”\nIEEE Trans. on Electron Devices, vol. 50, no. 1, pp. 136-141, Jan., 2003.\n[3] J. Maneatis,  “Low-Jitter Process-Independent DLL and PLL Based on\nSelf-Biased  Techniques,”  IEEE  J.  Solid-State.  Circuits,  vol.31,  no  11,\npp.1723-1732, Nov., 1996.\n[4] A. Boni, et al., “LVDS I/O interface for Gb/s-per-Pin operation in 0.35-\num CMOS,” IEEE J. Solid-State Circuits, vol.36, no. 4, pp. 706-711, Apr.,\n2001.\n|504 • 2006 IEEE International Solid-State Circuits Conference 1-4244-0079-1/06/$20.00 ©2006 IEEE||Session_27_Penmor  1/8/06  10:48 AM  Page 505\n||ISSCC 2006 / February 8, 2006 / 11:00 AM|||SF PIXEL SHR rst1 rst2 rst3 OUT SHS REF_IN rst1 rst2 rst3 C C/2 C/N SAR register AMP ADC Figure 27.7.2: Pixel, column amp, and column ADC.|\n|6 sdap 24 6 Data Registers O/I 6 258x1 Column SDVL 6 AMPsand ADCs Dummy SER LVDS clkpad b3 Setting Registers revird b3 Pump PD Ref clk Pixel Array kcolb /redoced 3 516x516 Filter VCO Div/7 <1:6> latigiD woR PLL b1, b2, b3, b1n, b2n, b3n 6 258x1 Column sdap 6 AMPsand ADCs O/I 6 Data Registers SDVL 6 24 SER 0…7|None|\n|Figure 27.7.1: Sensor block-diagram.|None|\n||outn out d0 d0n d1 d1n d6 d6n b03 b13 b63 b02 b12 b62 b01 b11 b61 pwr_en Figure 27.7.4: Serializer, multiplexing data d0..d6 using waveforms applied to b*1-b*3.|\n|vco_clk q q q d d d b1 b2 RB b3 vco_clk b1 b2 b3 0 1 2 3 4 5 6 0|None|\n|Figure 27.7.3: Generation of decoder waveforms b1-b3 in Div/7 block.|None|\n||Technology 0.35µm 2P3M Array format 516x514 Pixel 5T shutter pixel Frame rate >1,000frames/s Clock rate 20 to 80MHz Output interface DS90CR484-compatible Output 8 of 100Ω, 8mALVDS drivers Output clock 140 to 560MHz Power 1.2W @3.3V Responsivity 4.5V/Lux*s Conversion gain 25µV/e Noise 40e- PRNU 1 % rms DSNU 0.6% rms Package 120-pin PGA Figure 27.7.6: Specification summary.|\n|CLKP DO0P/N d0b5-1 “0” d0b0i d0b1 d0b2i d0b3 d0b4i d0b5 “0” DO1P/N d2b5-1 “0” d2b0i d2b1 d2b2i d2b3 d2b4i d2b5 “0” DO2P/N d4b5-1 “0” d4b0i d4b1 d4b2i d4b3 d4b4i d4b5 “0” DO3P/N d4b7-1 “0” d0b6i d0b7 d2b6i d2b7 d4b6i d4b7 “0” DO4P/N d1b5-1 “0” d1b0i d1b1 d1b2i d1b3 d1b4i d1b5 “0” DO5P/N d3b5-1 “0” d3b0i d3b1 d3b2i d3b3 d3b4i d3b5 “0” DO6P/N d5b5-1 “0” d5b0i d5b1 d5b2i d5b3 d5b4i d5b5 “0” DO7P/N d5b7-1 “0” d1b6i d1b7 d3b6i d3b7 d5b6i d5b7 “0” 4 5 6 0 1 2 3 4 5|None|\n|Figure 27.7.5: Serialization table: Suffix “i” denotes inverted bits.|None|Figure  27.7.4:  Serializer,  multiplexing  data  d0..d6  using  waveforms  applied \nto b*1-b*3.\n27\nContinued on Page 669\nISSCC 2006 PAPER CONTINUATIONS\n|ADCs SER1 LVDS pad PLL PIXELS SER0 ADCs||\n|Figure 27.7.7. Chip micrograph.||\n|||\n|||\n|||\n|||669\n•  2006 IEEE International Solid-State Circuits Conference\n1-4244-0079-1/06/$20.00 ©2006 IEEE\n']",
Low-Power Column-Parallel ADC for CMOS Image Sensor by Leveraging Spatial Likelihood in Natural Scene.pdf,"['Low-Power Column-Parallel ADC for CMOS Image\nSensor by Leveraging Spatial Likelihood in Natural\nScene\nLifen Liu, Hang Yu and Shoushun Chen\nVIRTUS IC Design Center of Excellence, School of EEE\nNanyang Technological University, Singapore\n(cid:22)(cid:24)(cid:8)\n|||||||\n|||||||\n|||||||\n|||||||\n|||||||\n|||||||\n|||||||Abstract—This paper presents the architecture, algorithm\nand implementation of a low-power column-parallel analog-to-\ndigital converter (ADC) for CMOS image sensor. The analysis\nof most natural scenes shows that neighbor pixels have strong\ncorrelations. In this paper, a prediction scheme was proposed\nbased on this spatial likelihood in natural scenes. The scheme\npredicts the MSBs of the selected pixel using previous-row pixel\nA/D conversion data, which enables signiﬁcant reduction of A/D\nconversions steps on MSBs and the power consumption. The\nsimulation results show that up to 20%-30% power saving can\nbe achieved for most natural scenes. A prototype CMOS image\nsensor (CIS) chip, including a 98×98 pixel array and a 9-bit\ncolumn-parallel successive approximation register (SAR) ADC\narray, was fabricated using 0.35μm CIS technology. The silicon\nsize is 3.5×1.8 mm2.\n(cid:22)(cid:19)(cid:8)\n(cid:21)(cid:24)(cid:8)\n(cid:12)\n(cid:82)\n(cid:76)\n(cid:87)\n(cid:68)\n(cid:85)\n(cid:11)\n(cid:3)\n(cid:72)\n(cid:87)\n(cid:68)\n(cid:53)\n(cid:21)(cid:19)(cid:8)\n(cid:20)(cid:24)(cid:8)\n(cid:3)\n(cid:79)\n(cid:72)\n(cid:91)\n(cid:51)\n(cid:76)\n(cid:20)(cid:19)(cid:8)\n(cid:3)(cid:24)(cid:8)\n(cid:3)(cid:19)(cid:8)\n(cid:237)(cid:21)(cid:19)(cid:19)\n(cid:237)(cid:20)(cid:19)(cid:19)\n(cid:19)\n(cid:39)(cid:76)(cid:73)(cid:73)(cid:72)(cid:85)(cid:72)(cid:81)(cid:70)(cid:72)(cid:3)(cid:82)(cid:73)(cid:3)(cid:49)(cid:72)(cid:76)(cid:74)(cid:75)(cid:69)(cid:82)(cid:85)(cid:237)(cid:53)(cid:82)(cid:90)(cid:3)(cid:51)(cid:76)(cid:91)(cid:72)(cid:79)(cid:3)(cid:57)(cid:68)(cid:79)(cid:88)(cid:72)(cid:86)\n(cid:20)(cid:19)(cid:19)\n(cid:21)(cid:19)(cid:19)\nKeywords—CMOS image sensor, low-power, SAR ADC, com-\nmon MSBs, prediction scheme\nFig. 1. Distribution graph of neighbor-row-pixel difference for an image\n(Lena 512×512). The difference is mainly located in the range from -50 to\n50 within [-255,255] full scale. The graph of blue-color bar is the distribution\nratio of pixels in total pixels of a frame, and red-color curve is the enveloped\nGaussian curve.\nI.\nINTRODUCTION\nThe concept of smart cameras has evolved from simple\ndevices to today’s complex vision systems over the past\ndecades. The broad range of applications has been realized in\nmany different markets, including sensor networks, consumer\nelectronics, digital surveillance, biomedical imaging and star\ntrackers[1][2].\nSection IV describes the simulation and experimental results.\nFinally, conclusions are drawn in Section V.\nII. ALGORITHM CONSIDERATION\nIntegration of column-parallel analog-to-digital\n(ADC)\ntechnology on the CMOS image sensor has become a norm,\nin particular for consumer electronics. The expansion of this\nmarkets has continuously driven the design technologies to-\nward higher performance but low-power consumption. Readout\ncircuits, in particular column-parallel ADC, play a key role in\nthe total power consumption of a CMOS image sensor. In an\nimage sensor, traditional A/D conversions operate in the same\nmanner, repeating across row to row, column to column, and\nframe to frame, regardless the property of the scene[3][4][5].\nConsidering the property of spatial likelihood in natural\nscenes, hundreds of natural images were simulated to calculate\nthe differences in neighbor-row pixels through the Matlab\nprogram. The high similarity of neighbor-pixel values was\nrealized, as a group of pixels are occupied by the same object\nin a scene. And the differences distribute around a value of\n0. The simulation result of one example (Lena 512×512) is\nshown in Fig. 1, where the pixel differences mainly locate at\n[-50,50] range with a full-scale value from -255 to 255. This\nmeans that the differences are mainly contributed by the least\nsigniﬁcant bits (LSBs) in terms of digital expression of pixel\nvalues.\nIn this paper, a prediction scheme is proposed that leverages\nthe spatial likelihood of natural scenes to achieve a low-power\ncolumn-parallel ADC system. For the selected-row pixels in\na frame, their most signiﬁcant bits (MSBs) are predicted by\nprevious-row pixels, where the A/D conversion steps originally\napplied for the predicted MSBs are disabled. This enables\nsigniﬁcant savings on the total A/D conversion steps and power\nconsumption of the column-parallel ADC system.\nThe algorithm proposed in this paper is a prediction\nscheme, which is based on the strong correlation between\nconsecutive rows in the natural scenes. In an image sensor\nsystem, the prediction scheme operates row by row, and the\nMSBs of each row are predicted by the previous row. In terms\nof one selected pixel, its MSBs are predicted by using its\nneighbor pixels in the previous row, which is illustrated in\nFig 2(a). The pixel D is the selected pixel, and pixel A, B and\nThe rest of this paper is organized as follows: Section II\nintroduces the algorithm for this prediction scheme. Section\nIII illustrates the image sensor architecture and ADC circuitry.\n(cid:857)(cid:857)\n(cid:90)(cid:75)(cid:116)(cid:3)(cid:894)(cid:374)(cid:882)(cid:1005)(cid:895)\n(cid:856)(cid:856)(cid:856)\n(cid:857)(cid:856)(cid:856)\n|(cid:87)(cid:349)(cid:454)(cid:286)(cid:367)(cid:3)(cid:4)|(cid:87)(cid:349)(cid:454)(cid:286)(cid:367)(cid:3)(cid:17)|(cid:87)(cid:349)(cid:454)(cid:286)(cid:367)(cid:3)(cid:18)|\n||(cid:87)(cid:349)(cid:454)(cid:286)(cid:367)(cid:3)(cid:24)|||(cid:90)(cid:75)(cid:116)(cid:3)(cid:94)(cid:18)(cid:4)(cid:69)(cid:69)(cid:28)(cid:90)(cid:3)||(cid:857)(cid:857) (cid:87)(cid:349)(cid:454)(cid:286)(cid:367)(cid:3)(cid:4)(cid:396)(cid:396)(cid:258)(cid:455) (cid:857)(cid:857) (cid:115)(cid:24)(cid:24) (cid:90)(cid:94)(cid:100) (cid:100)(cid:121) (cid:90)(cid:94)(cid:62) (cid:1008)(cid:882)(cid:100)(cid:3)(cid:87)(cid:47)(cid:121)(cid:28)(cid:62)|\n|None|(cid:857)(cid:857)(cid:856)(cid:856)|None|(cid:90)(cid:75)(cid:116)(cid:3)(cid:894)(cid:374)(cid:895)\n(cid:857)(cid:856)(cid:856)\n(cid:856)(cid:856)(cid:856)\n(cid:11)(cid:68)(cid:12) (cid:36)(cid:39)(cid:38) (cid:70)(cid:82)(cid:81)(cid:89)(cid:72)(cid:85)(cid:86)(cid:76)(cid:82)(cid:81) (cid:82)(cid:73) (cid:51)(cid:76)(cid:91)(cid:72)(cid:79) (cid:39) (cid:76)(cid:86) (cid:69)(cid:68)(cid:86)(cid:72)(cid:71) (cid:82)(cid:81)\n(cid:83)(cid:85)(cid:72)(cid:89)(cid:76)(cid:82)(cid:88)(cid:86)(cid:16)(cid:85)(cid:82)(cid:90) (cid:51)(cid:76)(cid:91)(cid:72)(cid:79) (cid:11)(cid:36)(cid:15) (cid:37)(cid:15) (cid:38)(cid:12) (cid:85)(cid:72)(cid:86)(cid:88)(cid:79)(cid:87)(cid:86)(cid:17)\n|None|(cid:1005) (cid:1004) (cid:1005) (cid:1005) (cid:1004) (cid:1005) (cid:1005) (cid:1004) (cid:1005)|None|None|None|None|None|None|None|None|\n|(cid:18)(cid:381)(cid:373)(cid:373)(cid:381)(cid:374)(cid:3)(cid:68)(cid:94)(cid:17)(cid:400)(cid:3) (cid:894)(cid:373)(cid:3)(cid:271)(cid:349)(cid:410)(cid:400)(cid:3)(cid:895)|(cid:1005)|(cid:1004)|(cid:1005)|(cid:1004)|(cid:121)|(cid:121)|(cid:121)|(cid:121)|(cid:121)|\n|None|(cid:1005)|(cid:1004) (cid:1005)|None|None|None|None|None|None|None||(cid:18)(cid:24)(cid:94)(cid:3)(cid:920)(cid:3)(cid:94)(cid:876)(cid:44)|(cid:94)(cid:876)(cid:44) (cid:18)(cid:24)(cid:94)||(cid:18)\n(cid:75)\n(cid:69)\n(cid:100)\n(cid:90)\n(cid:75)\n(cid:62)\n(cid:62)\n(cid:28)\n(cid:90)\n|(cid:18)(cid:381)(cid:367)(cid:437)(cid:373)(cid:374)(cid:882) (cid:87)(cid:258)(cid:396)(cid:258)(cid:367)(cid:367)(cid:286)(cid:367)(cid:3) (cid:94)(cid:4)(cid:90)(cid:3)(cid:4)(cid:24)(cid:18)||(cid:3)(cid:894)(cid:271)(cid:895)(cid:3)(cid:38)(cid:82)(cid:80)(cid:80)(cid:82)(cid:81)(cid:16)(cid:48)(cid:54)(cid:37) (cid:82)(cid:73) (cid:83)(cid:76)(cid:91)(cid:72)(cid:79) (cid:11)(cid:36)(cid:15) (cid:37)(cid:15) (cid:38)(cid:12) (cid:76)(cid:86)\n(cid:72)(cid:86)(cid:87)(cid:76)(cid:80)(cid:68)(cid:87)(cid:72)(cid:71) (cid:68)(cid:86) (cid:85)(cid:72)(cid:73)(cid:72)(cid:85)(cid:72)(cid:81)(cid:70)(cid:72) (cid:89)(cid:82)(cid:79)(cid:87)(cid:68)(cid:74)(cid:72) (cid:79)(cid:72)(cid:89)(cid:72)(cid:79)(cid:17)\nFig. 2.\n(a) Operating principle of using previous-row pixel data to predict\nMSBs for a selected pixel. (b) Methodology of generating predicted MSBs\nfor a selected pixel.\n|(cid:68)(cid:28)(cid:68)(cid:3)(cid:1005)|||(cid:3)\n(cid:1013)(cid:271)\n|(cid:68)(cid:28)(cid:68)(cid:3)(cid:1006)|||(cid:94)(cid:100)(cid:4)(cid:90)(cid:100)\n(cid:115)(cid:24)(cid:4)(cid:18)\n(cid:39)(cid:286)(cid:374)(cid:286)(cid:396)(cid:258)(cid:410)(cid:286)(cid:3)(cid:373)(cid:882)(cid:271)(cid:349)(cid:410)(cid:3)\n(cid:272)(cid:381)(cid:373)(cid:373)(cid:381)(cid:374)(cid:882)(cid:68)(cid:94)(cid:17)(cid:400)\nFig. 4. Block Diagram of the CMOS image sensor with prediction scheme.\n(cid:856)(cid:856)(cid:856)(cid:856)(cid:856)\n(cid:115)(cid:396)(cid:286)(cid:296)\n(cid:17)(cid:1004)(cid:894)(cid:62)(cid:94)(cid:17)(cid:895)\n(cid:17)(cid:1012)(cid:894)(cid:68)(cid:94)(cid:17)(cid:895) (cid:17)(cid:1011)\n(cid:17)(cid:1010)\n(cid:17)(cid:1009)\n(cid:4)(cid:24)(cid:18)(cid:3)\n(cid:87)(cid:396)(cid:286)(cid:400)(cid:286)(cid:410)(cid:410)(cid:349)(cid:374)(cid:336)\n(cid:894)(cid:373)(cid:882)(cid:1005)(cid:895)\n(cid:272)(cid:381)(cid:373)(cid:373)(cid:381)(cid:374)(cid:882)(cid:68)(cid:94)(cid:17)(cid:400)\n(cid:1005)(cid:1004)\n(cid:115)(cid:349)(cid:374)(cid:1005)\n(cid:856)(cid:856)(cid:856)(cid:856)(cid:856)\n(cid:1074)(cid:3)(cid:115)(cid:396)(cid:286)(cid:296)\nscenes, the pixel difference between neighbor rows is small and\ntherefore in most cases the predication is correct and no further\nA/D conversion steps are needed for the MSBs. In the case of\nfailure, however, the ADC should start over and run a complete\n(MSBs+LSBs)-bit conversion steps. Two examples are shown\nin Fig. 3(b), two analog inputs namely Vin1 and Vin2, starting\nfrom the same predicted MSBs, 101XXXXXX. After last bit\nconversion, Vin1’s MSBs were found to be predicted corrected,\nwhile Vin2 has to discard the predicted MSBs as incorrect\nprediction.\n(cid:4)(cid:374)(cid:258)(cid:367)(cid:381)(cid:336)(cid:882)(cid:410)(cid:381)(cid:882)\n(cid:24)(cid:349)(cid:336)(cid:349)(cid:410)(cid:258)(cid:367)(cid:3)\n(cid:18)(cid:381)(cid:374)(cid:448)(cid:286)(cid:396)(cid:400)(cid:349)(cid:381)(cid:374)\n|||\n|||(cid:1005)(cid:1004)(cid:1005)\n(cid:1005)\n(cid:1066)(cid:3)(cid:115)(cid:396)(cid:286)(cid:296)\n(cid:94)(cid:28)(cid:18)(cid:75)(cid:69)(cid:24)(cid:3)\n(cid:18)(cid:122)(cid:18)(cid:62)(cid:28)(cid:3)(cid:845)\n(cid:115)(cid:349)(cid:374)(cid:1006)\n(cid:122)(cid:28)(cid:94)\n(cid:878)(cid:115)(cid:349)(cid:374)(cid:884)(cid:115)(cid:4)(cid:24)(cid:18)(cid:878)(cid:3)(cid:1093)(cid:3)(cid:115)(cid:62)(cid:94)(cid:17)(cid:3)(cid:845)\n(cid:1068)(cid:3)(cid:115)(cid:396)(cid:286)(cid:296)\n(cid:100)(cid:47)(cid:68)(cid:28)\n(cid:69)(cid:75)\n(cid:410)(cid:1089)(cid:1004)\n(cid:75)(cid:104)(cid:100)(cid:87)(cid:104)(cid:100)(cid:3)(cid:24)(cid:4)(cid:100)(cid:4)\n(cid:11)(cid:69)(cid:12) (cid:54)(cid:36)(cid:53) (cid:70)(cid:82)(cid:81)(cid:89)(cid:72)(cid:85)(cid:86)(cid:76)(cid:82)(cid:81) (cid:86)(cid:87)(cid:68)(cid:85)(cid:87)(cid:86) (cid:68)(cid:87) (cid:37)(cid:24) (cid:76)(cid:81) (cid:87)(cid:72)(cid:85)(cid:80)(cid:86) (cid:82)(cid:73) (cid:68) (cid:28)(cid:69) (cid:36)(cid:39)(cid:38)(cid:17)\n(cid:894)(cid:258)(cid:895)\nFor a selected row, each pixel has different predicted MSBs\nand its starting point of A/D conversion for the left LSBs is\nalso different. That means the architecture of ADC required in\nthis application should be able to start A/D conversion from\ndifferent reference level, without affecting the ADC resolution.\nSuccessive approximation register (SAR) ADC will be the\nbest choice for this proposed prediction scheme comparing\nwith other architectures, as its operating algorithm is based on\nbinary search trees [6].\nFig. 3.\n(a) Operating algorithm of the ADC system based on the prediction\nscheme. (b) The detail 9-bit SAR ADC conversion steps with predicted MSBs\n(101XXXXXX).\nC are the neighbor pixels in the previous row.\nAs the differences of neighbor-row pixels are mainly con-\ntributed by LSBs, the common MSBs of neighbor pixels in\nthe previous row can be assigned as the predicted MSBs for\nthe selected pixel. In order to increase the accuracy of this\nprediction scheme, one bit less of the common MSBs are\nassigned as the predicted MSBs. As shown in Fig 2(b), the\npredicted MSBs (101XXXXXX ) for pixel D are one bit less\nthan common MSBs (1010XXXXX) of pixel A, B and C.\nIII.\nIMAGE SENSOR ARCHITECTURE\nFig. 4 shows the block diagram and the signal path of a\nCMOS image sensor with the proposed algorithm. It consists\nof a 98×98 pixel array (4-T APS), a correlated double sam-\npling (CDS) and sample-hold (S/H) circuitry, a column-parallel\nSAR ADC array and two sets of memories. One memory is\nused to store the A/D conversion data for readout, the other\none is used for the prediction scheme. The row scanner and\ncontroller provide all the control signals to the whole image\nsensor system.\nThe operating principle of this prediction scheme is il-\nlustrated in Fig. 3. According to the operating algorithm as\nshown in Fig. 3(a), for a selected pixel, its MSBs are ﬁrst\nestimated and preset into the ADC. Later the conventional A/D\nconversion steps are used to derive its left LSBs. At the end,\nthe correctness of the prediction is evaluated, by checking the\ndifference of the corresponding analog value of the complete\nADC output including the predicated MSBs (VADC ), and\nthe analog input (Vin). If the prediction is successful, their\ndifference shall be smaller than the corresponding analog\nvalue of one LSB (VLSB). As stated above, in most natural\nA. Architecture of SAR ADC\nFig. 5(a) shows the simpliﬁed block diagram of a SAR\nADC system with the proposed prediction scheme. Only\n(cid:100)(cid:1005)(cid:1005)\n(cid:100)(cid:1005)(cid:1006)\n(cid:100)(cid:1006)\n(cid:100)(cid:1013)\n(cid:100)(cid:1005)(cid:1004)\n(cid:100)(cid:1005)(cid:1013)\n(cid:100)(cid:1004)\n(cid:100)(cid:1005)\n(cid:53)(cid:72)(cid:86)(cid:72)(cid:87)\n(cid:53)(cid:72)(cid:86)(cid:72)(cid:87)\n(cid:857)(cid:856)(cid:856)\n(cid:857)(cid:856)(cid:856)\n(cid:94)(cid:876)(cid:44)\n(cid:57)(cid:76)(cid:81)\n(cid:57)(cid:86)(cid:75)\n(cid:94)(cid:4)(cid:90)(cid:3)\n(cid:18)(cid:381)(cid:374)(cid:410)(cid:396)(cid:381)(cid:367)\n(cid:62)(cid:381)(cid:336)(cid:349)(cid:272)\n(cid:18)(cid:381)(cid:396)(cid:396)(cid:286)(cid:272)(cid:410)(cid:882)\n(cid:28)(cid:400)(cid:410)(cid:349)(cid:373)(cid:258)(cid:410)(cid:349)(cid:381)(cid:374)(cid:3)\n(cid:24)(cid:286)(cid:410)(cid:286)(cid:272)(cid:410)(cid:381)(cid:396)\n(cid:18)(cid:381)(cid:373)(cid:882)(cid:68)(cid:94)(cid:17)(cid:3)\n(cid:39)(cid:286)(cid:374)(cid:286)(cid:396)(cid:258)(cid:410)(cid:381)(cid:396)\n(cid:24)(cid:4)(cid:18)\n(cid:55)(cid:19)\n(cid:55)(cid:20)(cid:178)(cid:55)(cid:28)\n(cid:29) (cid:51)(cid:85)(cid:72)(cid:86)(cid:72)(cid:87) (cid:87)(cid:75)(cid:72) (cid:11)(cid:80)(cid:16)(cid:20)(cid:12) (cid:69)(cid:76)(cid:87)(cid:86) (cid:70)(cid:82)(cid:80)(cid:80)(cid:82)(cid:81)(cid:16)(cid:48)(cid:54)(cid:37) (cid:76)(cid:81)(cid:87)(cid:82) (cid:39)(cid:36)(cid:38)\n(cid:29) (cid:54)(cid:88)(cid:70)(cid:70)(cid:72)(cid:86)(cid:86)(cid:76)(cid:89)(cid:72) (cid:36)(cid:83)(cid:83)(cid:85)(cid:82)(cid:91)(cid:76)(cid:80)(cid:68)(cid:87)(cid:76)(cid:82)(cid:81) (cid:38)(cid:82)(cid:81)(cid:89)(cid:72)(cid:85)(cid:86)(cid:76)(cid:82)(cid:81)\n(cid:48)(cid:54)(cid:37)(cid:62)(cid:80)(cid:64)\n(cid:57)(cid:71)(cid:68)(cid:70)\n(cid:39)(cid:62)(cid:81)(cid:14)(cid:20)(cid:64)\n(cid:54)(cid:62)(cid:81)(cid:14)(cid:20)(cid:64)\n(cid:11)(cid:44)(cid:73) (cid:87)(cid:75)(cid:72)(cid:85)(cid:72) (cid:68)(cid:85)(cid:72) (cid:23)(cid:69) (cid:70)(cid:82)(cid:80)(cid:80)(cid:82)(cid:81) (cid:48)(cid:54)(cid:37)(cid:86) (cid:83)(cid:85)(cid:72)(cid:86)(cid:72)(cid:87) (cid:76)(cid:81)(cid:87)(cid:82) (cid:39)(cid:36)(cid:38)(cid:15) (cid:87)(cid:75)(cid:72)(cid:81) (cid:82)(cid:81)(cid:79)(cid:92) (cid:55)(cid:24) (cid:87)(cid:82)\n(cid:55)(cid:28) (cid:68)(cid:85)(cid:72) (cid:88)(cid:86)(cid:72)(cid:71)(cid:15) (cid:68)(cid:81)(cid:71) (cid:36)(cid:39)(cid:38) (cid:88)(cid:86)(cid:72) (cid:87)(cid:75)(cid:72) (cid:23)(cid:69) (cid:70)(cid:82)(cid:80)(cid:80)(cid:82)(cid:81)(cid:16)(cid:48)(cid:54)(cid:37) (cid:71)(cid:88)(cid:85)(cid:76)(cid:81)(cid:74) (cid:55)(cid:20) (cid:87)(cid:82) (cid:55)(cid:23)(cid:12)\n(cid:894)(cid:258)(cid:895)(cid:3)\n(cid:55)(cid:20)(cid:19)\n(cid:29) (cid:39)(cid:72)(cid:87)(cid:72)(cid:85)(cid:80)(cid:76)(cid:81)(cid:72) (cid:87)(cid:75)(cid:72) (cid:70)(cid:82)(cid:85)(cid:85)(cid:72)(cid:70)(cid:87)(cid:81)(cid:72)(cid:86)(cid:86) (cid:82)(cid:73) (cid:83)(cid:85)(cid:72)(cid:71)(cid:76)(cid:70)(cid:87)(cid:76)(cid:82)(cid:81) (cid:86)(cid:70)(cid:75)(cid:72)(cid:80)(cid:72)\n(cid:11)(cid:44)(cid:73) (cid:54)(cid:66)(cid:71)(cid:88)(cid:80) (cid:75)(cid:68)(cid:86) (cid:86)(cid:68)(cid:80)(cid:72) (cid:89)(cid:68)(cid:79)(cid:88)(cid:72) (cid:68)(cid:86) (cid:54)(cid:19)(cid:15) (cid:76)(cid:87) (cid:76)(cid:86) (cid:90)(cid:85)(cid:82)(cid:81)(cid:74) (cid:72)(cid:86)(cid:87)(cid:76)(cid:80)(cid:68)(cid:87)(cid:76)(cid:82)(cid:81)(cid:30)\n(cid:82)(cid:87)(cid:75)(cid:72)(cid:85)(cid:90)(cid:76)(cid:86)(cid:72)(cid:15) (cid:76)(cid:87) (cid:76)(cid:86) (cid:70)(cid:82)(cid:85)(cid:85)(cid:72)(cid:70)(cid:87) (cid:72)(cid:86)(cid:87)(cid:76)(cid:80)(cid:68)(cid:87)(cid:76)(cid:82)(cid:81)(cid:17)(cid:12) (cid:11)(cid:53)(cid:72)(cid:73)(cid:72)(cid:85) (cid:87)(cid:82) (cid:41)(cid:76)(cid:74)(cid:17) (cid:22)(cid:12)\n(cid:115)(cid:890)(cid:62)(cid:381)(cid:449)\n(cid:115)(cid:890)(cid:62)(cid:381)(cid:449)\n(cid:115)(cid:400)(cid:346)\n(cid:18)(cid:17)(cid:1089)(cid:1005)(cid:856)(cid:1004)(cid:1009)(cid:18)\n(cid:55)(cid:20)(cid:20)(cid:178)(cid:55)(cid:20)(cid:28) (cid:29) (cid:36)(cid:81)(cid:82)(cid:87)(cid:75)(cid:72)(cid:85) (cid:54)(cid:88)(cid:70)(cid:70)(cid:72)(cid:86)(cid:86)(cid:76)(cid:89)(cid:72) (cid:36)(cid:83)(cid:83)(cid:85)(cid:82)(cid:91)(cid:76)(cid:80)(cid:68)(cid:87)(cid:76)(cid:82)(cid:81) (cid:38)(cid:82)(cid:81)(cid:89)(cid:72)(cid:85)(cid:86)(cid:76)(cid:82)(cid:81)\n(cid:115)(cid:282)(cid:258)(cid:272)\n(cid:115)(cid:381)(cid:437)(cid:410)\n(cid:11)(cid:44)(cid:73) (cid:76)(cid:87) (cid:76)(cid:86) (cid:90)(cid:85)(cid:82)(cid:81)(cid:74) (cid:72)(cid:86)(cid:87)(cid:76)(cid:80)(cid:68)(cid:87)(cid:76)(cid:82)(cid:81)(cid:15) (cid:55)(cid:20)(cid:20) (cid:87)(cid:82) (cid:55)(cid:20)(cid:28) (cid:68)(cid:85)(cid:72) (cid:88)(cid:86)(cid:72)(cid:71) (cid:73)(cid:82)(cid:85) (cid:68)(cid:81)(cid:82)(cid:87)(cid:75)(cid:72)(cid:85) (cid:36)(cid:18)(cid:39)\n(cid:70)(cid:82)(cid:81)(cid:89)(cid:72)(cid:85)(cid:86)(cid:76)(cid:82)(cid:81) (cid:70)(cid:92)(cid:70)(cid:79)(cid:72)(cid:30) (cid:82)(cid:87)(cid:75)(cid:72)(cid:85)(cid:90)(cid:76)(cid:86)(cid:72)(cid:15) (cid:55)(cid:20)(cid:20) (cid:87)(cid:82) (cid:55)(cid:20)(cid:28) (cid:68)(cid:85)(cid:72) (cid:81)(cid:82)(cid:87) (cid:88)(cid:86)(cid:72)(cid:71)(cid:17)(cid:12)\n(cid:18)\n(cid:1012)(cid:18)\n(cid:94)(cid:1013)\n(cid:1008)(cid:18)\n(cid:18)\n(cid:1012)(cid:18)\n(cid:1008)(cid:18)\n(cid:1006)(cid:18)\n(cid:18)\n(cid:1006)(cid:18)\n(cid:1005)(cid:1010)(cid:18)\n(cid:94)(cid:1004)\n(cid:94)(cid:1005)\n(cid:1005)(cid:1004)(cid:271)\n(cid:115)(cid:890)(cid:62)(cid:381)(cid:449)\n(cid:115)(cid:890)(cid:44)(cid:349)(cid:336)(cid:346)\n|None|||None|||None|||\n|||||||||None|Fig. 6. Conversion-step sequence of the SAR ADC with control logic for\nproposed algorithm.\n(cid:894)(cid:271)(cid:895)\nPERFORMANCE SUMMARY OF THE IMAGE\nTABLE I.\nFig. 5.\nalgorithm. (b) Circuit architecture of the SAR DAC with comparator.\n(a) Block diagrams of a column-parallel SAR ADC with proposed\n0.35μm AMS CIS (2P4M)\n3.5×1.8 mm2/ 35%\n0.33A/W\n11mV/s\n44.12dB\n1.24%\n3.3V\n42.3mV\n9 bits\n2V\n20MHz\n20Mp/s\n(+0.55,-0.91)/(+1.34,-1.8)\n49dB\nProcess technology\nPixel size/Fill Factor\nSensitivity\nDark current\nDynamic range\nFPN\nPower supply\nPower consumption\nADC resolution\nADC input range\nADC clock frequency\nData rate\nADC DNL/INL\nADC SNR\ntwo function blocks, the Com-MSB Generator and Correct-\nEstimation Detector, are added inside the SAR ADC archi-\ntecture. They are used to generate the predicted MSBs and\ndetermine the correctness of predicted scheme respectively.\nThe predicted MSBs are generated before the operation of the\nSAR ADC system, and the correctness of prediction scheme\nis checked after the operation of SAR ADC system. Even\nfor the triggered second A/D conversion, both of them will\nbe disabled. As such, they will have minimum effect on the\noriginal SAR ADC system, like linearity, resolution, effective\nnumber of bits (ENOB), etc.\nFig. 5(b) presents the circuit architecture of the digital-\nto-analog (DAC) in the proposed SAR ADC system. It is a\nsplit-capacitor DAC, and has 48.05 unit capacitors (C) in total\nfor 9-bit resolution. The maximum equivalent load capacitor\nobserved between the top and bottom plate capacitor array is\n32 C. Therefore, the power consumption for the SAR DAC and\nsilicon array is greatly reduced compared with a conventional\nDAC architecture. In addition, the capacitor array here is split\ninto 5-bit/4-bit arrays, with digital control bits from S9 to S1.\nThe extra bit (S0) is used for checking the correctness of the\npredicted MSBs, without affecting the ADC resolution, since\nit is not treated as a quantization output of the ADC.\nIV.\nSIMULATION RESULTS\nA. Power Consumption Analysis\nFor analysis of the power consumption of the SAR ADC\nwith the proposed algorithm, the capacitor switching power\nof the DAC block should be discussed as it contributes the\nmost to total power consumption [7]. The switching energy\nfor each bit is illustrated in Table II, which shows that the\nswitching power is mainly contributed by A/D conversion steps\non MSBs. For the proposed algorithm, the total A/D conversion\nsteps are saved signiﬁcantly, and the MSBs conversion steps\nare saved the most. As such, the capacitor switching power\nsaved for one frame is also signiﬁcant.\nB. Timing Diagram of SAR ADC\nTherefore, several groups of natural scenes were simulated\nby Matlab based on the proposed algorithm. The power con-\nsumption and A/D conversion steps saved are shown in Fig.\n7. Up to 20% to 30% savings on conversion steps, and 20%\nto 35% power saving had achieved for most of the pictures.\nThe timing diagram of the proposed SAR A/D conversion\nis illustrated in Fig. 6. The ﬁrst cycle T0 is used to generate\ncommon-MSBs of the previous row, and (m-1) bits of them\nare assigned as predicted MSBs for the selected row. T1 to\nT9 are 9-bit SAR ADC conversion cycles, and only T5-T9 are\nused for A/D conversion if 4-bit predicted MSBs are assigned\ninside. T10 is used for extra-bit conversion (S0 in Fig. 5(b)),\nwhich is used to check the correctness of the predicted MSBs.\nIf prediction is incorrect, another 9 cycles (T11 to T19) will\nbe required for a new SAR A/D conversion to generate the\naccurate quantization results. Otherwise, T11 to T19 will not\nbe used, and the digital data with predicted MSBs will be\nstored into memory for readout and the next prediction cycle.\nTABLE II.\nSWITCHING POWER OF EACH BIT\n|SwitchedStep|S9|S8|S7|S6|S5|\n|SwitchingPower (CVref2)|8|2|1/2|1/8|1/32|\n|SwitchedStep|S4|S3|S2|S1||\n|SwitchingPower (CVref2)|1/64|1/128|1/256|1/512||||None||None||None||None|(cid:54)(cid:87)(cid:68)(cid:81)(cid:71)(cid:68)(cid:85)(cid:71)(cid:55)(cid:72)(cid:86)(cid:87)(cid:44)(cid:80)(cid:68)(cid:74)(cid:72) (cid:11)(cid:20)(cid:26)(cid:76)(cid:80)(cid:68)(cid:74)(cid:72)(cid:86)(cid:12) (cid:53)(cid:72)(cid:73)(cid:72)(cid:85)(cid:72)(cid:81)(cid:70)(cid:72)(cid:29) (cid:90)(cid:90)(cid:90)(cid:17)(cid:76)(cid:80)(cid:68)(cid:74)(cid:72)(cid:83)(cid:85)(cid:82)(cid:70)(cid:72)(cid:86)(cid:86)(cid:76)(cid:81)(cid:74)(cid:83)(cid:79)(cid:68)(cid:70)(cid:72)(cid:17)(cid:70) (cid:82)(cid:80)(cid:18)(cid:85)(cid:82)(cid:82)(cid:87)(cid:66)(cid:73)(cid:76)(cid:79)(cid:72)(cid:86)(cid:66)(cid:57)(cid:22)(cid:18) (cid:76)(cid:80)(cid:68)(cid:74)(cid:72)(cid:66)(cid:71)(cid:68)(cid:87)(cid:68)(cid:69)(cid:68)(cid:86)(cid:72)(cid:86)(cid:17)(cid:75)(cid:87)(cid:80)|None|\n|None|None|None|None|||||None|None|\n|None|None|None|None|||||None|None|\n|None|None|None|None|(cid:47)(cid:373)(cid:258)(cid:336)(cid:286)(cid:3)(cid:296)(cid:381)(cid:367)(cid:282)(cid:286)(cid:396)(cid:3)(cid:1005)|None|(cid:47)(cid:373)(cid:258)(cid:336)(cid:286)(cid:3)(cid:296)(cid:381)(cid:367)(cid:282)(cid:286)(cid:396)(cid:3)(cid:1006)|None|None|None|\n|(cid:38)(cid:82)(cid:81)(cid:89)(cid:72)(cid:85)(cid:86)(cid:76)(cid:82)(cid:81) (cid:54)(cid:87)(cid:72)(cid:83)(cid:86)(cid:54)(cid:68)(cid:89)(cid:72)(cid:71)|(cid:54)(cid:90)(cid:76)(cid:87)(cid:70)(cid:75)(cid:76)(cid:81)(cid:74) (cid:51)(cid:82)(cid:90)(cid:72)(cid:85)(cid:54)(cid:68)(cid:89)(cid:72)(cid:71)|(cid:38)(cid:82)(cid:81)(cid:89)(cid:72)(cid:85)(cid:86)(cid:76)(cid:82)(cid:81) (cid:54)(cid:87)(cid:72)(cid:83)(cid:86)(cid:54)(cid:68)(cid:89)(cid:72)(cid:71)|(cid:54)(cid:90)(cid:76)(cid:87)(cid:70)(cid:75)(cid:76)(cid:81)(cid:74) (cid:51)(cid:82)(cid:90)(cid:72)(cid:85)(cid:54)(cid:68)(cid:89)(cid:72)(cid:71)|(cid:36)(cid:89)(cid:72)(cid:85)(cid:68)(cid:74)(cid:72) (cid:38)(cid:82)(cid:81)(cid:89)(cid:72)(cid:85)(cid:86)(cid:76)(cid:82)(cid:81) (cid:54)(cid:87)(cid:72)(cid:83)(cid:86)(cid:54)(cid:68)(cid:89)(cid:72)(cid:71)|(cid:36)(cid:89)(cid:72)(cid:85)(cid:68)(cid:74)(cid:72) (cid:54)(cid:90)(cid:76)(cid:87)(cid:70)(cid:75)(cid:76)(cid:81)(cid:74) (cid:51)(cid:82)(cid:90)(cid:72)(cid:85)(cid:54)(cid:68)(cid:89)(cid:72)(cid:71)|(cid:36)(cid:89)(cid:72)(cid:85)(cid:68)(cid:74)(cid:72) (cid:38)(cid:82)(cid:81)(cid:89)(cid:72)(cid:85)(cid:86)(cid:76)(cid:82)(cid:81) (cid:54)(cid:87)(cid:72)(cid:83)(cid:86)(cid:54)(cid:68)(cid:89)(cid:72)(cid:71)|(cid:36)(cid:89)(cid:72)(cid:85)(cid:68)(cid:74)(cid:72) (cid:54)(cid:90)(cid:76)(cid:87)(cid:70)(cid:75)(cid:76)(cid:81)(cid:74) (cid:51)(cid:82)(cid:90)(cid:72)(cid:85)(cid:54)(cid:68)(cid:89)(cid:72)(cid:71)|(cid:36)(cid:89)(cid:72)(cid:85)(cid:68)(cid:74)(cid:72) (cid:38)(cid:82)(cid:81)(cid:89)(cid:72)(cid:85)(cid:86)(cid:76)(cid:82)(cid:81) (cid:54)(cid:87)(cid:72)(cid:83)(cid:86)(cid:54)(cid:68)(cid:89)(cid:72)(cid:71)|(cid:36)(cid:89)(cid:72)(cid:85)(cid:68)(cid:74)(cid:72) (cid:54)(cid:90)(cid:76)(cid:87)(cid:70)(cid:75)(cid:76)(cid:81)(cid:74) (cid:51)(cid:82)(cid:90)(cid:72)(cid:85)(cid:54)(cid:68)(cid:89)(cid:72)(cid:71)|\n|(cid:21)(cid:22)(cid:17)(cid:26)(cid:21)(cid:8)|(cid:21)(cid:22)(cid:17)(cid:26)(cid:21)(cid:8)|(cid:21)(cid:22)(cid:17)(cid:26)(cid:21)(cid:8)|(cid:21)(cid:22)(cid:17)(cid:26)(cid:21)(cid:8)|(cid:21)(cid:22)(cid:17)(cid:26)(cid:21)(cid:8)|(cid:21)(cid:22)(cid:17)(cid:26)(cid:21)(cid:8)|(cid:21)(cid:22)(cid:17)(cid:26)(cid:21)(cid:8)|(cid:21)(cid:22)(cid:17)(cid:26)(cid:21)(cid:8)|(cid:21)(cid:22)(cid:17)(cid:26)(cid:21)(cid:8)|(cid:21)(cid:22)(cid:17)(cid:26)(cid:21)(cid:8)|Fig. 7. Conversion cycles and switching power saved based on prediction scheme compared with traditional SAR ADC operation (a N-bit SAR ADC has N\nA/D conversion steps in traditional way). Image folder 1 contains 62 photos taken at Singapore Zoo, image folder 2 contains 47 images taken at Venice.\n(cid:1007)(cid:856)(cid:1009)(cid:3)(cid:373)(cid:373)\nV. CONCLUSION\nPixel Size:\n10.4umx10.4um 963.5 um\n\n98x98 cps COLUMN |MEM\nPixel Array SAR ADC ]1&2\n\na\nSCANNER CONTROLLER\n\n+ suneweie’\n\n(cid:87)(cid:349)(cid:454)(cid:286)(cid:367)(cid:3)(cid:94)(cid:349)(cid:460)(cid:286)(cid:855)\n(cid:1005)(cid:1004)(cid:856)(cid:1008)(cid:437)(cid:373)(cid:454)(cid:1005)(cid:1004)(cid:856)(cid:1008)(cid:437)(cid:373)\nA CMOS image sensor with the proposed prediction\nscheme that leverages spatial likelihood in natural scenes is\npresented in this paper. This proposed algorithm is imple-\nmented in a compact 9-bit column-parallel SAR ADC system,\nwhere a redundant bit was introduced inside to check the cor-\nrectness of this prediction scheme. The simulation results show\nthat it can achieve 20%-30% savings in total A/D conversion\ncycles and 20%-35% savings in switching power of the SAR\nDAC. Furthermore, the experiment results showed that total\npower consumption is reduced by up to 22% compared to an\nimage system without the prediction scheme.\n(cid:1013)(cid:1010)(cid:1007)(cid:856)(cid:1009)(cid:3)(cid:437)(cid:373)\n|(cid:1013)(cid:1012)(cid:454)(cid:1013)(cid:1012) (cid:87)(cid:349)(cid:454)(cid:286)(cid:367)(cid:3)(cid:4)(cid:396)(cid:396)(cid:258)(cid:455)|(cid:18)(cid:24)(cid:94)|(cid:18)(cid:75)(cid:62)(cid:104)(cid:68)(cid:69) (cid:94)(cid:4)(cid:90)(cid:3)(cid:4)(cid:24)(cid:18)|(cid:68)(cid:28)(cid:68)(cid:3) (cid:1005)(cid:3)(cid:920)(cid:3)(cid:1006)|\n|(cid:94)(cid:18)(cid:4)(cid:69)(cid:69)(cid:28)(cid:90)|(cid:17)(cid:47)(cid:4)(cid:94)(cid:3) (cid:18)(cid:47)(cid:90)(cid:18)(cid:104)(cid:47)(cid:100)|(cid:18)(cid:75)(cid:69)(cid:100)(cid:90)(cid:75)(cid:62)(cid:62)(cid:28)(cid:90)(cid:3)|None|(cid:373)\n(cid:373)\n(cid:1012)\n(cid:1005)\n(cid:3)\n(cid:856)\nFig. 8. Chip microphotograph. Die size is 3.5 × 1.8 mm2.\nVI. ACKNOWLEDGEMENT\nes ee ee ee ee ee ee\n|(cid:87)(cid:258)(cid:396)(cid:258)(cid:373)(cid:286)(cid:410)(cid:286)(cid:396)|(cid:94)(cid:258)(cid:448)(cid:286)(cid:282)|\n|(cid:24)(cid:1012)|(cid:1009)(cid:1004)(cid:856)(cid:1011)(cid:1009)(cid:1081)|\n|(cid:24)(cid:1011)|(cid:1006)(cid:1012)(cid:856)(cid:1009)(cid:1007)(cid:1081)|\n|(cid:24)(cid:1010)|(cid:1006)(cid:1004)(cid:856)(cid:1004)(cid:1009)(cid:1081)|\n|(cid:24)(cid:1009)|(cid:1005)(cid:1010)(cid:856)(cid:1004)(cid:1004)(cid:1081)|\n|(cid:24)(cid:1008)|(cid:1005)(cid:1008)(cid:856)(cid:1011)(cid:1006)(cid:1081)|\n|(cid:24)(cid:1007)|(cid:1005)(cid:1008)(cid:856)(cid:1006)(cid:1006)(cid:1081)|\n|(cid:24)(cid:1006)|(cid:1005)(cid:1007)(cid:856)(cid:1012)(cid:1009)(cid:1081)|\n|(cid:24)(cid:1005)|(cid:1005)(cid:1007)(cid:856)(cid:1011)(cid:1007)(cid:1081)|\n|(cid:24)(cid:1004)|(cid:882)(cid:1009)(cid:856)(cid:1011)(cid:1006)(cid:1081)|This work was\nsupported by ACRF Project grant\n(M4020153.040).\nREFERENCES\nJ. F¨urtler, E. Bodenstorfer, M. Rubik, K. J. Mayer, J. Brodersen, and\nC. Eckel, High-Performance Smart Cameras. Springer, 2010.\n[1]\n[2] X. Qian, H. Yu, S. Chen, and K. S. Low, “An adaptive integration time\ncmos image sensor with multiple readout channels for star trackers,” in\nIEEE,\nSolid-State Circuits Conference (A-SSCC), 2013 IEEE Asian.\n2013, pp. 101–104.\n[3] D. G. Chen, F. Tang, and A. Bermak, “A low-power pilot-dac based\ncolumn parallel 8b sar adc with forward error correction for cmos image\nsensors,” Circuits and Systems I: Regular Papers, IEEE Transactions on,\nvol. 60, no. 10, pp. 2572–2583, 2013.\nFig. 9. Sample image taken by the prototype CMOS image sensor. Conversion\nsteps saved is 18.57%, and switching power saved is 22.36%.\n[4] M. F. Snoeij, A. J. Theuwissen, K. A. Makinwa, and J. H. Huijsing,\n“Multiple-ramp column-parallel adc architectures for cmos image sen-\nsors,” Solid-State Circuits, IEEE Journal of, vol. 42, no. 12, pp. 2968–\n2977, 2007.\nB. Experimental Results\n[5] T. Randall, I. Mahbub, and S. K. Islam, “A low power auto-reconﬁgurable\npipelined adc for implantable biomedical applications,” in Sensors, 2013\nIEEE.\nA CMOS image sensor with the column-parallel SAR ADC\nsystem for this prediction scheme was implemented with 0.35\nμm AMS CIS (2P4M) technology. The die micrograph of\nthe fabricated sensor chip is shown in Fig. 8. The sample\nimage taken by this fabricated image sensor is shown in Fig.\n9. The power consumption for this image is saved up to\n22.36% compared to a traditional design without this predic-\ntion scheme. The measured performance of the implemented\nsensor is summarized in Table I.\nIEEE, 2013, pp. 1–4.\n[6] W.-S. Liew, L. Yao, and Y. Lian, “A moving binary search sar-adc for\nlow power biomedical data acquisition system,” in Circuits and Systems,\nIEEE, 2008,\n2008. APCCAS 2008. IEEE Asia Paciﬁc Conference on.\npp. 646–649.\n[7] B. P. Ginsburg, “Energy-efﬁcient analog-to-digital conversion for ultra-\nwideband radio,” Ph.D. dissertation, Massachusetts Institute of Technol-\nogy, 2007.\n']",
Low-Noise In-Pixel Comparing Active Pixel Sensor Using Column-Level Single-Slope.pdf,"[""IEEE TRANSACTIONS ON ELECTRON DEVICES, VOL. 55, NO. 12, DECEMBER 2008\n3383\nLow-Noise In-Pixel Comparing Active Pixel Sensor\nUsing Column-Level Single-Slope ADC\nDongmyung Lee, Student Member, IEEE, Kunhee Cho, Student Member, IEEE,\nDongsoo Kim, Student Member, IEEE, and Gunhee Han, Member, IEEE\narea. The use of high-gain column ampliﬁers enhances the\nsensitivity of CMOS APSs and reduces the readout noise and\nquantization noise from the ADC, but it reduces the dynamic\nrange of the sensors due to the saturation of the ampliﬁers and\nresults in high power consumption.\nAbstract—A conventional active pixel sensor (APS) uses a\nsource follower (SF) in a pixel as a buffer. This SF is one of the\nmajor causes of nonlinearity, sensitivity degradation, and pixel\nreadout noise. The proposed in-pixel comparing APS uses pixel\ntransistors as a part of comparator for a single-slope ADC instead\nof using them as an SF. The prototype sensor was fabricated\nusing a 0.35-μm 2P3M CMOS process. Experimental results show\n15-times linearity improvement, 26% sensitivity enhancement,\nand 33% noise reduction over the conventional APS.\nDigital pixel sensor does not require the SF as a buffer\nbecause it performs A/D conversion in the pixel [12], [13].\nAlthough it achieves high SNR and readout speed, it is not\napplicable to the mobile consumer electronics due to its large\npixel size and high power consumption.\nIndex Terms—CMOS active pixel sensor (APS), column-level\nADC, readout noise, source follower (SF).\nIn-pixel correlated double sampling (CDS) also eliminates\nthe SF and provides low-power consumption and low readout\nnoise [14]. However, it requires large pixel area as well.\nI. INTRODUCTION\nC MOS ACTIVE pixel sensors (APSs) have been widely\nThis paper proposes an in-pixel comparing APS (ICAPS)\nthat uses pixel transistors as a part of comparator for a column-\nlevel single-slope ADC instead of using them as an SF to\nimprove the nonidealities without any pixel area overhead.\nSection II describes the architecture and the operation principle\nof the conventional APS and the proposed ICAPS. Section III\npresents the performance analysis in terms of linearity, sensi-\ntivity, noise, and readout speed. Section IV presents the experi-\nmental results, followed by conclusion in Section V.\nused due to their advantages of low-voltage, low-power,\nand on-chip integration capability [1]. There are three on-chip\nADC architectures for CMOS APSs: chip-level, pixel-level,\nand column-level ADCs. Among these architectures, column-\nlevel ADC is the most widely used in CMOS APSs for mobile\napplications because of its high throughput and low-power\nconsumption [2]. CMOS APSs using the column-level ADC\ninclude a source follower (SF) in a pixel as a buffer from the\nﬂoating diffusion (FD) node to the column line. Although the\nvoltage readout through the SF improves the sensor readout\nspeed and the signal-to-noise ratio (SNR) compared to the\ncharge readout as in passive pixel sensors, the SF introduces\nnonidealities such as nonlinearity, sensitivity degradation, and\nnoise [3]–[5].\nII. ARCHITECTURE AND OPERATION PRINCIPLE\nThe pixel readout circuit and timing diagram of the con-\nventional APS using a column-level single-slope ADC which\nemploys digital CDS are shown in Fig. 1 [15]. During Φ1, M2\nis turned off, and light induced electrons are accumulated in the\nphotodiode (PD). When a pixel is selected for readout, RST is\npulsed to reset the FD node. The FD node potential is read out\nthrough the SF, which is composed of M3, M4, and ISF. The\nsingle-slope A/D conversion is then carried out with the ramp\nsignal VRAMP. The A/D converted reset level Drst is stored in\nmemory1. After that, TG is pulsed to transfer the integrated\ncharge in the PD into the FD node. The readout through the\nSF and A/D conversion for the sensor signal is then performed\nagain in the same manner, and the result Dsen is stored in\nmemory2. The difference between the two memory contents is\nthe light induced signal.\nUnity gain ampliﬁer can be employed instead of the SF\nto improve the linearity and sensitivity [3], but it adds more\nreadout noise compared to the SF while dissipating power\ncomparable to the SF.\nMultiple sampling techniques [6]–[8] and gain-adaptive col-\numn ampliﬁers [9]–[11] can be employed to reduce the readout\nnoise. Although multiple sampling techniques are widely used\nto achieve wide dynamic range, as well as readout noise reduc-\ntion, they require additional memories, resulting in large silicon\nManuscript received May 13, 2008; revised August 22, 2008. Current version\npublished November 26, 2008. This work was supported in part by the Ministry\nof Knowledge Economy (MKE), Korea, under the Information Technology\nResearch Center (ITRC) support program supervised by the Institute for Infor-\nmation Technology Advancement [(IITA); IITA-2008-(C1090-0801-0012)] and\nin part by Samsung Electronics Co. Ltd. The review of this paper was arranged\nby Editor J. Tower.\nThe SF as a voltage buffer introduces several nonidealities\nsuch as nonlinearity, sensitivity degradation, and readout noise,\nas discussed in the next section.\nThe proposed ICAPS removes the SF by using two pixel tran-\nsistors M3 and M4 as a part of comparator instead of using them\nas an SF, while the rest of the comparator circuit is located in the\ncolumn and shared by the pixels in the corresponding column,\nThe authors are with the Department of Electrical and Electronic Engi-\nneering, Yonsei University, Seoul 120-749, Korea (e-mail: dongmyung.lee@\ngmail.com).\nDigital Object Identiﬁer 10.1109/TED.2008.2006735\n0018-9383/$25.00 © 2008 IEEE\n3384\nIEEE TRANSACTIONS ON ELECTRON DEVICES, VOL. 55, NO. 12, DECEMBER 2008\nVcor (V)\n\n1.4F\n\n1.3\n1.2\n1.1\n1.0\n0.9\n0.8\n0.7\n0.6\n0.5\n\n+ DC transfer curve\n-¢ Nonlinearity\n\n+ 0.23%,\n\n1.4 1.6\n\nA -O---O-4..\nee +.\n\n1.8\n\nVep (V)\n\n2.2\n\n24\n\nNonlinearity (%)\nFig. 3. Simulated dc transfer curve and nonlinearity of an SF.\nNoiseless\n\n(b)\nFig. 1. Conventional APS. (a) Pixel readout circuit. (b) Timing diagram.\n(Φ1) Photo current integration. (Φ2) FD reset. (Φ3) Reset signal A/D conver-\nsion. (Φ4) Charge transfer. (Φ5) Sensor signal A/D conversion.\n4-Transistor pixel Column-level single-slope ADC\n\n- Comparator ---~' 3\n\nChip-level counter for ADC\n\nFig. 4. Readout circuit with equivalent noise sources. (a) Conventional APS.\n(b) Proposed ICAPS.\n(1 + gmb/gms). Moreover, the nonlinearity of gmb degrades the\nlinearity of the image sensor.\nFig. 2. Pixel readout circuit of the proposed ICAPS.\nas shown in Fig. 2. The operation principle and timing diagram\nof the ICAPS are the same as those of the conventional APS.\nFig. 3 shows the simulated dc transfer curve and the nonlin-\nearity of an SF. Simulation results show a 0.23% linearity error\nand a 17% sensitivity reduction due to the SF.\nThe dominant noise source at low illumination is the readout\nnoise, whereas it is the PD shot noise at high illumination\n[16]–[18]. As the ﬂicker noise of reset transistor, SF, and\ncomparator can be removed substantially by the CDS [19],\n[20], the thermal noises of the SF and comparator are the most\ncritical readout noise. Fig. 4 shows the readout circuits of the\nconventional APS and the proposed ICAPS with equivalent\nnoise sources. The total noise of the conventional APS referred\nto the column line is given by\nIII. PERFORMANCE ANALYSIS\nThe SF voltage gain As from the FD node to the column line\n(ADC input) can be obtained as follows from a simple small\nsignal analysis:\ngms\ngms + gmb\n∂νCOL\n∂νFD\n1\n1 + gmb/gms\n∼\n=\nAs =\n=\n(1)\nwhere gms and gmb are the gate-drain and bulk-drain transcon-\nductances of the SF input transistor. Therefore, the signal\nattenuation by the SF reduces the sensitivity by a factor of\n(cid:3)\n(cid:2)\n|Zs|2 + ν2\nν2\nnCOL =\ni2\nM1\n+ i2\n(2)\nncom\nM2\nLEE et al.: LOW-NOISE IN-PIXEL COMPARING ACTIVE PIXEL SENSOR USING SINGLE-SLOPE ADC\n3385\nColumn line\n\nColumn line\n\nM,\n\nFD referred noise (V*/Hz)\n\n+ Proposed ICAPS\n¢ Conventional APS\n\n2\n\n3\n\n4 5 6 7 8 9 10\nBias current (uA)\n\nFig. 6. Comparator including parasitic capacitance.\n- Proposed ICAPS\n- Conventional APS\n\nReadout line settling time (ys)\n\nComparator propagation delay (ps)\n\n0.0\n1 2 3 4 5 6 7 8 9 10\nA\n640 x 480 3888 x 2592 7200 x 4800\n(VGA) (10-megapixels) (35-megapixels)\n\nParasitic capacitance (pF)\nFig. 5. Simulated FD referred noise as a function of bias current when\nISF = Icom.\nwhere i2\nM is the noise current of the MOS transistor given as\n(8/3)kT gm, Zs is the output impedance of the SF, and ν2\nncom is\nthe input referred comparator noise [21]. Then, the total noise\nreferred to the FD node can be obtained by dividing the output\nnoise by the SF gain as follows:\n1\n|As|2\n× ν2\nν2\nnFD =\nnCOL\n(cid:4)\n(cid:5)\n2\nkT\ngms\ngmb\ngms\n8\n3\n∼\n=\nν2\nncom.\n+\n1 +\n(3)\nConsequently, the SF not only adds the noise by itself but also\nampliﬁes the comparator noise by a factor of (1 + gmb/gms)2\nin the conventional APS. Since the comparator is directly\nconnected to the FD node in the proposed ICAPS, the total\nreadout noise referred to the FD node is equivalent to the input\nreferred noise of the comparator as follows [21]:\nFig. 7. Simulated settling time and propagation delay when ISF = Icom.\ncolumn line for the drain CPD is negligible because the signal\nswing at this node is small due to the diode-connected conﬁg-\nuration of M7. Meanwhile, the parasitic capacitance associated\nwith the common source node CPS is equivalent to the line\ncapacitance in the conventional APS. Therefore, the settling\ntime of the readout line when the selection switch is turned\non is comparable to that of the conventional APS, as shown\nin Fig. 7.\nkT\ngmd\n16\n3\n∼\n=\nν2\nnFD = ν2\n(4)\nncom\nwhere gmd is the transconductance of the transistors in the\ndifferential pair of the comparator.\nFig. 5 shows the simulated FD referred readout noise of the\nconventional APS and the proposed ICAPS as a function of\nbias current when (W/L)SF = (W/L)comparator. To compare\nthe noise performance under the same readout speed, the bias\ncurrents of the SF and the comparator are set to be identical.\nThis means that the total power consumption of the proposed\ncircuit is half of that of the conventional one. The total FD\nreferred noise of the ICAPS is reduced to about 2/3 of the\nconventional APS.\nThe CPS also affects the propagation delay of the compara-\ntor, deﬁned as the time difference from the moment when the\nVRAMP reaches to the VFD to the moment when the comparator\nchanges its output. The simulation result of the propagation\ndelay with respect to the parasitic capacitance is also shown\nin Fig. 7. Layout-extracted column parasitic capacitance for the\n160 × 240 pixel array is about 0.5 pF. Simulation is performed\nup to an extremely large parasitic capacitance of 10 pF, which\ncorresponds to multimegapixel array. In this simulation, the\nslope of VRAMP is set to 0.3 V/μs that allows 30 frames/s for\nthe ten-megapixel array. The simulation result shows that the\nlarger parasitic capacitance results in the smaller propagation\ndelay because CPS tends to hold the VS instead of following\nVRAMP, providing the rapid change of VGS.\nCMOS APS has a relatively large parasitic capacitance in the\nreadout line. This line capacitance is one of the major limiting\nfactors of the high speed readout because the small in-pixel SF\nof the APS should drive the relatively large line capacitance.\nUnlike the conventional APS, the ICAPS has line capac-\nitances within the comparator circuit, as shown in Fig. 6.\nThe inﬂuence of the parasitic capacitance associated with the\n3386\nIEEE TRANSACTIONS ON ELECTRON DEVICES, VOL. 55, NO. 12, DECEMBER 2008\nTT ST TT a ee ee a Te\n\nColumn-level ADCs\n& Readout circuit (Even\n\nConventional\nAPS\nPixel Array Pixel Array\n(160 x 240) (460 x 240)\n\nRow decoder\n\n4-Column-level ADCs,\n& Rewdout circuit (Odd cglumns)\n\n_ Fill factor\n33%\n\n| Fillfactor\n32%\n\n“Zauly “Joo\n\n+ Proposed ICAPS\n-* Conventional APS\n\n0.88%\n\n20 40 60 80 100 120\nLight intensity (lux)\n\nNonlinearity (%)\nFig. 9. Measured photoelectric conversion characteristics.\nFD referred noise (uVims)\n\nSo\noo\n\n10°71 10° 101 40?\nLight intensity (lux)\nFig. 10. Measured FD referred noise.\nFig. 8. Microphotograph and pixel layouts of the fabricated prototype sensor.\nshows a 26% increased sensitivity and a 15-times improved\nlinearity.\nConsequently, the readout speed of the ICAPS is limited\nby the settling time rather than the comparator propagation\ndelay when the array size exceeds two megapixels (parasitic\ncapacitance of 2.5 pF), as in the conventional APS.\nThe measured FD referred noise is shown in Fig. 10. At\nlow illumination, the FD referred noise of the ICAPS is 33%\nlower than the conventional one. At high illumination, the\nnoise performances of the conventional APS and the ICAPS\nare almost the same because the photon shot noise in the PD is\ndominant.\nIV. EXPERIMENTAL RESULTS\nThe sample image taken by the prototype sensor is shown\nin Fig. 11. The image from the (left side) ICAPS is brighter\nthan that from the (right side) conventional APS due to the\nsensitivity improvement. The performances of the conven-\ntional APS and the ICAPS are compared and summarized in\nTable I.\nThe proposed ICAPS was designed and fabricated with a\n0.35-μm 2P3M CMOS process. A chip microphotograph of\nthe prototype sensor is shown in Fig. 8. Since the performance\nof the image sensor is strongly dependent on the process, the\nconventional APS and the proposed ICAPS were integrated on\nthe same chip for the fair performance comparison. The control\nof both approaches is identical. Each image array has 160 ×\n240 pixels of 5.6 μm × 5.6 μm four-transistor pixel with a\npinned PD [22]. The pixel layouts of the conventional APS and\nthe proposed ICAPS are also shown in Fig. 8. The pixel ﬁll\nfactor of the ICAPS is 1% lower than that of the conventional\nAPS due to the additional column line.\nV. CONCLUSION\nA low-noise APS with an in-pixel comparing scheme was\nproposed. The proposed ICAPS uses pixel transistors as a part\nof the comparator for a single-slope ADC instead of using\nthem as an SF. The prototype sensor was fabricated using a\n0.35-μm 2P3M CMOS process and achieved 26% sensitivity\nFig. 9 shows the measured photoelectric conversion char-\nacteristics from the fabricated chip. The proposed ICAPS\nLEE et al.: LOW-NOISE IN-PIXEL COMPARING ACTIVE PIXEL SENSOR USING SINGLE-SLOPE ADC\n3387\nConventional APS\n\nd ICAPS\n\nPropose\n\n[7] S. Kawahito, N. Kawai et al., “A high-sensitivity oversampling digital\nsignal detection technique for CMOS image sensors using non-destructive\nintermediate high-speed readout mode,” in Proc. IEEE Workshop CCD\nAIS, 2001, pp. 24–27.\n[8] N. Kawai and S. Kawahito, “A low-noise oversampling signal detection\ntechnique for CMOS image sensors,” in Proc. IEEE Instrum. Meas.\nTechnol. Conf., Anchorage, AK, May 2002, pp. 256–268.\n[9] S. Kawahito, M. Sakahibara, D. Handoko, N. Nakamura, H. Satoh,\nM. Higashi, K. Mabuchi, and H. Sumi, “A column-based pixel-gain-\nadaptive CMOS image sensor for low-light-level imaging,” in Proc.\nISSCC Tech. Dig., 2003, pp. 224–490.\n[10] A. Krymski, N. Khaliullin, and H. Rhodes, “A 2 e− noise 1.3 megapixel\nCMOS sensor,” in Proc. IEEE Workshop CCD AIS, 2003, pp. 1–6.\n[11] N. Kawai and S. Kawahito, “Noise analysis of high-gain, low-noise col-\numn readout circuits for CMOS image sensors,” IEEE Trans. Electron\nDevices, vol. 51, no. 2, pp. 185–194, Feb. 2004.\n[12] S. Kleinfelder, S. Lim, X. Liu, and A. E. Gamal, “A 10 000 frames/s\nCMOS digital pixel sensor,” IEEE J. Solid State Circuits, vol. 36, no. 12,\npp. 2049–2059, Dec. 2001.\n[13] A. Kitchen, A. Bermak, and A. Bouzerdoum, “A digital pixel sensor\narray with programmable dynamic range,” IEEE Trans. Electron Devices,\nvol. 52, no. 12, pp. 2591–2601, Dec. 2005.\nFig. 11. Sample image from the fabricated sensor.\n[14] D. Kim and G. Han, “A low noise and low power CMOS image sensor\nwith pixel-level correlated double sampling,” in Proc. IEEE Workshop\nDes. Diagnostics Electron. Circuits Syst., Apr. 2007, pp. 113–115.\n[15] S. Yoshihara, Y. Nitta, M. Kikuchi, K. Koseki, Y. Ito, Y. Inada,\nS. Kuramochi, H. Wakabayashi, M. Okano, H. Kuriyama, J. Inutsuka,\nA. Tajima, T. Nakajima, Y. Kudoh, F. Koga, Y. Kasagi, and S. Watanabe,\n“A 1/1.8-inch 6.4 MPixel 60 frames/s CMOS image sensor with seamless\nmode change,” IEEE J. Solid State Circuits, vol. 41, no. 12, pp. 2998–\n3006, Dec. 2006.\nTABLE I\nPERFORMANCE SUMMARY\nConventional APS\n\nProposed ICAPS.\n\nProcess 0.35-ym 2P3M CMOS\nPower supply 3.3 V (Analog) / 1.5 V (Digital)\nADC Column-level 10-bit single-slope ADC\nArray format 160 (H) x 240 (V)\nPixel size 5.6 pm x 5.6 ym\nFull well capacity 20,000e-\nConversion gain 48 yV/e-\nFill factor 33% 32%\nSensitivity 0.35 VAx:s 0.44 V/Ix:s\nDynamic range 64.5 dB 68 dB\nNonlinearity + 0.88% + 0.05%\nFD referred noise at dark 576 UV ims 384 UVims\nColumn FPN at 50 Ix 0.68% 0.52%\nAnalog Power consumption 16 “zW/column 9 uW/column\nDigital Power consumption 4 wW/column 4 uW/column\n\n[16] O. Yadid-Pecht, B. Mansoorian, E. R. Fossum, and B. Pain, “Optimization\nof noise and responsivity in CMOS active pixel sensors for detection of\nultra low light levels,” Proc. SPIE, vol. 3019, pp. 125–136, Feb. 1997.\n[17] S. K. Mendis, S. E. Kemeny, R. C. Gee, B. Pain, C. O. Staller, Q. Kim, and\nE. R. Fossum, “CMOS active pixel image sensors for highly integrated\nimaging systems,” IEEE J. Solid State Circuits, vol. 32, no. 2, pp. 187–\n197, Feb. 1997.\n[18] H. Tian, B. Fowler, and A. E. Gamal, “Analysis of temporal noise in\nCMOS photodiode active pixel sensor,” IEEE J. Solid State Circuits,\nvol. 36, no. 1, pp. 92–101, Jan. 2001.\n[19] H. Takahashi, M. Kinoshita, K. Morita, T. Shirai, T. Sato, T. Kimura,\nH. Yuzurihara, S. Inoue, and S. Matsumoto, “A 3.9 μm pixel pitch VGA\nformat 10 b digital image sensor with 1.5 transistors/pixel,” in Proc.\nISSCC Tech. Dig., 2004, pp. 108–109.\n[20] M. Mori, M. Katsuno, S. Kasuga, T. Murata, and T. Yamaguchi, “A 1/4 in\n2 M pixel CMOS image sensor with 1.75 transistor/pixel,” in Proc. ISSCC\nTech. Dig., 2004, pp. 110–111.\n[21] B. Razavi, Design of Analog CMOS Integrated Circuits. Chicago, IL:\nMcGraw-Hill, 2001.\nenhancement, 15-times linearity improvement, and 33% noise\nreduction compared to the conventional APS. The proposed\nICAPS can be applied to mobile consumer electronic image\nsensor with enhanced image quality at low illumination.\n[22] B. C. Burkey, W. C. Chang, T. H. Lee, T. J. Tredwell, J. P. Lavine, and\nE. A. Trabka, “The pinned photodiode for an interline-transfer CCD image\nsensor,” in IEDM Tech. Dig., 1984, pp. 28–31.\nREFERENCES\n[1] B. S. Carlson, “Comparison of modern CCD and CMOS image sensor\ntechnologies and systems for low resolution imaging,” in Proc. Sensors,\nJun. 2002, vol. 1, pp. 171–176.\n[2] I. Takayanagi, M. Shirakawa, K. Mitani, S. Iversen, J. Moholt, and\nE. R. Fossum, “A 1.25-inch 60-frames/s 8.3-M-pixel digital-output CMOS\nimage sensor,” IEEE J. Solid State Circuits, vol. 40, no. 11, pp. 2305–\n2314, Nov. 2005.\n[3] C. C. Hsieh, C. Y. Wu, F. W. Jih, and T. P. Sun, “Focal-plane-arrays and\nCMOS readout techniques of infrared imaging systems,” IEEE Trans.\nCircuits Syst. Video Technol., vol. 7, no. 4, pp. 594–605, Aug. 1997.\n[4] M. J. Loinaz, K. J. Singh, A. J. Blanksby, D. A. Inglis, K. Azadet, and\nB. D. Ackland, “A 200-mW, 3.3-V, CMOS color camera IC producing\n352 × 288 24-b video at 30 frames/s,” IEEE J. Solid State Circuits,\nvol. 33, no. 12, pp. 2092–2103, Dec. 1998.\nDongmyung Lee (S’06) received the B.S. and M.S.\ndegrees from the Department of Electrical and Elec-\ntronic Engineering, Yonsei University, Seoul, Korea,\nin 2003 and 2005, respectively, where he is currently\nworking toward the Ph.D. degree, working on analog\nand mixed-signal design.\n[5] J. Zarnowski, M. Pace, and M. Joyner, “1.5 FET per pixel standard CMOS\nactive column sensor,” Proc. SPIE, vol. 3649, pp. 186–196, Jan. 1999.\n[6] A. M. Fowler and I. Gatley, “Demonstration of an algorithm for read-\nnoise reduction in infrared arrays,” Astrophys. J., vol. 353, pp. L33–L34,\nApr. 1990.\nHis research interests include CMOS image sen-\nsors and high-speed serial communications.\n3388\nIEEE TRANSACTIONS ON ELECTRON DEVICES, VOL. 55, NO. 12, DECEMBER 2008\nGunhee Han (M’97) received the B.S. degree from\nYonsei University, Seoul, Korea, in 1990 and the\nPh.D. degree from Texas A&M University, College\nStation, in 1997.\nKunhee Cho (S’07) received the B.S. degree from\nthe Department of Electrical and Electronic Engi-\nneering, Yonsei University, Seoul, Korea, in 2007,\nwhere he is currently working toward the M.S.\ndegree.\nHe was with Texas A&M University until 1998.\nHe is currently an Associate Professor with the\nDepartment of Electrical and Electronic Engineer-\ning, Yonsei University. His research interests include\nCMOS image sensors, high-speed serial communi-\ncations, and delta–sigma modulators.\nHis research interest\nincludes CMOS image\nsensors.\nDongsoo Kim (S’06) received the B.S. and M.S.\ndegrees from the Department of Electrical and Elec-\ntronic Engineering, Yonsei University, Seoul, Korea,\nin 2001 and 2004, respectively, where he is currently\nworking toward the Ph.D. degree in electrical and\nelectronic engineering.\nHis research interests include CMOS image sen-\nsors and smart sensors.\n""]",
Design of Digital ROIC for HgCdTe e-APD FPA (статья на китайском языке).pdf,"['红外与激光工程\n第 43 卷第 9 期\nVol.43 No.9\n2014 年 9 月\nSep.2014\nInfrared and Laser Engineering\n碲镉汞 e-APD 焦平面数字化读出电路设计\n陈国强 1,2，张君玲 1，王 攀 1,2，周 杰 1,2，高 磊 1,2，丁瑞军 1\n(1. 中国科学院上海技术物理研究所 中国科学院红外成像材料与器件重点实验室，上海 200083；\n2. 中国科学院大学，北京 100049)\n摘 要 ： HgCdTe e-APD 工作于线性模式， 通过内雪崩倍增效应将一个微弱的信号放大多个数量\n级。 介绍了一个具有列共用 ADC 制冷型(77 K)数字化混成式 HgCdTe e-APD FPA 读出电路，可以应\n用于门控 3D-LARDAR 成像，有主被动双模式成像功能。 Sigma鄄delta 转换器比较适合于中规模 128×\n128 焦平面列共用 ADC。 调制器采用 2-1 MASH 单比特结构，开关电容电路实现，数字抽取滤波器采\n用 CIC 级联梳状滤波器。 采用 GLOBALFOUNDRIES 0.35 滋m CMOS 工艺，中心距 100 滋m。 设计了量\n化噪声抵消逻辑消除第一级调制器量化噪声，采用数字电路实现。 CIC 抽取滤波器的每一级寄存器长\n度以方差为指标截尾，以降低硬件消耗。 并且数字抽取滤波器工作电压降低到 1.5 V，可以进一步降低\n功耗。 仿真显示 sigma鄄delta 转换器精度大于 13 bit，功耗小于 2.4 mW，转换速率 7.7 k Samples/s。\n关键词 ： 碲镉汞 e-APD； 读出电路； 主被动双模式成像；\n文献标志码 ： A\n中图分类号 ： TN21\nsigma鄄delta ADC； 制冷型红外焦平面\n文章编号 ： 1007-2276(2014)09-2798-07\nDesign of digital ROIC for HgCdTe e-APD FPA\nChen Guoqiang1,2, Zhang Junling1, Wang Pan1,2, Zhou Jie1,2, Gao Lei1,2, Ding Ruijun1\n(1. Key Laboratory of Infrared Imaging Materials and Detectors, Shanghai Institute of Technical Physics, Chinese Academy\nof Sciences, Shanghai 200083, China; 2. University of Chinese Academy of Sciences, Beijing 100049, China)\nAbstract: HgCdTe electron injection avalanche photodiodes(e-APDs) work in linear mode. A weak optical\ncurrent signal is amplified orders of magnitude due to the internal avalanche mechanism. The design of\ndigital ROIC with a column鄄shared ADC for cooled (77 K) hybrid e -APDs FPA was presented in this\npaper. Sigma鄄delta conversion was a promising solution for high鄄performance and medium size FPA as\n128 ×128. A multistage noise shaping\n(MASH) 2 -1 single bit architecture sigma鄄delta ADC with\nswitched鄄capacitor circuits was designed for column鄄shared ADC. A cascaded integrator鄄comb (CIC) filter\nwas designed as the digital decimator filter. The circuit was implemented in the GLOBALFOUNDRIES\n0.35 滋m CMOS process on the basis of a 100 滋m pixel pitch. A quantization noise subtraction circuit in\nmodulator was designed to subtract\nthe quantization noise of first鄄stage modulator. The register word\nlength of the filter in each stage was carefully dimensioned in order to minimize the required hardware.\nFurthermore, the digital filters operate with a reduced supply voltage to 1.5 V. Simulation results showed\nthat\nthe sigma鄄delta conversion achieved the resolution higher\nthan 13 bits and 2.4 mW power\n收稿日期 ：2014-01-05 ； 修订日期 ：2014-02-10\n作者简介 ：陈国强 (1987-) ，男 ，博士生 ，主要从事红外焦平面读出电路和片上 ADC 方面的研究 。\n导师简介 ：丁瑞军 (1964-) ，男 ，研究员 ，博士生导师 ，主要从事集成电路设计 、红外光电器件及物理 、分析和评价技术等方面的研究 。\n陈国强等： 碲 镉 汞 e - APD 焦 平 面 数 字 化 读 出 电 路 设 计\n第 9 期\n2799\nconsumption per ADC at 7.7 k Samples/s rate.\nKey words: HgCdTe e-APD; ROIC;\npassive/active imaging;\nsigma鄄delta ADC;\ncooled infrared FPA\nPhotodiode，HDVIP)。 分别如图 1(a)和图 1(b)所示。\n0 引 言\nROIC input\n\npe |\na\ng\n\nAPD 广泛应用于卫星 (TOF)激光测距 ，深空间\n激光通信 ，光纤通信 [1]，超低光照度成像 [2-3]和主被动\n双模式成像 。 在 APDs，微弱的光学电流信号通过内\n部雪崩机制被放大数个量级 ， 将光子信号线性地转\n化为电流信号 。\n(a) 平面 PIN 结\n(b) HDVIP 结构\n近年来 ，HgCdTe e-APD 发展迅速 。 e-APD 只有\n电子发生了雪崩效应而空穴并没有发生雪崩效应 。\nHgCdTe e -APD 的空穴的电离系数 琢h 和电子的电\n离系数 琢e 的比值 κ=琢h/琢e 远远大于 1 或者远远小于\n1 [4]，这一特点使闪烁噪声因子接近 1。 低的噪声因\n子 ，低的偏置电压(-5~-15 V)和高的增益因子 [5-6]，这\n些优良特性使之有广阔的发展前景 。\n(a) Plane PIN structure schematic (b) HDVIP architecture schematic\n图 1 APD 器件结构侧视图\nFig.1 Side view of APD structure\n雪崩光电二极管工作于反向偏置电压下， 并且在\n77 K 温度， 雪崩光电二级管的暗电流随着偏置电压的\n增大而成指数增大。 传统的探测器小信号模型不再适\n合 APD 探测器。 文中设计了一种可以适用于 APD 的\n改进模型。 考虑到雪崩光电二极管在关心的偏置电压\n下暗电流与反响偏置电压成指数关系， 文中应用折线\n模型对探测器雪崩光电二极管暗电流建立小信号模\n型，如图 2(a)实线所示。 暗电流折线模型采用一个直流\n电压串联一个电阻用来模拟探测器暗电流。\n数字化的焦平面可以降低电路噪声和互联噪声\n对信号的干扰，降低系统的复杂度和成本 。 并且它可\n以进一步集成像图像校正等数字信号处理的功能。 制\n冷型 (77 K)焦平面要求 ADC 有高的分辨率 ，低的功\n耗，小的面积 。 Sigma鄄delta 转换器的性能基于过采样\n技术和噪声整形技术而不是取决于模拟电路的精度 。\n这使得其非常灵活和很好的鲁棒性，并且具有高的分\n辨率，市场适合制冷型焦平面列共用 ADC 的设计。\n3.5x10""\n3.0x10""""\n2.5x10""\n2.010""\n1.5x10""\n1.0x10""\n0.5x10""""\n\nCurrent/A’\n\n(a)\n\n—GNOC\n---Broken ire model\n\n0!\n\n~10.5\n\n-10.0\nReverse-bias voltage/V\n\n9.5 9.0\n文中介绍了一个数字化混成式 HgCdTe e-APD\nFPA 读出电路 ，可以应用于门控 3D-LARDAR 成像 ，\n有主被动双模式成像功能 。读出电路工作于 77 K，阵\n列中规模 128×128，中心距 100 滋m，帧频 60 Hz。列共\n用 ADC 采用 sigma鄄delta ADC。 Sigma鄄delta ADC 由\n调制器和数字抽取滤波器两部分构成 ， 调制器采用\n3 阶 2 -1 MASH 结构 ， 数字抽取滤波器采用 4 级\nsinc 平均滤波器 ， 实现采用 CIC 级联梳状滤波器结\n构 ，精度大于 13 bit。\n1 单元电路\n1.1 e-APD 探测器\nTo ROIC\n\nVo\n\n(b)\n\nCommon node(V,.....)\nHgCdTe e-APD 探测器是基于平面 PIN 结构(plane\nPIN structure)以及基于高密度垂直集成的光电二极管\n结构(Highly Successful Highdensity Vertically Integrated\n图 2 小信号等效模型\nFig.2 Equivalent small signal model\n红外与激光工程\n第 43 卷\n2800\n1.2 单元电路设计\nHgCdTe\ne-APDs\n\nColumn Output\nADC driver\n\n(off bet P|\n\nTiming circuit\n\nROIC 是红外焦平面一个重要的组成部分 ，其性\n能的好坏对于红外焦平面成像起着至关重要的作\n用 。 读出电路整体电路机构如图 3 所示 ，读出电路链\n路图如图 4 所示 ，包括单元电路 ，列共用电路 ，视频\n输出驱动 ，其中单元包括前置放大器 ，相关双采样 ，\n单元输出驱动级 。\n图 4 读出电路链路图\nFig.4 Structure of unit cell circuit of ROIC\n图 5 为单元电路晶体管实现电路图 ， 前置放大\n器采用 CTIA 结构 ， 将光电流信号积分输出电压信\n号 。 单元电路晶体管级设计需要考虑两个重要的限\n制因素 ，面积限制和功耗限制 。 因此 CTIA 结构中放\n大器采用套筒式共源共栅结构 。 读出电路的设计目\n标是可以实现主被动双模式探测 ， 单元电路中集成\n了 2 个积分电容 ，C0=300 fF,C1=800 fF。 其中 C1 有模\n拟开关控制是否导通 。 主动探测采用 300 fF 的积分\n电容 ，被动探测 ，信号比较微弱 ，需要低的噪声 ，C1\n700amx100 pm Unit circuit\nColumn 2\n- ADC [ft aan\n3 oO\npes . &\n3 :\n: z 128%128 FPA Es 3\nz i: zg 3\nz. : 3 3\né A\n° Column Lic |¢\nADC ft ADC\n\nas\n\nTiming circuit\n\n图 3 整体电路结构框图\nFig.3 Overall structure of ROIC\n0\n\n! NESPDS | CTIA CDS Unit driver\nfe i V,\nml Dares 4\nft F im eae eg ia 1D\n\na Se ee\n\n[ AT ili I"" u Se t —_ if L To MUX!\n\nCth qe Gd Gy Te, dhe | tO po\nat TL cae | | |\n\nV sacon= 1 V mah ” reset\n\n图 5 单元电路晶体管级设计\nFig.5 Transistor鄄level design of unit cell circuit of ROIC\n选通 ，积分电容 1 100 fF。\n两次采样中的漂移和低频噪声没有大的变化 ， 所以\n在相减处理中 ，这些项被消除 [7]。\nCTIA 噪声电流传输函数与光电流相同 ，单位冲\n击响应及其拉普拉斯变换如公式 (1)、(2)所示 ，单位\n冲击响应是一个窗口函数 ， 传输函数幅频特性具有\nsinc 滤波特性 。\nCTIA 的输出接一个箝位电容 ，一个箝位开关 ，\n中间一个缓冲器 ， 然后接一个采样开关和采样电\n容 ，箝位电容和箝位开关的作用是去掉输出波形的\n初始电压 ，最终积分的光信号起伏依然不变 。 在开\n始积分时的低频噪声电压和漂移都从最终结果中\n被消除 。 单位冲击响应及其拉普拉斯变换变化如公\n式 (3) 、(4)所示 。\ntint\n0乙 Iph(t)dt\nsin(仔ftint)\n(2)\n仔ftint\n相关双采样对每个像素要进行两次采样过程 ，\n一次在每帧图像的开始 ， 另一次在每帧图像的结束\n并得到一差值 。 由于两次采样均在很短时间内进行 ，\nVout= tint\nCint\nH(f)= tint\nCint\n(1)\nVout(t)=AVh(t)=AV[啄(t)-啄(t-tint)]\n(3)\n-jwt int )\nVout(棕)=AV(1-e\n(4)\n陈国强等： 碲 镉 汞 e - APD 焦 平 面 数 字 化 读 出 电 路 设 计\n第 9 期\n2801\n由于源随高的非线性 ， 高的增益误差以及差的\n噪声特性 ， 单元输出驱动级采用单位增益放大器做\n输出驱动 。 表 1 为读出电路设计参数 。\n表 1 门控 ROIC 设计参数\nTab.1 Gated ROIC design parameters\n对于三阶调制器 ， 单环结构往往具有稳定性问\n题 ，工程实现中有诸多困难 ，尤其低温集成电路稳定\n性更加严重 。 因此该项目采用两级级联 2-1 MASH\n结构 ，第一级采用 2 阶调制器 ，第二级采用 1 阶调制\n器 ， 然后通过误差抵消逻辑后求和得到输出如图 6\n所示 。 两级输出经过量化误差抵消逻辑后总输出如\n公式(5)所示 ：\nParameter\nValue\nFormat\n128×128\nY(z)=z-2X(z)+(1-z-1)3E2(z)/h2\n(5)\nCell pitch/滋m\n100\nOperating temperature/K\n77\nFrame rate/Hz\n60\nLinear signal swing/V\n2.2\nWell capacity\n-\n4×106(300 fF)\nActive mode\n图 6 三阶 2-1 MASH sigma鄄delta 调制器\nFig.6 Third鄄order 2-1 MASH sigma鄄delta modulator\n15×106(1 100 fF)\nPassive mode\nMinimum integration step/ns\n10\nADC 时钟频率有转换速率决定 ， 选择 3 MHz 。\n电容 800 fF 可以得到一个足够低的 kT/C 噪声 (36 滋V\nRMS at 77 K)。 用开关电容实现的 2-1 MASH sigma鄄\ndelta 调制器如图 7 所示 。 误差抵消逻辑由数字电路\n实现 。\nMinimum integration/ns\n50\nNonlinearity\n<1%\n2 列共用 Sigma鄄delta ADC\nQuantiz-\nation\nnoise\n\nsubtrac-\n\ntion\ncircuit\n\n制冷型 FPA， 考虑到功耗 ， 象元面积 ， 高性能\nFPA 所需要的 ADC 的分辨率等因素 ，设计选择了列\n共用 ADC[9]。 Sigma鄄delta converters 可以提供高的分\n辨率适合列共用 ADC。 Sigma鄄delta 转换器主要有调\n制器和数字滤波器两部分组成 ，制冷型 FPA 中主要\n的设计困难是面积和功耗的限制 。\n图 7 3 阶 2-1 MASH 开关电容电路实现调制器\nFig.7 Switched鄄capacitor third鄄order 2-1 MASH incremental\nFPA 工作于 77 K， 中等规模 128×128， 中心距\n100 滋m，60 Hz 的帧频 。 帧频和阵列规模决定了转换\n速率 ，针对上述参数列共用 ADC 转换速率 7.7 kS/s。\n高性能 FPA 要求分辨率至少 13 bit。 转换误差小于\n250 滋Vp-p。在这个项目中 ，设计目标是 13 bit 有效分\n辨率，输出 15 bit(采用 2 的补码有 16 bit)。\n2.1 调制器设计\nsigma鄄zdelta modulator\nSigma鄄delta 调制器中放大器采用如图 8(a)所示\n的折叠式式共源共栅结构 ， 该结构可以提供高的直\n流增益并且较小的功耗 。 放大器工作于 3.3 V，40 滋A\n静态工作电流 ，增益 73 dB，66 M 单位增益带快 。 尾\n电流可以从外面加以控制提高灵活性 。\n调制器高的阶数可以降低放大器带宽的限制 ，\n降低数字滤波器工作速率 ，可以得到较低的功耗 。 综\n合考虑分辨率 ，功耗 ，面积等因素 ，调制器采用 3 阶\n2-1 MASH 结构 ， 数字滤波器选用 4 级 sinc 平均滤\n波器 。\n积分器的高增益可以降低比较器噪声和失调对\n调制器输入信号的影响 ， 因此设计了一个简单的没\n有失调抵消电路的比较器如图 8(b)所示 ，锁存比较\n器基于双稳态原理 ，其有一个时钟来控制 。\n红外与激光工程\n第 43 卷\n2802\n4 个积分器放到前面 ，然后抽取再进入 4 个微分器 。\nH(z)= (1-z-M)N\n(6)\n(1-z-1)N\n22 ""N\n""≈13.5 dB\n22 ""·Sa\nM2\nMain iode\n(8)\nFirst sidelobe\nCIC 级联梳状滤波器在功能上和 N 级 sinc 平均\n滤波器级联一致 。 常规实现如图 10 所示 ，4 级 sinc\n平均滤波器需要 132 个寄存器和 8 个加法器 ， 并且\n所以的电路工作于高频 。 采用 CIC 级联结构优化如\n图 11 所示 ，CIC 结构仅需要 8 个寄存器和 8 个加法\n器 ，并且微分器部分工作于低频 。 面积和功耗得到十\n分可观的优化 。\n棕\n棕M\n|H(ej棕)|= M·Sa\n(7)\n1.5仔\n=M·sin\nVDD\n\n(b)\n\nQ,\n图 10 常规平均抽取数字滤波器结构\nFig.10 Conventional sinc decimation filter structure\n图 8 OTA 电路和比较器电路\nFig.8 OTA circuit and comparator circuit\n图 9 为调制器仿真结果 ， 仿真显示有效位数大\nStagel Stage2Stage3 Stages Stag 5 Stage6 Stage7 Stage8\n\n于 13 bit。\nPSD/dB\n\n-20\n-40\n-60\n-80\n-100\n-120\n\n-140)\n\nSndr=13.85 bits\n\n10° 10° 10° 10°\nFrequency/Hz\n图 11 CIC 数字抽滤波器结构\nFig.11 CIC decimation filter structure\nCIC 级联梳妆滤波器实现方法之所以可以节\n约这么多的资源是因以下因素 ：(1) 不需要乘法器 ；\n(2) 不要存储系数 ；(3) 将积分器部分工作于高频微\n分器部分工作于低频可以大量节约寄存器 ；(4) CIC\n级联梳状滤波器的实现结构非常规则 ， 仅包括两种\n基本结构 ，微分器和积分器 。\n图 9 三阶 2-1 MASH sigma鄄delta 调制器功率谱仿真\nFig.9 PSD simulation of third鄄order 2-1 MASH sigma鄄delta\n调制器输出直接连接至数字抽取滤波器 。 调制\n器的输出是 5 bit(其中 1 比特为符号位)，因此数字抽\n取滤波器的输入为 5 bit， 输出 16 bit (其中 1 比特为\n符号位)。 4 级 sinc 平均滤波器采用 CIC 结构实现需\n要 9 个寄存器 (包括一个输出寄存器 ) 。 可以采取截\n尾方法缩短寄存器的长度进一步节约资源 ， 截尾后\n剩余的位数单调逐级增加 。 该设计采用截尾产生的\n方差作为设计衡量参数 。前 2N 级寄存器在输出端产\n生的方差之和不大于输出寄存器截尾产生的方差作\n为截尾的约束 。\nmodulator\n2.2 数字抽取滤波器设计\nN 级 sinc 平均抽取滤波器传输函数由公式 (6)\n给出 ，其幅频响应由公式(7)所示 ，式中 Sa(x)=sin(x)/\nx。 在此项目中 ，N=4，抽取因子 M=64。 由幅频特性可\n得 4 级 sinc 平均滤波器旁办抑制为5×13.5=67.5 dB。\n4 级 sinc 平均滤波器传统实现如图 8 所示 ， 该项目\n针对功耗和面积限制 ，实现时采用 CIC 结构如图 9所\n示 [8]，大幅度降低了功耗和面积的消耗 ，CIC 结构将\n陈国强等： 碲 镉 汞 e - APD 焦 平 面 数 字 化 读 出 电 路 设 计\n第 9 期\n2803\nCIC 级联梳妆滤波器第 j 级到最后一级的系统\n传输函数由公式 (9)给出 ，这个式子按 z -1 多项式展\n开 ，其中 hj(k)为 k 次项系数 。\n表 2 对数字滤波器采取截尾\nTab.2 Truncation applied to digital filter′s stages\nTruncation bits\nRegister widths\nStage\nMax bits\n(M-1)N+j-1\nHj(z)= (1+z-M)N\n0\n29\n1st integrator\n29\nhj(k)z-k\n(1-z-1)N-j+1 = ∑\n(9)\n把滤波器滤波过程中寄存器最大长度定义为最\n大幅度输入情况下的最大输出幅度 。 寄存器的最大\n长度保证不会因为寄存器的溢出而产生任何数据丢\n失 。 寄存器最大长度由公式(10)给出 ，[x]是指不小于\nx 的最小整数 ，经计算 Bmax=29。\nk=0\n0\n29\n2nd integrator\n29\n3rd integrator\n29\n28\n1\n4th integrator\n29\n23\n6\n1st differentiator\n29\n21\n8\n2nd differentiator\n29\n20\n9\n3rd differentiator\n29\n19\n10\nBmax=[Nlog2M+Bin]\n(10)\nBmax 不仅是滤波器输出的最大可能的位数 ，也是\n每一级滤波器的最大可能位数 。 Bmax 非常大导致寄\n存器位数过宽 ，消耗极多资源 ，需要截尾处理 。 先确\n定每一级因截尾产生的方差 ， 然后利用统计特性将\n2N+1 个误差源在输出端的响应求和可以得到总的方\n差。 2N+1 个误差源包括 CIC 中 2N 级和输出寄存器。\n(11)\n4th differentiator\n29\n18\n11\nOutput register\n29\n16\n13\n单个 sigma鄄delta ADC 电路，调制器的功耗0.9 mW，\n数字抽取滤波器的功耗 1.5 mW，总的功耗为 2.4 mW。\n3 结 论\nj = 1\n2\n啄\n12\n22Bj\n在这个工程中 ， 设计了一个制冷型数字化混成\n式 HgCdTe e-APD FPA 读出电路，可以应用门控3D-\nLARDAR 成像 ， 有主被动双模式成像功能 。 读出电\n路工作于 77 K，阵列中规模 128×128，中心距 100 滋m，\n帧频 60 Hz。 单元电路中 ， 集成 300 fF，500 fF两个电\n容 ，主动模式提供 4×106(300 fF)电荷容量 ，最短积分\n时间 80 ns， 积分电流 200 nA~4 滋A 具有良好的线性\n度，非线性小于 1%。 被动模式提供 15×106(1 100 fF)电\n荷容量 ，积分时间 150 ns，积分电流从 1~20 nA 具有\n良好的线性度非线性小于 1%。\n2\n2\n啄\nTj =啄\nj Fj\n(12)\n+\n2\n∑kh\nj (k)，j=1，2，… ，2N\nFj\n(13)\n1，\nj=2N+\n1\n2N+1\n2\n啄\n2\n∑啄\nT =\n(14)\nTj\nj\nTj ≤ 1\n2\n啄\n2N\n2\n啄\n(15)\nT(2N+1)\nBj(2N+1)=Bmax-Bout\n(16)\n每一级误差源都是与输入信号和其他误差源不\n相关的白噪声 ，并且服从均匀概率分布 。 对于第 j 级\n误差源 ，误差函数 啄\nj 由公式(11)给出 。 第 j 级误差源\nTj 由公式(12)给出 。 因寄存\n在输出端所产生的方差 啄\n器截尾在输出端产生的总方差由公式(14)给出 。 一个\n合理的设计要求前 2N 级在输出端产生的方差之和\n不大于输出寄存器因截尾产生的误差见公式(15)。\n列共用 ADC 采用 sigma鄄delta ADC， 包括调制\n器和数字抽取滤波器 ， 调制器采用 3 阶 2-1 MASH\n结构 ，数字抽取滤波器采用 4 级 sinc 平均滤波器 ，实\n现采用 CIC 结构 。 ADC 转换速率 7.7 kS/s。 64 倍过采\n样率 ， 过采样时钟 3 MHz。 仿真显示有效位数大于\n13 bit，实现时保留 16 位数字输出 。 CIC 结构有 9 个\n寄存器 ， 每个寄存器的长度都通过截尾处理最小化\n以节约硬件资源 。 调制器功耗 0.9 mW，数字抽取滤\n波器工作电压 1.5 V，功耗 1.5 mW，sigma鄄delta ADC\n功耗小于 2.4 mW。\n2\n2\n需要截取的位数有 MATLAB 运算得出 。 数字\n抽取滤波器输入 5 bit，输出 16 bit。 截取和保留的位\n数由表 2 给出 。 为进一步降低功耗 ，数字抽取滤波\n器可以工作于更低的电压 ，因此将电源电压从 3.3 V\n降低到 1.5 V 。 数字抽取滤波器占整个版图面积的\n70%左右 。\n参考文献 ：\n[1]\nCova S, Ghioni M, Lotito A, et al. Evolution and prospects\n红外与激光工程\n第 43 卷\n2804\nfor single鄄photon avalanche diodes and quenching circuits[J].\nJournal of Electronic Materials, 2007, 36, 8.\n[6]\nJohnson J F, Lomheim T S. Focal鄄Plane signal and noise\nJournal of Modern Optics, 2004, 51(9): 1267-1288.\nmodel -CTIA ROIC [J]. IEEE Transactions on Electron\n[2] Das B, Liu F, Alfano R, et al. Time鄄resolved fluorescence and\nDevices, 2009, 56: 11.\nphoton migration studies in biomedical and model\nrandom\n[7]\nJohan Rothman, Gwladys Perrais, Borniol De, et al. HgCdTe\nmedia[J]. Reports on Progress in Physics, 1997, 60: 227.\nAPD -focal plane array development at CEA leti鄄minatec [C]\n[3]\nCova S, Zappa F, Tosi A, et al. Avalanche diodes and\n//SPIE, 2008, 6940: 69402N.\ncircuits for infrared photon counting and timing: Retrospect\n[8]\nEugene B Hogenauer. An economial class of digital\nfilters\nand prospect[C]//LEOS Summer Topical Meetings, 2006: 7-8.\nIEEE Transactions\nfor decimation and interpolation [ J ] .\n[4] Williams G M, Compton M A, Huntington A S, et al. High鄄\non Acoustics Speech and Signal Processing, 1981, 29: 2.\nspeed photon counting with linear鄄mode APD receivers [C]//\n[9] Guellec F, Villard P, Ritgab F, et al. Sigma鄄delta column鄄\nProceedings of SPIE, 2009, 7320: 732012.\nwise A/D conversion for cooled ROIC [C]//Proceedings of\n[5]\nGwladys P, Olivier G, Jacques B, et al. Gain and dark current\nSPIE, 2007, 6542: 65423N-1.\ncharacteristics of planar HgCdTe avalanche photo diodes [J].\n']",
Design and Implemention of ADC Implanted in 10 000 Frame⁄s High-Speed CMOS Sensor.pdf,"['|See discussions, stats, and author profiles for this publication at: https://www.researchgate.net/publication/273710601 Design and Implemention of ADC Implanted in 10 000Frame/s High-Speed CMOS Sensor Article in International Journal of Computer and Electrical Engineering · January 2012 DOI: 10.7763/IJCEE.2012.V4.615 CITATIONS READS 2 608 6 authors, including: Eri Prasetyo Brahmantyo Heruseto Universitas Gunadarma Universitas Gunadarma 102 PUBLICATIONS 275 CITATIONS 12 PUBLICATIONS 16 CITATIONS SEE PROFILE SEE PROFILE Purnawarman Musa Michel Paindavoine University of Gunadarma, Depok, Indonesia University of Burgundy 33 PUBLICATIONS 72 CITATIONS 226 PUBLICATIONS 1,369 CITATIONS SEE PROFILE SEE PROFILE Some of the authors of this publication are also working on these related projects: Design Microchip View project eISP (Embedded Image Signal Processor) View project|None|\n|All content following this page was uploaded by Eri Prasetyo on 12 September 2017. The user has requested enhancement of the downloaded file.|| \n \nInternational Journal of Computer and Electrical Engineering, Vol. 4, No. 6, December 2012\nDesign and Implemention of ADC Implanted in 10 000 \nFrame/s High-Speed CMOS Sensor \nEri Prasetyo Wibowo, Hamzah Affandi, Boesono Soerowirdjo, B. Heruseto, Purnawarman Musa, and \nMichel Paindavoine \n   \ntrend  is  mainly  motivated  by  the  advantages  of  pixel-level \nanalog-to-digital  (A/D)  converter  such  as  high  SNR,  lower \npower  consumption,  and  very  low  conversion  speeds.  \nNevertheless,  the  resulting  implementations  of  in-pixel \nanalog-to-digital converter (ADC) are rather area consuming, \nstrongly restricting the image processing capability of CMOS \nsensors. \nAbstract—This  paper  describes  the  design  of  pipeline  ADC \nembedded in a high speed CMOS sensor that has been designed  \nand  fabricated  by  Paindavoine.  The  idea  of  ADC  to  be \nembedded  in  the  high  speed    cmos  sensor  in  order  to  reduce \npower,  integrated  so  that  the  output  of  the  CMOS  sensor  is \nalready  in  digital  form.  An  ADC  is  designed  using  Pipeline \ntopology with considerations is simple in the design because it \njust  makes  a  stage  and  the  next  stage  is  duplicated,  relatively \nhigh  speed  and  have  good  resolution.  Pipeline  ADC  designed \nusing  0.35  µm  CMOS  technology.  Pipeline  ADC  successfully \nimplemented  in  a  electronics    circuit  and  layout.  It  has  been \nfabricated.  The  results  of  simulations  show  that  the  design  of \npipeline ADC is working properly and can be used to handle a \nhigh speed CMOS sensor that has speed of 10 000 frames/s. \nA preliminary experiment for testing the CMOS sensor has \nbeen conducted by Michel Paindavoine et.al [9], [10].  In the \nexperiment, an external ADC was used as data converter to \ninput the FPGA.  The test system is illustrated in Fig. 1. \n \n \nIndex Terms—ADC, CMOS, high speed, pipeline. frame \n \nI.  INTRODUCTION \nRecently,  improvements  in  the  field  of  digital  imaging \nworld  have  been  growing  with  two  main  image  sensor \ntechnologies,  namely,  charge-coupled  devices  (CCD)  and \nCMOS  sensors.  The  continuous  advances \nin  CMOS \ntechnology  for  processors  and  DRAMs  have  made  CMOS \nsensor arrays became alternative to the popular CCD sensors. \nNew  technologies  provide  the  potential  for  integrating  a \nsignificant  amount  of  VLSI    into  a  single  chip,  thereby, \ngreatly reducing the cost, power consumption and size of the \ncamera [1]-[4]. \n \nFig. 1. Test of high speed camera experiment [9] \n \nIn the figure, the ADC was separated from CMOS sensor.  \nIn the next experiment CMOS sensor and ADC are designed \nand fabricated in the same single chip but independent of one \nanother  to  facilitate  the  testing.    The  concept  of  this \nembedded  ADC  design  is  given  in  Fig.  2.    The  chip  to  be \ndesigned is illustrated at the most left of the figure. \nCMOS has major advantages in its management that can \nbe incorporated with the sensor and converter level design. \nThis indicates that CMOS has potential opportunities in the \nease of design on a single chip, which is frequently termed as \nSystem on Chip (SoC). \n \n5\n2\nFa\n4\n=\n3\n\nAs  integrated  circuits  (IC)  keep  scaling  down  following \nMoore’s  Law,  recent  trends  show  a  significant  number  of \npapers  discussing  the  design  of  digital  pixels  [5]–[8]  This \n \nManuscript received October 14, 2012; revised November 15, 2012. This \nwork  has  been  founded  by  Indonesian  Higher  Education,  Contract  No. \n154/SP2H/PL/DITLITABMAS/III//2012 \n \nFig. 2. Embedded ADC with CMOS sensor \nEri Prasetyo Wibowo is with Gunadarma University, Jakarta Indonesia \n \n(e-mail: eri@staff.gunadarma.ac.id) \nThis paper focuses on the design of ADC.  It describes the \nacquisition system  in  parallel  columns  of  pixels  so  that  the \nspeed of the acquisition up to 1.5625 μs per row (100 μs/64) \nor, approximately, 10,000 frames/second could be achieved.  \nFurther design and fabrication of the ADC is aimed to fulfill \nthe  above  specification,  i.e.,  to  support  high-speed  sensor \nHamzah  Affandi  and  Boesono  Soerowirdjo  are  with  the  Electrical \nengineering  Dept.  of  Gunadarma  University,  Jakarta  Indonesia  (e-mail: \nhamzah@staff.gunadarma.ac.id, busono@staff.gunadarma.ac.id) \nBrahmantyo  Heruseto  is  with  Computer  System  Dept.  of  Gunadarma \nUniversity, Jakarta Indonesia (e-mail: brahm@staff.gunadarma.ac.id) \nMichel Paindavoine is with Burgundy University, France. \n     Purnawarman Musa is with Burgundy University France and Gunadarma \nUniversity, Jakarta Indonesia (e-mail: p_musa@staff.gunadarma.ac.id) \n839\n \n \nInternational Journal of Computer and Electrical Engineering, Vol. 4, No. 6, December 2012\nto generate the ADC and the pulse delay unit (D-FF). \nwith conversion rate at 10,000 frames/second and minimum \nresolution  of  8  bits.    Pipeline  type  of  the  ADC  has  been \ncarefully justified, and simulated using CAD software in the \n0.35 μm CMOS technology. \nOne Bit Per Stage ADC” ro\n=\n\n \nII.  GLOBAL DESIGN \nBefore discussing the design of electronics circuit pipeline \nADC, we will describe global design layout photograph, as is \nshown in Fig. 3.  In the photograph, there are two separate \ndesigns.    The  first  design  is  a  high  speed  CMOS  sensor \ncontaining a series of a 64x64 image sensor.  The design also \nincludes  Linear  and  Non-linear  analog  processing  unit  in \nfocal-plane.    This  design  is  carried  out  by  a  team  of \nUniversite de Bourgogne.  On the other hand, the second part \nof the design is an 8 bits pipeline ADC, which is done by a \nteam of Gunadarma University.  The layout size of the sensor \ndesign is 8.99 mm2.  While the size of 8 bits pipeline ADC \nwould  occupy  1mm  x  0.800μm  (1000μm  x  800μm)  and \nconsisting of 734 transistors 49 poly-silicon capacitors. \n \nFig. 5. Diagram block of 8 bits pipeline ADC 80 MSPS \n \nThe operation of the circuit is given in the following.  If a \nDC input voltage Vin and frequency fin  enters stage (N-1) in \nFig.  5,  the  voltage  is  then  sampled  and  held  (S  /  H)  at  a \nsampling frequency (fs > 2fin).  For fs = 80MHz, (equivalent \nto 12.5 ns), the sampling period would be 6.25ns and the hold \ntime is 6.25ns.  During the hold time of 6.25 ns, input signal \nis sampled and stored in the capacitor.   \n \n64\n\nCQFP\n\nsq)\n\nsq (8.99 mr\n\nsize .354\n\ncavity\n\nDuring the 2nd period of the sampling, the capacitor will \ncharge and its voltage rises to the sampled voltage value Vin \n(Ф1). At the same time, the sampling voltage Vin is compared \nto  a  threshold  voltage  Vth.    If  Vin  is  higher  than  Vth,  the \noutput of the ADC will be at high level (=1).  On the other \nhand, if Vin is lower than Vth, the ADC output will be low \n(=0).  The completion of the sampling process will then be \nfollowed  by  multiplying  process  (Ф2)  to  obtain  a  residual \nvoltage (Vres), which is required as input to the next stage.   \n \nIf the digital value (Di) = 1, then the value of residue is \n \n \nFig. 3. Layout design of CHIP  \nVres(i) =  2xVin(i) - DiVrefp                         (1) \n \n \nThe chip was designed and implemented using a 64 pins \nwith CQFP64 models.  Fig. 4 shows PINs designation of both \ndesigns. \nIf digital value (Di) =0, residual voltage is \n \nVres(i) = 2xVin(i) – Di.Vrefn                     (2) \ni V Res1(30)\nSS viRe2129)\nSS vRes120)\nSS Vinesi27)\n\nADC [SE cs\n\n‘Swi Pineniox(46)\nSw2 min.waxtas)\nset ouriaa)\n\ncours SS es\ncoeraian)\ncoEraiaa) AND En _of Rowe)\ncoEraiaa)\n\nSEs oF Colom n160)\n\nRETINE fae swetrancso\n\nPv ourpu1120\n\nMin-Max Je see\nSe onc\nP47)\n\nSS p70)\n\nclock Countertse)\nClear counter(37)\n\nono\n\nHW WHE HEH\n\n \nwhere value of  Vrefp=2Vth and Vrefn=0V. \n \nFig. 6 is the elaboration of Fig. 5.  The figure shows the \ndesign  of  8-bits  80  MSPS  pipeline  ADC  with  1  bit  /  stage \ntopology. \nli\n\nSaget |\n\n~ |\n\nDFF\n\nDFF\n\n!\n\n \nFig.  4. The pin block global of  Circuit \n \nIII.  CIRCUIT OF PIPELINE ADC DESIGN \nBlock design of pipeline ADC is shown Fig. 5, composed \nof 8 stages with 1-bit/stage topology.  Topology of 1-bit per \nstage  requires  some  supporting  components,  namely, \nOp-Amp, Comparator, DAC (reference) and switch capacitor \n(SC).  The principle of pipeline is a step process.  Therefore, \n8 bit ADC requires 8 stages synchronous digital outputs by \nemploying 8 units delay circuit (D-FF).  Clock is also needed \n \nFig.  6. Diagram block of  8-bits, 80 MSPS pipeline ADC circuit. \n \nAn  8-bits  ADC  requires  7  complete  stages  and  1  stage \n840\n \n \nInternational Journal of Computer and Electrical Engineering, Vol. 4, No. 6, December 2012\n280μm ×125μm. \ncomparator.    Serial  connection  of  the  stages  requires  time \ndelay circuit at each stage in order to produce output (Dout) \nin a parallel manner.  By giving Vin from 0V to 2V with Vth = \n1V, Vrefp = 2V and Vrefn = 0V, in which a given clock 256 \nthe sampling time and multiplying. So that the length of time \nthe conversion from 0V to 2V is 12.5 ns x 256 = 3.2 uS. With \n1 step = 2V/256 = 7.8125 mV and DNL = ½ LSB = 3.9 mV.  \nA number of 36 pieces of positive edge-trigger D-FF are \nused  for  the  delay-time  circuit.    If  one  D-FF  consumes \n200μW, it needs a total power consumption of only 7.2 mW. \nThe complete layout of the 8 bits pipeline ADC is seen in \nFig. 8.  It consists of 734 transistors and 49 poly capacitors.  \nThe area occupied for the ADC is 1000μm x 800μm. \n \nV.  SIMULATION RESULTS \nA series of simulations is carried out on both the electronic \ncircuits  design  as  well  as  on  the  layout  design.    For  the \nelectronic circuit, simulation is experimented to the one-bit \nADC as well as to the 8 bit ADC.  Simulation to one-bit ADC \nis  important  and  intended  to  check  the  accuracy  of  the \nresulting residual values, which will be inputted to the next \nstate. \n \nIV.  LAYOUT OF PIPELINE ADC DESIGN \n \n \nFig. 9. Simulation results of 1 bit ADC with VIN=0.9V \nFig. 7. Lay-out design of  1 bit /stage Pipeline ADC \n \n \n°\n\nveo)\n\nghee e bees be\n\noO)\n\nRee e tee bee\nF\n\ni A nO\n06) 02U 04U Oy 08 10) 120 14U 160 LAU 20y 22 2Ay 260 28) 30) 320\nTime(s)\n \nFig. 8. Lay-out design of 8-bit pipeline  ADC \n \n \nFig. 10. Simulation of digital pipeline 8-bits ADC. \nDesign of the layout of the ADC is implemented using the \nlibrary  from  0.35  µm  AMS  technology  which  exploits  4 \nmetals for components interconnection.  Figure 7 is a draft of \n1-bit/stage  ADC  layout  which,  totally,  occupies  280μm  x \n500μm area.  As shown in the figure, the layout consists of 3 \ndifferent parts as of the followings.  The top part, which is the \nnon-overlapping clock generator, occupies an area of 280μm \nx 125μm.  A clock circuit is designed to drive the 7 stages and \n1  stage  SHA.    The  middle  part  of  the  layout  consists  of  a \nseries  of  op-amp  and  switch  capacitors  having  280μm  x \n250μm area.  This part occupies the largest area due to 3 poly \ncapacitors sitting in it.  The bottom part comprises of a unit \nthat  contains  the  comparator  ADC  and  latches  to  create \ndigital  output  Dout,  with  an  area  of  280μm  x  125μm.  The \nbottom part comprises of a unit that contains the comparator \nADC and latches to create digital output Dout, with an area of \n \n \nFig. 11. DNL with ±0,6LSB \n \n05\n0,25\n\n-0,25\n05\n\noO 50 100 150 200 250\n \nFig. 12. INL with  ±0,6LSB \n841\n \n \nInternational Journal of Computer and Electrical Engineering, Vol. 4, No. 6, December 2012\n[5]  D.  Yang,  B.  Fowler,  and  A.  E.  Gamal,  “A  Nyquist-rate  pixel-level \nADC for CMOS image sensors,” IEEE J. Solid-State Circuits, vol. 34, \nno. 3, pp. 348–356, Mar. 1999 \n \nFig. 9 shows the result of one-bit ADC simulation.  With \nVin  =  0,9V,  the  resulted  value  Vres  at  the  ADC  output  is \n1,80244V.  Calculated residual value Vres for the same Vin \nwould  be  2.44mV.  The  difference  between  Vin  value \nresulted  from  simulation  and  from  calculation  indicates  an \nerror of 0.24%.  The next simulation is to examine the digital \noutput of 8-bits ADC. The simulation is done by varying Vin \nfrom  0V  to  2V  where  result  of  simulation  can  be  seen  at \nfigure  10.  These  simulation  to  see  the  length  of  time  the \nconversion and the error of each bit digital output that occurs. \nAnalog input is given from 0V until 2V and a clock time it \ntakes the length of 12.5 ns so conversion time is 3.2 uS (12.5 \nns x 256). Suppose the input signal of 1.2 V and the resulting \ndigital signal (10,011,001) error occurs 153 x 7.8125 mV = \n1.195 V difference with 1.2 V input signal there is 5mV (± \n0.6 LSB). To convert the analog signal 1.2 V takes time (12.5 \nns x 8stage / 2 phase = 50ns),  this ADC pipeline are eligible \nwhen each a pixel sensor has time of 100ns (Fs = 2Fin). With \nspeed  cameras  10,000  frames  /  s,  each  a  frame  comes  is \nrequired  100 us, the method of reading the required time 100 \nµs /64-row = 1.5625 µs /row, so an ADC is given  conversion \ntime  of  1.5625  µs.  8-bit  pipeline  ADC  takes  50  nS/1-input \nanalog conversion. Simulation results are shown in figure 10, \na  pipeline  ADC  has    long  conversion  3.2  uS  (analog  pixel \nsignals of 0V to 2V) and this is enough to accommodate input \nfrom a camera with speed of 10 000 frames / s (100 µs/64). \n[6]  S. Kleinfelder, S. Lim, X. Liu, and A. E. Gamal, “A 10 000 frames/s \nCMOS digital pixel sensor,” IEEE J. Solid-State Circuits, vol. 36, no. \n12, pp. 2049–2059, Dec. 2001. \n[7]  A. Harton, M. Ahmed, A. Beuhler, F. Castro, L. Dawson, B. Herold, G. \nKujawa,  K.  Lee,  R.  Mareachen,  and  T.  Scaminaci,  “High  dynamic \nrange  CMOS  image  sensor  with  pixel  level  ADC  and  in  situ  image \nenhancement,”  in  Sensors  and  Camera  Systems  for  Scientific  and \nIndustrial  Applications  VI.  Proc.  of  SPIE,  Mar.  2005,  vol.  5677,  pp. \n67–77. \n[8]  Y.  Chi,  U.  Mallik,  E.  Choi,  M.  Clapp,  G.  Gauwenberghs,  and  R.  E. \nCummings, “Cmos pixel-level ADC with change detection,” in Proc. \nof Int. Symp. Circuits and Systems (ISCAS), May 2006, pp. 1647–1650. \n[9]  D. Ginhac, J. Dubois, B. Heyrman,  and M. Paindavoine, ""A high speed \nprogrammable  focal-plane  SIMD  vision  chip,""  Analog  Integrated \nCircuits and Signal Processing, vol. 65, no. 3, 2010, pp. 389-398. \n[10]  J. Dubois, D. Ginhac, M. Paindavoine, and B. Heyrman, ""A 10 000 fps \nCMOS  Sensor  with  Massively  Parallel  Image  Processing,""  IEEE \nJournal of Solid-Stae Circuits, vol.43, no. 3, March 2008. \n \nEri  Prasetyo  Wibowo  was  born  in  Kendal, \nIndonesia, in 1966. He received the B.S degree in \nElectronics and Instrumentation from Gadjah Mada \nUniversity, Indonesia, in 1992, the M.S. degree in \nInformation  System  from  Gunadarma  University, \nIndonesia,  in  1994  and  the  Ph.D.  degree  in \nElectronics \nthe  Burgundy \nUniversity, France, in 2005. He is member of IEEE, \nProfessional  Organization  in  the  field  of  Information  and  Computer \nTechnology  (IPKIN)  .  He  was  as  Secretary  of    Doctoral  Program  in \nInformation Technology at Gunadarma University. He was member of \nEACOVIROE Project to promoted  Master VIBOT which founded by \nErasmus  Mundus.  His  current  interests  are  in  Real  time  Image \nprocessing applications and System On CHIPs Design \nInformatics \nfrom \n \n \nFrom Simulation results of 8 bits ADC as shown in figure \n10, can be calculated error value (error)  of DNL and INL , \nthe magnitude are ± 0.6 LSB. DNL and INL values shown in \nFig.  11 and 12. \nHamzah  Affandi  was  born  in  Surabaya,  Indonesia  \nin    1973.  He  received  the  B.S  degree  in  Electrical \nEngineering from Gunadarma University, Indonesia, \nin  1998.  the  M.S  degree  in  Electrical  Engineering \nfrom Gunadarma University, Indonesia in 2002 and \nthe  Ph.D  degree  in  Information  Technology  from \nGunadarma University, Indonesia in 2009. He was as \nTechnical  Director  in  Megaswara  TV  at  Bogor \nIndonesia and Lecturer in Gunadarma University.  His current  interest is  in \nElectronics analog design. \n \nVI.  CONCLUSIONS \n8 bits pipeline ADC successfully designed over speed of \n80  MSPS,  so  it  is  able  to  convert  the  output  of  high  speed \nCMOS sensor has a speed of 10 000 frames / s. \n \nBusono  Soerowirdjo  was  born  in  Purworejo, \nIndonesia  in  1944.  He  received  B.S  degree  in \nElectrical Engineering from ITB Bandung Indonesia \nin 1972. The M.S degree in Electronics design from \nSouthampton University, England in 1975. The PhD \ndegree \nin  Microelectronics  from  Southampton \nUniversity,  England  in  1983.  He  was  Professor  in \nMicroelectronics  from  Gunadarma  University.  He \nwas  as  Director  of  Doctoral  program  in  Information  technology  at \nGunadarma  University \nin \nMicroelectronics Design. \nThe  simulation  results  shown  that  the  pipeline  ADC \nworked    very  good,  it  was  expressed  with  a  small  residual \nerror and the digital error are  0.6 INL and 0.6 DNL. \nPipeline ADC is designed in a layout and has been sent to \nthe fabrication process. \n8 bits Pipeline ADC is designed using 734  transistors and \n49 poly capacitors. While the size of the layout is 1mm x 0.8 \nmm. \n  His  current \nIndonesia. \ninterest \nis \n \nBrahmantyo  Heruseto  was  born  in  1969.  He \nreceived B.S degree  in  Computer  Engineering  from \nGunadarma University, Indonesia in 1994. The M.S \ndegree in Information Technology from Gunadarma \nUniversity Indonesia in 2001 and  the PhD degree in \nInformation \nfrom  Gunadarma \nUniversity in 2009. He was as lecturer at Gunadarma \nUniversity and he was as responsibiliity of  Mentor \nGraphics  Laboratory  in  Gunadarma  University.  His  current  interest  is  in \nanalog neural network design. \nREFERENCES \n[1]  E. R. Fossum, “Active pixel sensors (APS): Are CCDs dinosaurs,” in \nProc. of SPIE, vol. 1900, pp. 2-14, 1992. \n[2]  E. R. Fossum, “CMOS image sensors: Electronic cameraon- a-chip,” \nIEEE Transactions on Electron Devices, vol. 44, no. 10, pp. 1689-1698, \n1997 \nTechnoloogy \n[3]  D. Litwiller, “CCD vs. CMOS: facts and fiction,” Photonics Spectra, \npp. 154-158, 2001. \n[4]  P. Seitz, “Solid-state image  sensing,”  Handbook  of  Computer  Vision \n \nand Applications, vol. 1, pp. 165-222, 2000. \n \n \n \n \n842\nView publication stats\nView publication stats\n']",
IRFPA ROIC Integrated Digital Output (статья на китайском языке).pdf,"['红外与激光工程\nInfrared and Laser Engineering\n第 44 卷第 6 期\n2015 年 6 月\nVol.44 No.6\nJun. 2015\n红外焦平面读出电路集成数字输出\n高 磊 1,2，翟永成 1,2，梁清华 1,2，蒋大钊 1,2，丁瑞军 1\n(1. 中国科学院上海技术物理研究所 中国科学院红外成像材料与器件重点实验室，上海 200083；\n2. 中国科学院大学，北京 100049)\n摘 要院 为了实现红外焦平面数字化输出，设计了一种集成片上模数转换的焦平面读出电路，包括一\n个 512伊512 的读出电路单元阵列和列共享的逐次逼近寄存器型模数转换器(SAR ADC)。单元读出电\n路采用了直接注入(DI)结构作为输入级，输出的信号通过多路传输送到模数转换器。设计的逐次逼近\n型的模数转换器中的比较器采用的是由前置放大器、锁存器、自偏置差分放大器和输出驱动器组成的\n高速比较器，数模转换器(DAC)采用的是三段式的电荷按比例缩放和电压按比例缩放相结合的结构。\n在 Cadence 和 Synopsys 设计平台下对模拟和数字部分电路分别进行设计、仿真与版图设计。电路工艺\n采用 GLOBALFOUNDRIES 公司 0.35\nm CMOS 3.3 V 工艺加工流片。测试结果显示 SAR ADC 有效\n滋\n位数为 8.2 位，转换频率超过 150 k Samples/s，功耗低于 300\nW，满足焦平面 100 帧频以及低功耗的\n滋\n需求。\n关键词院 红外焦平面； 读出电路； 片上 ADC； SAR； DAC\n中图分类号院 TN21 文献标志码院 A\n文章编号院 1007-2276(2015)06-1686-06\nIRFPA ROIC integrated digital output\nGao Lei1,2, Zhai Yongcheng1,2, Liang Qinghua1,2, Jiang Dazhao1,2, Ding Ruijun1\n(1. Key Laboratory of Infrared Imaging Materials and Detectors, Shanghai Institute of Technical Physics,\nChinese Academy of Sciences, Shanghai 200083, China;\n2. University of Chinese Academy of Sciences, Beijing 100049, China)\nAbstract: In order to achieve infrared focal plane digital output, an IRFPA readout circuit integrated on鄄\nchip ADC was designed,\nincluding a 512 伊512 cell array readout circuit and shared the successive\napproximation register analog to digital converters (SAR ADC). Unit readout circuit using direct injection\n(DI) structure as the input stage,\nthe output signal was sent\nthrough the multiplexes to ADC. The\ncomparator designed in successive approximation ADC was a high鄄speed comparator which consisted of\nthe preamplifier,\nlatches, self鄄biasing differential amplifiers and output drives. The digital\nto analog\nconverter\n(DAC) used a three鄄stage structure which the charge scaling was combined of voltage scaling.\nUsing the Cadence and Synopsys design platform for circuit忆 s design, simulation and layout design. The\ncircuit was taped out by GLOBALFOUNDRIES company using 0.35\nm, 3.3 V CMOS process. Test\n滋\nresults show the number of significant digits of ADC is 8.2 bit, converts frequency is 150 k Samples/s,\n修订日期\n收稿日期\n2014-11-23\n2014-10-14\n院\n曰\n高磊(1989-)\n院\n主要从事红外焦平面读出电路和片上 ADC 方面的研究\n作者简介\n男\n博士生\nEmail:superior604@163.com\n院\n袁\n袁\n男\n袁\n研究员\n遥\n导师简介\n丁瑞军(1964-)\n博士生导师\n主要从事集成电路设计\n红外光电器件及物理\n分析和评价技术等方面的研究\n院\n袁\nEmail:dingrj@mail.sitp.ac.cn\n袁\n袁\n袁\n尧\n尧\n遥\n高 磊等 院 红 外 焦 平 面 读 出 电 路 集 成 数 字 输 出\n第 6 期\n1687\npower consumption less than 300\nW and meet the needs of focal plane 100 frame rates as well as low\n滋\npower consumption.\nKey words: IRFPA; ROIC;\non鄄chip ADC; SAR; DAC\n平面阵列的两侧\n遥\n0 引 言\n电路整体结构包含有一个 512伊512 的 DI 输入\n级单元阵列电路\n512 个行列级 ADC\n焦平面数字控\n随着红外焦平面技术的日益更新\n更大的阵列\n尧\n尧\n尧\n更低的功耗以及更快的速度成为发展的主要方向[1]\n遥\n就\n袁\n制电路以及数字输出控制电路\nADC 设计包括三段\n遥\n式 DAC\n比较器以及数字控制和寄存器\n电路整体\n而实现上述焦平面技术发展要求的一个主要技术\n遥\n尧\n袁\n结构框图如图 1 所示[4]\n是实现片上集成数模转换(ADC)功能\n将 ADC 集成\n遥\n遥\n到红外焦平面读出电路内\n可以避免芯片间模拟信号\n12bit digital\noutput\n\n512x512\nfocal plane\n\noi\nDigital control\nand register\n袁\n同时片上集成 ADC 可以降\n的传输\n大幅度降低噪声\n曰\n袁\n低系统的功耗以及提高系统的传输速度[2]\n遥\n片上集成 ADC 通常有三种实现方式\n芯片级\n尧\n芯片级 ADC 需要相当快的转\n院\n行列级以及像素级[3]\n遥\n换速度\n对于大阵列的焦平面读出电路在功耗和面\n袁\n积上没有太大的优化\n像素级 ADC 对于版图以及读\n曰\n出电路单元电路的面积要求比较苛刻而且很难做到\n高的精度\n因此\n选用了行列级 ADC 实现焦平面电\n遥\n袁\n图 1 电路整体结构\n路数字输出功能\n遥\nFig.1 Overall structure of the circuit\n文中介绍了一种集成逐次逼近型(SAR)ADC 的\n红外焦平面读出电路\n焦平面读出电路工作在 77 K\n2 单元读出电路设计\n遥\n帧频 100 Hz\n温度\n中心距 30\n设计要求 ADC 要\nm\n袁\n袁\n滋\n较快的转换速度\n遥\n合适的版图面积以\n红外焦平面读出电路工作链路如图 2 所示\n探\n具有超低功耗\n袁\n袁\n尧\n测器将红外光信号转换成电信号\n单元读出电路将\n及高的转换精度\n袁\n探测器输出的电信号进行采样放大\n遥\n然后将处理后\n袁\n1 电路整体结构设计\n的信号送入行列级 ADC 将模拟信号转换成数字信\n最后输出数字信号[5]\n号\n因此单元读出电路是红外\n袁\n遥\n按照设计要求\n红外焦平面读出电路单元面积\n焦平面读出电路十分重要的部分\n袁\n遥\n为 30\n阵列大小为 512伊512\n考虑电路设\nm伊30\nm\n滋\n滋\n袁\n遥\not\ni\nOutput drive}! Column\ncircuit ADC.\n\nDigital\nsignal\ncotrol\n\nTiming control circuit\n\n计主要的重点和难点在于 ADC 电路的精度\n因此选\n袁\n取简单易用的 DI 结构作为焦平面电路的输入级\n考\n遥\n虑到单元电路的面积较小\n像素级 ADC 设计难度较\n袁\n大\n而芯片级 ADC 对于大阵列的焦平面电路的转换\n袁\n图 2 电路工作框图\n速度以及功耗都是相当大的限制因素\n因此\n综合考\n遥\n袁\nFig.2 Block diagram of circuit work\n虑后选取了行列级 ADC 结构\n由于阵列单元面积的\n遥\n使得行列级 ADC 设计限制了其版图宽度只能\n限制\n文中设计采用了直接注入(DI)结构作为焦平面\n袁\n为 30\n读出电路的单元读出电路[6]\n这点对于文中选用的 SAR 结构 ADC 电路\nm\n图 3 为 DI 读出电路的\n滋\n袁\n设计制约比较大\n遥\n包含有注入管 M1\n增加了其版图中电容电阻阵列对\n具体结构\n积分管 M2\n复位管\n袁\n称 性设计 的难度\n袁\n采用开关 M4\n尧\n积分电容 C1\n尧\n采样电容 C2\n文中增加了 其 版 图 设 计 宽 度 到\nM3\nM5\n遥\n尧\n袁\n尧\n尧\n袁\n采用边积分边读出\n将 512 个行列级 ADC 分为两部分\n分布在焦\n60\nm\n带有开关控制的源随缓冲器 SF\n滋\n袁\n袁\n遥\n红外与激光工程\n第 44 卷\n1688\n的工作模式\nDI 单元读出电路工作时\n注入管 M1 工\n速度要求很低\n可以采用非常低功耗的 ADC\n但是\n遥\n袁\n打开 M3\n曰\n袁\n作在亚阈值区\n断开 M2\n使得积\n由于像素级 ADC 是集成在像素单元读出电路内\n在\nM4\nM5\n袁\n尧\n袁\n尧\n袁\n采样电容 C2 上\n袁\n分电容 C1 复位到 3.3 V 电源电压\n像素越来越小的发展趋势下\n对于版图面积设计产\n袁\n打开 M2\n袁\n电荷为 0\n然后断开 M3\n由于红外光\n生了难题\n尤其是在小面积小功耗下还需要高的精\nM5\n遥\n尧\n袁\n袁\n使得电容 C1 上电压下降\n遥\n在探测器上产生漏电流\n度\n使得虽然像素级 ADC 有好的发展前景\n但是目\n袁\n积 分 时 间 结 束 后 关 闭\n袁\n袁\n袁\n电流信 号转换成电 压信号\n前情况下还是很难以解决以上难题\n遥\n采样电容 C2 上获得电压信号\n遥\n相比芯片级和像素级 ADC\n行列级 ADC 由于其\n然后关\n打开 M4\nM2\n袁\n遥\n使得信号\n袁\n袁\n闭 M4\n打开 SELECT 控制的源随缓冲器\n折中的结构\n每行像素单元电路共享一个 ADC\n可以\n袁\n精度\n袁\n袁\n袁\n输出到后级电路进行处理\n而此时打开 M3\nM5 对\n在设计面积\n功耗上都有一个好的折中\n因而成\n袁\n尧\n尧\n袁\n尧\n电容进行复位\n从而达到在后级电路处理输出信号\n为红外焦平面读出电路片上集成 ADC 的主流结构\n袁\n遥\n的同时对探测器的电路信号进行积分操作\n根据 512伊512 焦平面阵列的设计要求\n文中选\n袁\n遥\n用了精度\n面积\n功耗以及转换速度都比较合适的逐\nVDD SAME SELECT\n\nGND\n尧\n尧\n次逼近寄存器型(SAR)ADC\n作为焦平面行共享ADC\n袁\n遥\n包含有一个三\nSAR 结构 ADC 具体结构如图 4 所示\n袁\n一个高精度高速 比较器以及\n段数模转换器(DAC)\n尧\n一个数字控制逻辑电路和寄存器[3]\n遥\nThree-part DAC\n\nControl signal\n\nSampling\nsignal\n\nADC output\n12 bit\n图 3 DI 电路结构\nFig.3 Detail structure of DI circuit\n图 4 SAR ADC 结构示意图\n3 行列级 ADC 设计\nFig.4 Schematic diagram of SAR ADC\n3.1 片上 ADC 结构的选择\n3.2 DAC 结构和原理\n根据 ADC 与焦平面像素之间的位置关系将焦\n三段式数模转换器是由电容和电阻阵列以及控\n平 面 片 上 集 成 ADC 可 以 分 为 三 种 结 构\n芯 片 级\n院\n制开关组成\n其中数模转换器的分压模式是\n电容阵\n像素级 ADC[7]\n行列级 ADC\nADC\n院\n而高位分压电\n袁\n尧\n尧\n芯片级 ADC 的工作方式是\n遥\n列对高位分压\n电阻阵列对低位分压\n焦平面读出电路\n袁\n容阵列又由两个电容阵列组成\n曰\n院\n中间由一个高精度\n将红外探测器阵列图像信号转换成模拟电压信号\n袁\n袁\n缩放电容隔开[3]\n图 5 为文中设计的三段式数模转换\n通过行 列移位寄存 器 依 次 读 出 到 芯 片 级 ADC 上\n遥\n袁\n每个像 素输出的模 拟电压信号 依 次 转 换 为 数 字 信\n器(DAC)\n它的最高有效位(MSB)子 DAC 采用电荷\n袁\n按比例缩放\n而最低有效位(LSB)子 DAC 采用电压\n号\n并最终输出\n面对越来越大的焦平面阵列\n芯片\n袁\n袁\n袁\nADC 芯片在\n遥\n按比例缩放\n其中 MSB 子 DAC 采用一个 4 位电荷\n级 ADC 的转换速度也需要 越来越快\n遥\n袁\n按比例缩放子 DAC 和一个 5 位电荷按比例缩放子\n高频率下工作\n功耗会急剧增加\n因此在大阵列下\n袁\n袁\n袁\n由\nDAC 组成\n通过在两个子 DAC 之间加上一个缩放\n高速芯 片级 ADC 必然 会 提 高 电 路 整 体 的 功 耗\n袁\n袁\n电容 CS 实现\n电容阵列采用相同大小的电容 C0 组\n于功耗的问题\n限制了芯片级 ADC 在红外焦平面\n遥\n袁\nCS 和 LSB 子电荷缩放电容阵列的串联组合值必\n成\n电路中的应用\n遥\n遥\n像素级 ADC 结构中\nCS 的值可以由公式(1)[3]得出\n须等于 C0\n每个像素单元电路或者几\n袁\n院\n袁\nC0\n2\n1\n+ 1\n8C0\n=\n(1)\n个像素单元电路对应一个 ADC\n像素读出信号直接\n1\nCS\n袁\n进入 ADC 转换成数字信号\n像素级 ADC 对 ADC 的\n遥\n高 磊等 院 红 外 焦 平 面 读 出 电 路 集 成 数 字 输 出\n第 6 期\n1689\n因此缩放电容 Cs 应为 8C0/15\n带宽前置放大器\n它驱动锁存器\n锁存器的输出用来\n袁\n遥\n自偏置差分放大器的\n遥\nLSB 子 DAC 的输出电压\n可以用 LSB4 位控制\n驱动一个自偏置差分放大器\n袁\n遥\n如公式(2)[3]\n码 L4L3L2L1 表示\n输出驱动一个输出驱动器\n仿真结果表明这个高速比\n院\n袁\nL4\n遥\n21 + L3\n22 + L2\n23 + L1\n较器能够分辨 2 MHz\n差值为 500 mV 的差分信号\n(VREF 2 -VREF 1 )\nVLSB=\n(2)\n尧\n遥\n24\n蔀\n211 + L2\n210 + L3\n蓸\n21 + S8\n22 +\n噎\n蓸\n(VREF 2 -VREF 1 )\n3.4 SAR ADC 工作原理\n如公式(3)[3]\n可以算出 DAC 的输出电压表达式\n+ S1\n29\nSAR ADC 是通过逐次逼近算法\n每次取最大电压\n院\n袁\n袁\n从而得出每个数\n值区间的一半值与采样电压进行比较\n袁\nL4\nS9\n212 + L1\nVout=\n伊\n213\n蔀\n字位的输出\n遥\n逐次逼近型模数转换器的工作模式如下\n院\n的一\n(3)\n数字控制电路产生首位为\n其余位为\n1\n0\n公式(2)中控制码 L4L3L2L1 为 4 位二进制数\n控制\n冶\n通过数模转换器转换为电压信号并与\n野\n野\n冶\n袁\n串数字信号\n着 LSB 子 DAC 电阻阵列开关的打开和闭合\n控制码\n袁\n袁\n输入的采样信号通过比较器比较大小\n比较器的输\n转换成十进制对应的开关下标\n表示此开关闭合\n其\n遥\n袁\n袁\n出结果输入到数字控制电路\n用于确定模数转换器\nS1~S9 表示双向开关的连接关\n袁\n余开关打开\n公式(3)中\n袁\n遥\n的输出信号首位数字码\n比较器输出为\n则首位数\n1\nS 为 0 表示双向开\nS 为 1 表示双向开关连接 VREF2\n袁\n袁\n系\n关连接 VREF1遥\n野\n则首位数字码为\n冶\n袁\n字码为\n比较器输出为\n1\n0\n0\nVREF2和 VREF1为模数转化器基准电压\n野\n一次比较结束后\n冶袁\n冶遥\n数字控制电路将次位数字码改为\n野\n冶\n野\n遥\nVefelerol fered\n\nra\n\ngx cee eM BtewsaHet« 2s\n袁\n首位数字码为上一时钟比较器所确定的数字\n1\n野\n码\n冶袁\n其余位为\n将产生的数字信号通过数模转换\n0\n野\n冶袁\n袁\n器转换成模拟信号并与输出采样信号通过比较器比\n较大小\n从而确定数模转换器输出信号次位数字码\n遥\n就能确定 N 位模数转换器\n袁\n依此进行 N 个时钟周期\n袁\n的数字输出\n整个过程结束\n即完成了一次模拟量到\n图 5 三段式 DAC 结构\n遥\n袁\nN 位转换结果存储在寄存器内\n数字量的转换\n这就\nFig.5 Three鄄stage structure of DAC\n袁\n袁\n文 中 设 计 的\n是 最终输出所 转化模拟量 的 数 字 码\n遥\n3.3 比较器的设计\nSAR 结构 ADC 为 12 bit 精度\n转换一次需要 13 个\n袁\n转换速度为 154 kHz\n高速比较器应尽可能地降低其传输延迟\n所以\n时钟周期\n工作时钟为 2 MHz\n袁\n袁\n袁\n遥\n设计的基本原则是采用前置放大器使输入的变化足\n够大并将其加到锁存器上\n这组合了电路的最佳特\n4 ADC 芯片测试\n遥\n一种是具有负指数响应的前置放大器\n点\n具有正指数响应的锁存器电路[8]\n遥\n另一种是\n院\n袁\n一个遵循上述原则\n对于 ADC 性能的描述可以分为静态特性和动\n态特性\n静态特性主要包含失调误差\n增益误差\n积\n设计的高速比较器如图 6\n第一级是一个递增益高\n遥\n尧\n尧\n遥\n分非线性以及微分非线性\nADC 最主要的动态特性\nCascade\n\npreamplifier,\n\nVBIAS\n\n"" Self-biasing\ndifferential\namplifier\n\noVout\n遥\n就是转换时间\n即输入的模拟信号改变时\n输出数字\n袁\n袁\n信号转变所需要的时间\nADC 的各项静态性能指标\n遥\n均由输入输出测试的曲线计算得出\n遥\n整个 ADC 版图布局如图 7 所示\n版图面积为\n袁\n芯片采用 GLOBALFOUNDRIES 公司\n60\nm伊1 mm\n遥\n滋\n0.35\n3.3 VCMOS 工艺加工\n实际芯片测试如图\nm\n滋\n8 所示\n尧\n芯片封装后插入 PCB 测试板基座上\n遥\n测试\n袁\n遥\nADC 的静态输入输出特性\n需要给各个测试管脚加\n袁\n上电容以消除信号传输中的高低噪声\n测试选取具\n遥\n有代表性的输入模拟电压及其附近的电压作为测量\n图 6 高速比较器结构\n点\n测试采用 2 MHz 数字时钟\n调试阶段已经通过调\nFig.6 Structure of high鄄speed comparator\n遥\n袁\n红外与激光工程\n第 44 卷\n1690\n近的曲线\n可以从图中看出存在的积分非线性\n微分\n试 ADC 的参考电压来消除了可能存在的失调误差\n袁\n积分非线性(INL)的定义是实际有限精度特\n尧\n遥\n非线性\n遥\n性曲线与理想有限精度特性曲线在垂直方向上的最\n大差值\n微分非线性被定义为在每个垂直台阶上测\n遥\n量的相邻编码之间的距离\n遥\n积分非线性和微分非线性分别体现了 ADC 的\n精度与单调性\n根据测量得出的 ADC 的积分非线性\n遥\n图 7 SAR ADC 的版图结构\n曲线\n可以计算出 ADC 的实际有效精度\n根据输入\n袁\n遥\nFig.7 Layout of SAR ADC\n输出特性曲线以及积分非线性曲线\n计算得出 ADC\n袁\n的实测性噪比为 51 dB\n与仿真阶段的 66 dB 存在明\n袁\n显的差距\n去除 ADC 本身存在的量化噪声\n最后得出\n遥\n袁\n实际测试与仿真阶\nADC 的实际有效位数为 8.2 bit\n遥\n段存在明显误差的主要原因是\n芯片在流片过程中\n袁\n由于工艺的原因\n导致电容的不精确\n特别是缩放电\n袁\n袁\n容的不精确会对整个 DAC 的精度造成很大的影响\n遥\n图 8 ADC 芯片封装和测试\nIntegral nonlinearity/LSB\n\n0.3 0.\n\n50.7 0.9 11 13 1\nSampling point/V\n\n5\nFig.8 Package and test of ADC chip\n按照上述要求测量 ADC 的特定电压的静态输\n入输出关系\n得出结如图 9 所示\n图 9 给出了两条曲\n袁\n遥\n线\n分别是理想的输入输出曲线以及实际测试得出\n袁\n的输入输出特性曲线\n图 10 为放大到测量电压点附\n遥\nDigital output/bit\n\n1.4\n\n18 2.2\nAnalog input/V\n\n2.6\n\n3.0\n图 11 ADC 的积分非线性\nFig.11 INL of ADC\n5 结 论\n文中设计了一种带有数字输出的红外焦平面读\n出电路\n将 SAR 结构 ADC 用于红外焦平面读出电路\n袁\n行共享结构中\n设计的 SAR 结构 ADC 具有功耗低\n图 9 ADC 输入输出特性曲线\n遥\n采样频率高等优点\n尧\n测试结果显示 SAR\n版图面积小\nFig.9 Input鄄output characteristic curve of ADC\n尧\n遥\nADC 有效位数为 8.2bit\n袁\n转换频率超过 150 k Samples/s\n袁\n满足焦平面 100 帧频以及低功耗\n0\n1.00 1.02 1.04 1.06 1.08 1.10 1.12\nAnalog input/V\n功耗低于 300\nW\n袁\n滋\n的需求\n遥\n设 计 中 的 主 要 部 分 SAR ADC 通 过\nGLOBALFOUNDRIES 公 司 0.35\nm\\3.3 VCMOS 工\n滋\n艺加工\n流片并测试\n测试结果显示 ADC 的实际有\n尧\n效位数为 8.2 bit\n遥\n与 Cadence 后仿结果相差两位\n存\n袁\n袁\n在这个误差的原因是芯片制造过程中不可避免地存\n在电容的不精确性\n消除误差主要的实现方法是增\n图 10 输入输出曲线部分细节\n遥\n加校正 DAC\n用校正 DAC 对主 DAC 的高位电容进\nFig.10 Detail of input鄄output curve\n袁\n高 磊等 院 红 外 焦 平 面 读 出 电 路 集 成 数 字 输 出\n第 6 期\n1691\ndigital ROIC for HgCdTe e -APD FPA [J]. Infrared and\n行数字自校正\n但是增加校正 DAC 对于 ADC 的设\n遥\nLaser Engineering, 2014, 43(9):2798-2804. (in Chinese)\n计面积又是一个难点\n今后主要的改进方向应该就\n遥\n陈国强, 张君玲, 王攀, 等. 碲镉汞 e-APD 焦平面数字化读\n是在校正 DAC 与 ADC 版图设计面积优化之间的权\n出电路设计[J]. 红外与激光工程, 2014, 43(9): 2798-2804.\n衡\n使得提高 ADC 精度的同时不会给版图设计带来\n袁\n[5]\nLi Xinyi, Yao Suying, Zhao Yiqiang, et al. CMOS readout\n太大的压力\n遥\ncircuit for infrared focal plane array using self鄄bias current\n[J]. Infrared and Laser Engineering, 2010, 39 (2):\nmirror\n参考文献院\n201-205. (in Chinese)\n[1]\nFan Jinxiang, Yang Jianyu. Development\ntrends of infrared\n李辛毅, 姚素英, 赵毅强, 等. 基于自偏置电流镜的 CMOS\nInfrared\nand Laser\nimaging detecting technology\n[J].\n红 外 焦 平 面读 出 电 路 [J]. 红 外 与 激 光工 程 , 2010, 39 (2):\nEngineering, 2012, 41(12): 3145-3153. (in Chinese)\n201-205.\n范晋祥, 杨建宇. 红外成像探测技术发展趋势分析 [J]. 红\n[6]\nLiu Chuanming, Yao Libin. Study on digital readout circuit\n外与激光工程, 2012, 41(12): 3145-3153.\nfor infrared FPA detectors[J]. Infrared Technology, 2012, 34\n[2]\nPain B, Fossum E R. Approaches and analysis for on focal\n(3): 125-133. (in Chinese)\nplane analog to digital conversion [C]//SPIE, 1994, 2226:\n刘 传 明 , 姚 立 斌 . 红 外 焦 平 面 探 测 器 数 字 读 出 电 路 研 究\n208-218.\n[J]. 红外技术, 2012, 34(3): 125-133.\n[3]\nZhu Hui, Li Yaoqiao, Chen Xinyu, et al. A design scheme\n[7]\nLiu Xiaoyang, Ding Ruijun, Lu Wei, et al. A novel design\nof digital output for IRFPA[J]. Laser & Infrared, 2007, 37:\nof infrared focal plane array with digital read out\ninterface\n997-1000. (in Chinese)\n[C]//SPIE, 2010, 7658: 765848.\n朱慧, 李尧桥, 陈新禹, 等. 一种红外焦平面的数字化输出\n[8] Allen P E, Holberg D R. CMOS 模 拟 集 成 电 路 设 计 [M].\n设计方案[J]. 激光与红外, 2007, 37: 997-1000.\n2nd ed. 北京: 电子工业出版社, 2011: 392-397.\n[4]\nChen Guoqiang, Zhang Junling, Wang Pan, et al. Design of\n']",
Current Input Pixel-Level ADC with High SNR and Wide Dynamic Range for a Microbolometer.pdf,"[""(MDPL\nCommunication\nCurrent Input Pixel-Level ADC with High SNR and Wide\nDynamic Range for a Microbolometer\nJeongho Lee 1, Ilku Nam 2\nand DooHyung Woo 1,*\n1\nSchool of Information, Communications and Electronics Engineering, The Catholic University of Korea,\nGyeonggi-do 14662, Korea; jesseily92@gmail.com\n2 Department of Electrical Engineering, Pusan National University, Busan 46241, Korea; nik@pusan.ac.kr\n* Correspondence: cowpox@catholic.ac.kr; Tel.: +82-2-2164-4522\nAbstract: A readout circuit incorporating a pixel-level analog-to-digital converter (ADC) is studied\nfor two-dimensional medium wavelength infrared microbolometer arrays. The signal-to-noise\nratio (SNR) and charge handling capacity of the unit cell circuit are improved by using the current\ninput pixel-level ADC. The charge handling capacity of the integrator is appropriately extended\nto maximize the integration time regardless of the magnitude of the input current and low power\nsupply voltage. The readout circuit was fabricated using a 0.35-µm 2-poly 4-metal CMOS process for\na 640 × 512 array with a pixel size of 40 µm × 40 µm. The peak SNR and dynamic range are 77.1 and\n80.1 dB, respectively, with a power consumption of 0.62 µW per pixel.\nKeywords: pixel-level ADC; current-input ADC; readout circuit; microbolometer; high SNR; wide dy-\nnamic range\ncheck for\nupdates\n1. Introduction\nCitation: Lee, J.; Nam, I.; Woo, D.\nCurrent Input Pixel-Level ADC with\nInfrared cameras, which detect objects by infrared rays in a situation where they\ncannot be observed by human eyes, are widely used in military, medical, and commercial\nﬁelds. In recent years, there has been an increase in the demand for compact and power\nefﬁcient portable infrared cameras, especially in the private sector for medical devices and\nsecurity cameras. Therefore, signiﬁcant research has been conducted on microbolometers,\nwhich are uncooled-infrared detectors that do not require a cryogenic cooling system [1–4].\nWhile designing a readout integrated circuit (ROIC) for infrared focal plane array\n(IRFPA), noise performance is of crucial concern. The dominant noise sources in a mi-\ncrobolometer are the Johnson noise and 1/f noise, which can be decreased by increasing the\nintegration time [5]. Therefore, it is necessary to use a pixel-level readout architecture with\na large integration capacitor to obtain a long integration time. However, a microbolometer\nhas a high bias current compared to its signal current. Hence, it is hard to locate a large\nintegration capacitor in the pixel because of area limitation. To effectively overcome this\nproblem, a bias-current skimming technique can be used [6]. In addition to noise perfor-\nmance, the dynamic range (DR), which is deﬁned as the ratio of the maximum allowable\nsignal to the minimum detectable signal, is also an important factor. In many applications,\neither the frame rate is very slow or the target temperature varies over a wide range.\nHence, it is necessary to consider both the noise performance and the charge handling\ncapacity of the ROIC.\nHigh SNR and Wide Dynamic Range\nfor a Microbolometer. Sensors 2021,\n21, 2354. https://doi.org/10.3390/\ns21072354\nAcademic Editor: Roman Sotner\nReceived: 17 February 2021\nAccepted: 24 March 2021\nPublished: 28 March 2021\nPublisher’s Note: MDPI stays neutral\nwith regard to jurisdictional claims in\npublished maps and institutional afﬁl-\niations.\nCopyright: © 2021 by the authors.\nA monolithic analog-to-digital converter (ADC) is essential for compact and power-\nefﬁcient portable infrared cameras. Information can be transported with a high signal-\nto-noise ratio (SNR) in a more power efﬁcient manner in the digital domain using a\nmonolithic ADC, and on-chip signal processing for system-on-chip (SoC) can be made\navailable. Monolithic ADCs can be implemented at the chip level by employing a single\nhigh-speed ADC [7], at the column level by using multiple lower speed ADCs [8,9] or at the\npixel level by using very low speed ADCs [10–14]. A pixel-level ADC has many advantages\nLicensee MDPI, Basel, Switzerland.\nThis article is an open access article\ndistributed under\nthe terms and\nconditions of the Creative Commons\nAttribution (CC BY) license (https://\ncreativecommons.org/licenses/by/\n4.0/).\nSensors 2021, 21, 2354. https://doi.org/10.3390/s21072354\nhttps://www.mdpi.com/journal/sensors\nSensors 2021, 21, 2354\n2 of 11\nover chip and column level ADCs. These include low noise, low power dissipation, and the\nability to continuously observe the pixel outputs for long time [14,15].\nAlthough the pixel-level ADC has many advantages, conventional ADC architectures\nare not easily implemented in IRFPAs because a low-power, high-resolution ADC with\nsmall size is required. Since a single-slope ADC (SS-ADC) has a very simple structure,\na pixel-level ADC can be easily implemented using this method [10]. However, since analog-\nto-digital (A/D) conversion is performed after integration, SNR and DR cannot be im-\nproved. In addition, a large number of comparisons are required to implement a high-\nresolution SS-ADC, which signiﬁcantly increases power consumption.\nAnother method to implement a pixel-level ADC is based on the time-to-digital (TTD)\nADC, also known as the time-to-ﬁrst spike ADC [11]. While integrating the input current,\nit detects the time at which the integral signal reaches the reference voltage. Properly modi-\nfying the reference voltage can improve the DR characteristics. However, since the integration\ntime varies depending on the input current, it is difﬁcult to obtain a good SNR or a suitable\ndigital resolution for a large input current.\nStudies have been conducted that implement pixel-level ADC using pulse frequency\nmodulation (PFM) method [12,13]. While integrating the input current, the integral signal\nis reset when the integral signal reaches the reference voltage, and A/D conversion is per-\nformed using the reset number. Since sufficient integration time and charge handling capacity\ncan be obtained, SNR and DR characteristics can be improved. However, the PFM-based imple-\nmentation requires many reset pulses to obtain a high-resolution ADC. Therefore, it has high\npower consumption and is disadvantageous for fast operation. To overcome these problems,\nthe two-stage method can be a good solution [16]. However, since accuracy and linearity\nare affected by the reset interval, A/D conversion performance may be poor depending\non the characteristics of the comparator. In addition, it is still difﬁcult to reduce power\nconsumption since the comparator is always on as the asynchronous method is used.\nIn the proposed readout circuit, current-input pixel-level ADC using a synchronous\ntwo-stage A/D conversion is efﬁciently performed during the integration, and the charac-\nteristics of power consumption, SNR, and DR are improved with high resolution.\n2. Basic Concepts of the Proposed ADC\nThe current input pixel-level ADC proposed in this paper uses a synchronous two-\nstage A/D conversion to reduce power consumption and improve SNR and DR character-\nistics. The basic concepts of the proposed ADC are explained in the timing diagram shown\nin Figure 1. First, the current input is integrated and converted into a voltage V(CINT),\nand it is compared with the reference voltage (VTH) at regular time intervals. VRST and\nVSAT denote the reset voltage and the maximum allowable voltage of V(CINT), respectively,\nand VTH is equal to 0.5(VRST + VSAT). If the value of V(CINT) is greater than the value of\nVTH at the comparison point, the constant voltage of 0.5(VSAT – VRST) is removed from\nV(CINT). This process is repeated periodically during the integration of the current input.\nThe digital information DOUT on the current input ISIG is obtained by counting the number\nof removals and is expressed by\n(cid:21)\n(cid:20)\n2TI NT ISIG\nCI NT(VSAT − VRST)\nDOUT =\n(1)\nwhere TINT is the integration time, CINT the integration capacitor, and the square bracket\n[] represents the function of digitization. This method is based on ﬁrst-order incremental\nADC [17]. Using this method, A/D conversion is efﬁciently performed during integration\nand a sufﬁcient integration time and large charge-handling capacity is obtained. The maxi-\nmum charge-handling capacity QM is expressed by\nQM = 2M−1CI NT(VSAT − VRST)\n(2)\n3 of 11\n\nwhere M is the resolution of the A/D conversion. Since a synchronized method is used\nwhere comparing V(Cjyr) and Vrq, power consumption of the comparator is minimized.\n\nVC\nr\n\nVasr\n\n<— .\n1 cycle for MSBs 7 Time\n\nis <7\nIntegration & ADC for Mss / ADC for LSBs\n\n(26 cycles) (2° cycles)\nReadout for MSBs\nReadout for LSBs\nSensors 2021, 21, 2354\n3 of 11\nwhere M is the resolution of the A/D conversion. Since a synchronized method is used\nwhere comparing V(CINT) and VTH, power consumption of the comparator is minimized.\nFigure 1. Basic concepts of the proposed pixel-level analog-to-digital converter (ADC).\nIn a typical application for medium wavelength infrared (MWIR) microbolometer,\neven if the current input is integrated after removing the bias current, the ADC of the\nreadout circuit must have a resolution of 12-bit or more [12,14]. To implement a 12-bit\nresolution using only the ﬁrst-order incremental ADC, 212 comparison cycles are required,\nwhich is a great burden in terms of speed and power consumption. To solve these problems,\na two-stage A/D conversion is used as shown in Figure 1. In the ﬁrst period, A/D conver-\nsion for the upper six-bit is performed during the integration as described above. After the\nintegration, the residual voltage of V(CINT) is held and the lower six-bit is determined by\nadditional single-slope A/D conversion. In this case, since the number of the comparison\ncycles for implementing a 12-bit ADC is reduced to 27 (26 + 26) times, a compact and\nlow-power design is possible, which can be easily implemented as a pixel-level ADC.\nThe circuits for the upper and lower six-bit A/D conversion are shared by dividing the\ntime, so that the conversion result for the upper six-bit should be read out of the array\nbefore the lower six-bit conversion.\n3. Circuit Implementation\nFigures 2 and 3 show the schematic diagram and detailed timing diagram of the\nproposed pixel-level ADC, respectively. Since a microbolometer has a high bias current\ncompared to its signal current, bias-current suppression is used [6]. Using the accurate\nbias-current suppression, the integration time can be increased to improve the SNR and the\nresolution required for A/D conversion can be reduced. Additionally, ﬁxed-pattern noise\n(FPN), which is produced by the non-uniform IRFPA response, can be lowered to reduce\nthe burden on non-uniformity correction [6,18]. The responsivity of the microbolometer is\nhighly dependent on the bias voltage VB, hence, maintaining a stable bias voltage is crucial\nin microbolometer applications [19]. Therefore, a capacitive transimpedance ampliﬁer\n(CTIA) is used for current integration even though it has a high-power consumption.\n4of11\n\n354\n\n- Suppression circuit\n\nColumn\nmultiplexer\n\ncounter\n\nbias-current\n\nsuppression\n\n2Zx2\nbolometer\n\n1-bit latch\n\n(b)\nSensors 2021, 21, 2354\n4 of 11\n1-bit latch\n\n(b)\n\nim of the proposed ADC: (a) overall unit cell circuit; (b) one-bit latch used in unit cell circuit.\n\nV sar\n\nP Leycle for MSBs ‘ : Yeyele for L\nlk\n\n: 3<>< ><\nIntegration & ADC for MSBs ADC for LSBs\n(26 cycles) (2° cycles)\n\nReadout for MSBs Readout for LSBs\nFigure 2. Schematic diagram of the proposed ADC: (a) overall unit cell circuit; (b) one-bit latch used in unit cell circuit.\nFigure 3. Timing diagram of the proposed ADC shown in Figure 2.\n5 of 11\n\nFirst, the current input Isjc is integrated with the integrator and the value of V(Cjnr)\nis compared with the value of Vry using the comparator. Here, Psy and Pst are control\nsignals for determining the integration time and reset control signals for the integrator,\nrespectively. The Ccps is the capacitor required for correlated double sampling (CDS) oper-\nation [20], reducing FPN and low-frequency noise and compensating for the offset voltage\nof the comparator and integrator. To completely eliminate all FPNs and non-uniformities\nin IRFPA and ROIC, an additional calibration process is required. The comparison result is\ntransferred and stored in a one-bit latch according to the fen _c signal. The result of the\ncomparison is a logic 0’, the output of the one-bit latch Lo; is a logic 0’, and the constant\ncharge is removed from the integrator to the DAC according to the control signals of ¢; and\n(2. The one-bit latch is then reset according to the @1_rsr signal for the next comparison cy-\ncle. The inversion signal of Lo; is used as a clock signal of a six-bit counter, through which\nthe digital value of the upper six bits for the current input is determined. ¢c rst is used for\nthe reset control signal of the six-bit counter.\n\nAfter completing the integration and A/D conversion of the upper six bits, the V(Cinr)\nvalue is held by using ¢sw, and the digital values stored in the counter are sequentially\ntransferred to the column multiplexer outside the array. A/D conversion of the lower six\nbits is implemented as a single-slope A/D conversion method for the residual V(Cyyr).\nFirst, the six-bit counter is reset using the @c_rst, and the Vry value changes from Vest\nto 0.5(Vrsr + Vsar) in the form of a ramp signal. When the value of Vy is less than the\nvalue of V(Cyn7), the input of one-bit latch is logic 1’, and the Loy; changes periodically by\npen_c and $1, rst. Therefore, the digital value of the six-bit counter increases until the Vry\nexceeds V(Cjn), and the final digital data stored in the counter is the lower six-bit digital\ndata for the current input. Finally, the six-bit digital data is sequentially transferred once\nagain to the column multiplexer outside the array.\n\nFigure 4 shows a one-bit counter used in the unit cell circuit in Figure 2. It is a simple\nstructure using three logic inverters, and it can be easily applied to the pixel-level ADC.\nX}n and Xour are clock and output, respectively, and Xour turns into the logic value of vy\nwhen X7x changes from logic 1’ to 0’. Due to the delay time between Xj, and Xour signals,\nvy is not affected by changes in Xour signal at this moment. Subsequently, when Xin\nchanges from logic 0’ to 1’, vy changes to the inversion of Xour. The final six-bit counter is\nconfigured as an asynchronous ripple counter using six one-bit counters in Figure 4.\n\nJ,\nVpp\n\n$c_RsT\n\n(b)\nSensors 2021, 21, 2354\n5 of 11\nFirst, the current input ISIG is integrated with the integrator and the value of V(CINT)\nis compared with the value of VTH using the comparator. Here, φSW and φRST are control\nsignals for determining the integration time and reset control signals for the integrator,\nrespectively. The CCDS is the capacitor required for correlated double sampling (CDS) oper-\nation [20], reducing FPN and low-frequency noise and compensating for the offset voltage\nof the comparator and integrator. To completely eliminate all FPNs and non-uniformities\nin IRFPA and ROIC, an additional calibration process is required. The comparison result is\ntransferred and stored in a one-bit latch according to the φEN_C signal. The result of the\ncomparison is a logic 0’, the output of the one-bit latch Lout is a logic 0’, and the constant\ncharge is removed from the integrator to the DAC according to the control signals of φ1 and\nφ2. The one-bit latch is then reset according to the φL_RST signal for the next comparison cy-\ncle. The inversion signal of Lout is used as a clock signal of a six-bit counter, through which\nthe digital value of the upper six bits for the current input is determined. φC_RST is used for\nthe reset control signal of the six-bit counter.\nAfter completing the integration and A/D conversion of the upper six bits, the V(CINT)\nvalue is held by using φSW, and the digital values stored in the counter are sequentially\ntransferred to the column multiplexer outside the array. A/D conversion of the lower six\nbits is implemented as a single-slope A/D conversion method for the residual V(CINT).\nFirst, the six-bit counter is reset using the φC_RST, and the VTH value changes from VRST\nto 0.5(VRST + VSAT) in the form of a ramp signal. When the value of VTH is less than the\nvalue of V(CINT), the input of one-bit latch is logic 1’, and the Lout changes periodically by\nφEN_C and φL_RST. Therefore, the digital value of the six-bit counter increases until the VTH\nexceeds V(CINT), and the ﬁnal digital data stored in the counter is the lower six-bit digital\ndata for the current input. Finally, the six-bit digital data is sequentially transferred once\nagain to the column multiplexer outside the array.\nFigure 4 shows a one-bit counter used in the unit cell circuit in Figure 2. It is a simple\nstructure using three logic inverters, and it can be easily applied to the pixel-level ADC.\nXIN and XOUT are clock and output, respectively, and XOUT turns into the logic value of vy\nwhen XIN changes from logic 1’ to 0’. Due to the delay time between XIN and XOUT signals,\nvy is not affected by changes in XOUT signal at this moment. Subsequently, when XIN\nchanges from logic 0’ to 1’, vy changes to the inversion of XOUT. The ﬁnal six-bit counter is\nconﬁgured as an asynchronous ripple counter using six one-bit counters in Figure 4.\nFigure 4. One-bit counter used in the unit cell circuit of Figure 2: (a) schematic diagram; (b) timing\ndiagram.\nFigure 5 shows the overall arrangement of the proposed ROIC. The unit circuit in\nFigure 2 has a simple conﬁguration. However, it is difﬁcult to implement the proposed\nunit circuit in one pixel of 40 µm × 40 µm. Thus, as shown in Figure 5, four adjacent\n(2 × 2 array) bolometers share one unit circuit in Figure 2 in a time-dividing manner.\nThe size of the bolometer array is 640 × 512, and the unit circuit has an array of 320 × 256.\nThe temperature sensor detects the substrate temperature, and the dark sensor obtains the\n6 of 11\n\nreference value of the bias current. The suppression circuit and 12-bit ADC/DAC blocks\nare used to control the bias current of the bolometer array [6]. Timing circuit, row scan,\nand ramp signal generator are required to control the unit circuit, and column multiplexer\nis required to transfer digital data outside.\n\nTemp. sensor\n\nDark sensor\n\nSuppression circuit\n\n12-bit ADC/DAC\n\nfo\n4 ‘| eee\ns\n# o\na c\nre) c\n5 S| Unit cell\nwn —_ . .\n2 3 e circuit\n€ ela\n— om 320x256x '2x2’\n5 array\noc\n\nColumn multiplexer\nSensors 2021, 21, 2354\n6 of 11\nreference value of the bias current. The suppression circuit and 12-bit ADC/DAC blocks\nare used to control the bias current of the bolometer array [6]. Timing circuit, row scan,\nand ramp signal generator are required to control the unit circuit, and column multiplexer\nis required to transfer digital data outside.\nFigure 5. Block diagram of the overall arrangement of the proposed readout integrated circuit (ROIC).\n4. Experimental Results\nThe readout circuit was designed using a 0.35 µm 2-poly 4-metal CMOS process\nfor a 640 × 512 MWIR a-Si microbolometer array with a pixel size of 40 µm × 40 µm.\nThe design parameters of the microbolometer and readout circuit are summarized in Table 1.\nThe fabricated unit cell circuit is 80 × 80 µm2 in size because the proposed unit circuit\nis shared by 2 × 2 pixels. Uncooled microbolometers are difﬁcult to operate at speeds\nabove 60Hz. Therefore, the frame rate of IRFPA is set to 60 Hz and the sampling rate of the\nproposed pixel-level ADC is 240 Hz. It was tested at room temperature using the operation\nboard shown in Figure 6.\nTable 1. Design parameters of the microbolometer and readout circuit.\nParameter\nValue\n10 MΩ\n2.5%\n5 × 10−8 W/K\n80%\n80%\n60 Hz\n40 nA\n20.4 nA\n3.1 ms\n1 pF\n<0.62 µW\nResistance\nTemperature coefﬁcient of resistance\nThermal conductance\nFill factor\nEmissivity\nFrame rate\nAverage bias current (IB)\nMaximum signal current (ISIG)\nIntegration time (TINT)\nIntegration capacitor (CINT)\nPower consumption\n2021, 21, 2354 7 of 11\n\n, ho\n\nJum\n\n(a) (b)\nnsors 2021, 21, 2354\n\n7 of 11\n\n(a)\n\nFe aie\n\n(b)\n\nFigure 6. Measurement system: (a) operation board and fabricated chip; (b) mask layout of the proposed unit cell circuit for\n\n2 x 2 bolometer array.\n\nFigure 7 shows the operating waveforms of the proposed pixel-level ADC. The current\ninput is integrated and converted to MSBs in the first period. Subsequently, the residual\nV(Cinr) is held and converted to LSBs. MSBs and LSBs are estimated by counting the num-\nber of Lour- Figure 7 b shows the operating waveforms of the counter output (Q3Q2Q) Qo).\nOnly four bits are displayed among six-bit outputs, and Qo represents the least significant\nbit. As shown in Figure 7, the range of the available current input that does not saturate\nduring integration time is drastically improved by the current input pixel-level ADC.\n\n¢\n- LITE a\n—_\\_—>\nIntegration & ADC\nADC for MSBs for LSBs\n\n(a)\n\n9c_RsT\n\n0\nQ)\nQ\nQ3\n\nto\n\n(b)\nSensors 2021, 21, 2354\n7 of 11\nFigure 6. Measurement system: (a) operation board and fabricated chip; (b) mask layout of the proposed unit cell circuit for\n2 × 2 bolometer array.\nFigure 7 shows the operating waveforms of the proposed pixel-level ADC. The current\ninput is integrated and converted to MSBs in the ﬁrst period. Subsequently, the residual\nV(CINT) is held and converted to LSBs. MSBs and LSBs are estimated by counting the num-\nber of LOUT. Figure 7 b shows the operating waveforms of the counter output (Q3Q2Q1Q0).\nOnly four bits are displayed among six-bit outputs, and Q0 represents the least signiﬁcant\nbit. As shown in Figure 7, the range of the available current input that does not saturate\nduring integration time is drastically improved by the current input pixel-level ADC.\nFigure 7. Measured operating waveforms of the proposed pixel-level ADC: (a) current integration and A/D conversion;\n(b) counter output.\nFigure 8a shows the measurement results of differential non-linearity (DNL). Figure 8b\nshows the integral non-linearity (INL) estimated by Figure 8a. The DNL is within about\n±0.4 LSB, and the INL is within about ± 2.0 LSB. These results conﬁrm the monotonicity\nof the proposed pixel-level ADC.\n8 of 11\n\n021, 21, 2354\n\n» 2 4» S@ » Q@ w\nXS 8 8 @ 8 H RK\ncS SS SS SS ¢ 5S GS\n\n$1 (ING) Aqueaur|-uou jenuasayia\n\n3000\n\n1500\n\n3000\n\n1500\n\nDigital code\n\n(b)\n\nDigital code\n\n(a)\nSensors 2021, 21, 2354\n8 of 11\nFigure 8. Measurement results of the linearity of the proposed pixel-level ADC: (a) differential non-linearity (DNL);\n(b) integral non-linearity (INL).\nSNR and DR characteristics are important ﬁgures of merit for IRFPA applications.\nTo estimate the SNR and DR characteristics, the readout circuit noise, i.e., the ADC noise,\nshould be measured. First, the digital output of the ADC for a zero current input was\nsampled 2000 times, then the readout noise for a zero current input was estimated as\nthe standard deviation σ of the sampled output. Through this process, it was conﬁrmed\nthat the readout noise for a zero-current input σ0 is close to 0 LSB. However, this method\nalone cannot evaluate the effect of kTC noise of the DAC on the readout noise. In order to\nevaluate the readout noise caused by the DAC, there must be a current input. In this case,\nthe readout noise itself can be evaluated by eliminating the noise caused by the current\ninput. The ADC output was sampled several times for two different current inputs, and the\nhistograms were obtained as shown in Figure 9. Figure 9a,b are histograms obtained using\na total of 2000 samples, where the number of MSBs counting is 1 and 63, respectively.\nUsing the data in Figure 9, the noise of the current input system σI can be removed, and the\nnoise equivalent to one MSB counting σM can be predicted as shown in following equation:\n0 + σ2\nI + σ2\nM\na = σ2\nσ2\n(3)\n0 + σ2\nI + 63σ2\nM\n(cid:1)/62 = 0.0438 [LSB]\nσ2\nb = σ2\n(cid:113)(cid:0)σ2\n(4)\nσM =\nb − σ2\na\n(5)\nwhere σa and σb are the σ of Figure 9a,b, respectively. After predicting the σM value\nfrom the histograms of Figure 9, the readout noise according to the current input can be\nevaluated and applied to the ﬁnal SNR characteristic of Figure 10.\nFigure 10 shows the SNR characteristics according to the current input, and the total\nnoise is estimated from the bolometer noise, quantization noise, and the readout noise.\nThe legend A of Figure 10 indicates the graph of the proposed pixel-level ADC with a TINT\nof 3.1 ms and a maximum ISIG of 20.4 nA. Legends B and C indicate the case of applying\nthe conventional 12-bit SS-ADC after the integration time. In the case of B and C, since the\ncharge handling capacity is limited due to the pixel area limitation, it is necessary to reduce\nthe integration time to 98 µs for a wide current input (B) or reduce the input range to\n3.0 nA for a long integration time (C). Design parameters except for TINT and maximum\nISIG are the same as in Table 1 for A, B, and C. Since the charge handling capacity of the\nproposed ADC is appropriately extended, the integration time is maximized for a wide\ninput range. Therefore, the proposed ADC has good SNR characteristics for a wide input\nrange as shown in Figure 10.\ntal 2000 samples Total 2000 samples\n\nSBs counting: 1 MSBs counting: 63\n1400\n\n8\n\no= 0.615 [LSB] 6 = 0.705 [LSB]\n\nNumber of samples\n8 8 8\n\n8\n\n-aan_ —_— =\n\n2 4-1 0 1 2 3 3 2 1 40 1 2 3\n\nA Digital output [LSB] A Digital output [LSB]\n(a) (b)\n\ndigital output of the proposed ADC with a fixed input: (a) where the number of MSBs counti\nf MSBs counting is 63.\n\n90\n80\n70\n60\n50\n40\n30\n20\n10\nO- T\n\n0 2 4 6 8 10 12 14 16 18 20\n\nSNR [dB]\n\nCurrent input (Jc) [nA]\n9 of 11\n\nTotal 2000 samples Total 2000 samples\n1600 . MSBs counting: 1 1400 + MSBs counting: 63\n1400 | 4200 -\n81200 | = 0.615 [LSB] 3 6 = 0.705 [LSB]\na 1000 —\nF 1000 | &\nao ® 800 —\n3 800. c)\n. =\nSs\n2 400. 2 400\n200 200\n\n0 __i _ | L_\n3 2 A 0 1 2 3 3 2 A o 1 2 3\nA Digital output [LSB] A Digital output [LSB]\n\n(a) (b)\nSensors 2021, 21, 2354\n9 of 11\nFigure 9. Histograms of the digital output of the proposed ADC with a ﬁxed input: (a) where the number of MSBs counting\nis 1; (b) where the number of MSBs counting is 63.\nFigure 10. SNR characteristics for the three cases: (A) the proposed pixel-level ADC; (B) 12-bit\nSS-ADC with reduced integration time; and (C) 12-bit SS-ADC with reduced input range.\nTable 2 shows the performance comparison between the proposed ADC and other\nmethods. The design of the readout circuit for IRFPA is greatly dependent on the IR\ndetector. Therefore, in the case of A, A(cid:48), B, and C, the main design parameters are the\nsame for reliable comparison. A’ indicates the case of applying the proposed ADC without\nbias-current suppression. Since the maximum value of the bias current is about 60 nA,\nif the bias current is not suppressed, the integration time decreases and both charge\nhandling capacity and SNR decrease. Without bias-current suppression, the effective signal\nrange decreases and the burden required for non-uniformity correction is increased [12,14].\nTherefore, the resolution of the ADC must be increased in the actual design. Although it is\ndifﬁcult to make a clear comparison, the results presented in other papers are compared\nTable 2. Reference [10] uses the SS-ADC for pixel-level ADC and shows very low charge-\nhandling capacity like B and C. Since the readout circuit of the reference [10] is for a cooled\ntype MWIR detector, the bias current is small and the readout noise is very low. In addition,\nsince the SNR value of A includes the noise of the detector, it is difﬁcult to clearly compare\nthe SNR values of A and [10]. The reference [11] uses the TTD method for pixel-level ADC,\nand the proposed ADC shows superior SNR characteristics. Since the readout circuit of\nthe reference [11] is for a short wavelength infrared (SWIR) detector, an additional method\nis used to increase the charge handling capacity to an extreme. It can be seen from the\nSensors 2021, 21, 2354\n10 of 11\nTable 2 that the proposed ADC shows excellent and balanced characteristics in both charge\nhandling capacity and SNR.\nTable 2. Performance comparison.\nCharge Handling\nCapacity [e-]\nPeak SNR [dB]\nDescription\nA\n405 M\n77.1\nProposed ADC\nProposed ADC without\nBias-current suppression\nSS-ADC with reduced TINT\nSS-ADC with reduced ISIG range\nSS-ADC\nTTD\nPFM\nA 101M 74.6 et Glee\nBias-current suppress\n\nB 12.5M 66.2 SS-ADC with reduced\nCc 59.6 M 66.0 SS-ADC with reduced Ig;\n[10] 10M 89.6 SS-ADC\nf11] 1.98G 60.9 TID\n[12] 310 M >60 PFM\n\nFigure 11 is a comparison of the results of the power consumption for the tl\nsimulated using the same MOS library. The three cases are designed based on\nmicrobolometer shown in Table 1, and the bias-current suppression method is é\nall three circuits. Legend A indicates the power consumption of the proposed AI\nindicates the case of applying a PFM-based method to the A/D conversion for |\nsix bits. Legend E indicates a case where the entire A/D conversion is impleme\nonly first-order incremental ADC. Considering the characteristics of the compa\nthe maximum integration time, only 10-bit conversion is applied instead of 121\ncase of legend E. Since the comparator is always on as the asynchronous method\nthe case of D, it is still difficult to reduce power consumption. The 1st-order inc\nADC requires many comparison cycles to obtain a high-resolution ADC. Theref\nhigh power consumption. The proposed ADC can expect the lowest power con\namong the three methods as shown in Figure 11.\n\n1.6\n14\n1.2\n\n1\n0.8\n0.6\n0.4\n0.2\n\nie)\n\nPower consumption\n[LW/pixel]\nA’\n101M\n74.6\nB\nC\n[10]\n[11]\n[12]\n12.5 M\n59.6 M\n10 M\n1.98 G\n310 M\n66.2\n66.0\n89.6\n60.9\n>60\nFigure 11 is a comparison of the results of the power consumption for the three cases,\nsimulated using the same MOS library. The three cases are designed based on the same\nmicrobolometer shown in Table 1, and the bias-current suppression method is applied to\nall three circuits. Legend A indicates the power consumption of the proposed ADC, and D\nindicates the case of applying a PFM-based method to the A/D conversion for the upper\nsix bits. Legend E indicates a case where the entire A/D conversion is implemented with\nonly ﬁrst-order incremental ADC. Considering the characteristics of the comparator and\nthe maximum integration time, only 10-bit conversion is applied instead of 12 bits in the\ncase of legend E. Since the comparator is always on as the asynchronous method is used in\nthe case of D, it is still difﬁcult to reduce power consumption. The 1st-order incremental\nADC requires many comparison cycles to obtain a high-resolution ADC. Therefore, it has\nhigh power consumption. The proposed ADC can expect the lowest power consumption\namong the three methods as shown in Figure 11.\nFigure 11. Power consumption for the three cases: (A) the proposed pixel-level ADC; (D) pulse\nfrequency modulation (PFM)-based two-stage analog-to-digital (A/D) conversion; (E) 1st-order\nincremental ADC.\n5. Conclusions\nThe current-input pixel-level ADC with a high SNR and wide DR is proposed for\nthe readout circuit of the MWIR microbolometer array. In the proposed readout circuit,\nA/D conversion is efﬁciently performed during the integration, and a sufﬁcient integration\ntime and large charge-handling capacity is obtained. Using a synchronous two-stage A/D\nconversion, the characteristics of the power consumption, SNR, and DR are improved\nwith high resolution. The proposed pixel-level ADC has a very simple structure and low\npower consumption. This enables the ﬁnal readout circuit to be suitable for applications in\nportable infrared cameras.\nSensors 2021, 21, 2354\n11 of 11\nAuthor Contributions: D.W. supervised the research. J.L. and D.W. proposed the idea and designed\nthe circuit. J.L. performed the simulation and mask layout. J.L. and I.N. performed the experiment\nand analysis. J.L. and D.W. wrote the initial manuscript. D.W. and I.N. revised and ﬁnalized the\npaper. All authors have read and agreed to the published version of the manuscript.\nFunding: This research was funded by the Korea government (MSIT), grant number 2020R1F1A1052571.\nInstitutional Review Board Statement: Not applicable.\nInformed Consent Statement: Not applicable.\nData Availability Statement: Not applicable.\nAcknowledgments: This work was supported by the National Research Foundation of Korea (NRF)\ngrant funded by the Korea government (MSIT) (No. 2020R1F1A1052571). This work was supported\nby the Catholic University of Korea, Research Fund, 2019. The chip fabrication and EDA Tool were\nsupported by the IC Design Education Center.\nConﬂicts of Interest: The authors declare no conﬂict of interest.\nReferences\n1.\nAkin, T. Low-Cost LWIR-Band CMOS Infrared (CIR) Microbolometers for High Volume Applications. In Proceedings of the IEEE\n33rd International Conference on MEMS, Vancouver, BC, Canada, 18–22 January 2020; pp. 147–152.\nAbbasi, S.; Shaﬁque, A.; Ceylan, O.; Gurbuz, Y. A Digital Readout IC for Microbolometer Imagers Offering Low Power and\nImproved Self-Heating Compensation. IEEE Sens. J. 2020, 20, 909–917. [CrossRef]\nYen, P.; Su, G.J. Uncooled Long-Wavelength Infrared Sensors Using Cytochrome C Protein on Suspension Electrodes with CMOS\nReadout Circuits. IEEE Sens. J. 2019, 19, 10221–10227. [CrossRef]\nJiang, Z.; Men, L.; Wan, C.; Xiao, P.; Jiang, C.; Tu, X.; Jia, X.; Kang, L.; Li, L.; Chen, J.; et al. Low-Noise Readout Integrated Circuit\nfor Terahertz Array Detector. IEEE Trans. Terahertz Sci. Technol. 2018, 8, 350–356. [CrossRef]\nJakonis, D.; Svensson, C.; Jansson, C. Readout architectures for uncooled IR detector arrays. Sens. Actuators 2000, 84, 220–229.\n[CrossRef]\n2.\n3.\n4.\n5.\n6. Woo, D.H.; Kang, S.G.; Lee, H.C. Novel current mode background suppression for 2-D LWIR application. IEEE Trans. Circuits Syst.\n2005, 52, 606–610.\nKang, S.G.; Woo, D.H.; Lee, H.C. Multiple integration method for a high signal-to-noise ratio readout integrated circuit. IEEE\nTrans. Circuits Syst. Express Briefs 2005, 52, 553–557. [CrossRef]\n7.\n8. Wang, G.; Lu, W.; Zhang, L.; Zhang, Y.; Chen, Z. 14-bit 20 µW column-level two-step ADC for 640 × 512 IRFPA. Electron. Lett.\n2015, 51, 1054–1056. [CrossRef]\nLiu, D.; Lu, W.; Chen, Z.; Zhang, Y.; Lei, S.; Tan, G. A 14-bit differential-ramp single-slope column-level ADC for 640 × 512\nuncooled infrared imager. IEEE Int. Symp. Circuits Syst. 2016, 22, 1922–1925.\n9.\n10. Huang, Z.; Niu, Y.; Lu, W.; Chen, G.; Li, Y.; Zhang, S.; Chen, Z. A 16-bit Single-Slope based Pixel-level ADC for 15µm-pitch\n640×512 MWIR FPAs. IEEE Int. Symp. Circuits Syst. 2018, 27, 1–5.\nJo, Y.M.; Woo, D.H.; Kang, S.G.; Lee, H.C. Very Wide Dynamic Range ROIC With Pixel-Level ADC for SWIR FPAs. IEEE Sens. J.\n2016, 16, 7227–7233. [CrossRef]\n11.\n12. Tchagaspanian, M.; Villard, P.; Dupont, B.; Chammings, G.; Martin, J.L.; Pistre, C.; Lattard, D.; Chantre, C.; Arnaud, A.;\nYon, J.J.; et al. Design of ADC in 25 µm pixels pitch dedicated for IRFPA image processing at LETI. In Infrared Technology and\nApplications; International Society for Optics and Photonics: Bellingham, WA, USA, 2007; Volume 6542, pp. W1–W65421.\n13. Li, M.; Li, F.; Zhang, C.; Wang, Z. Pixel-level A/D conversion using voltage reset technique. J. Semicond. 2014, 35, 115009–1–5.\n[CrossRef]\n14. Hwang, C.H.; Woo, D.H.; Lee, H.C. Pixel-level ADC with two-step integration for 2-D microbolometer IRFPA. Ieice Trans. Electron.\n2011, 94, 1909–1912. [CrossRef]\n15. Pain, B.; Fossum, E.R. Approaches and analysis for on-focal-plane analog-to-digital conversion. In Infrared Readout Electronics II;\nInternational Society for Optics and Photonics: Bellingham, WA, USA, 1994; Volume 2226, pp. 208–218.\n16. Yang, S.; Luo, L.; Lu, W.; Shi, G.; Lyu, B.; Niu, Y.; Zhang, Y.; Chen, Z. A 16-bit two-step pixel-level ADCfor 384∗288 infrared focal plane\narray. In Proceedings of the IEEE 12th International Conference on ASIC (ASICON), Guiyang, China, 28 October 2017; pp. 780–783.\n17. Robert, J.; Valencic, V. Offset and Charge Injection Compensation in an Incremental Analog to Digital Converter. In Proceedings\nof the 11th European Solid-State Circuits Conference (ESSCIRC), Montreux, Switzerland, 16–18 September 1985; pp. 45–48.\nJo, Y.M.; Woo, D.H.; Lee, H.C. TEC-Less ROIC With Self-Bias Equalization for Microbolometer FPA. IEEE Sens. J. 2015, 15, 82–88.\n18.\n19. Hwang, C.H.; Kim, C.B.; Lee, Y.S.; Lee, H.C. Pixelwise readout circuit with current mirroring injection for microbolometer FPAs.\nElectron. Lett. 2008, 44, 732–733. [CrossRef]\n20. Nitta, Y.; Muramatsu, Y.; Amano, K.; Toyama, T.; Yamamoto, J.; Mishina, M.; Suzuki, A.; Taura, T.; Kato, A.; Kikuchi, M.; et al.\nHigh-Speed Digital Double Sampling with Analog CDS on Column Parallel ADC Architecture for Low-Noise Active Pixel Sensor.\nIn Proceedings of the IEEE International Solid State Circuits Conference, Francisco, CA, USA, 5–9 February 2006; pp. 2024–2031.\n""]",
Digital Output for High Performance MCT Staring Arrays.pdf,"['[6206-30]\nDigital output for high performance MCT staring arrays\n\nP Fillon, S Dugalleix, F Pistone, P Tribolet\n\nSOFRADIR, 43-47 rue Camille Pelletan, 92290 CHATENA Y-MALABRY, France\nPhone: +33.1.41.13.45.30, E-Mail: frederic.pistone@Sofradir.com\n\nABSTRACT\n\nThe InfraRed staring arrays offered by SOFRADIR are more and more compact and offer system solutions in the\ndifferent IR wavebands. The HgCdTe (Mercury Cadmium Telluride / MCT) material and process, as well as the\nhybridization technology, have been taken to an even more advanced level of sophistication to achieve these new\nstaring arrays high performances. Latest developments have also been focused on the readout silicon circuit. A frame\nrate increase, new types of customized functions and digital converter are an important progress in this field. In order\nto match each system requirements, different flexible architectures of Analog To Digital Converter (ADC) have been\ndeveloped. These developments implement specific requests in terms of frame rate, power consumption and\nresolution. Beyond the performance aspects, digital focal plan arrays can be considered as the first step towards a new\nlow cost dewar family, since they allow for a more simple electrical interface on dewar designs. New results\nconcerning these new readout circuit architectures are presented in this paper.\n\nKEYWORDS\n\nInfrared detectors, high performance, SOFRADIR, HgCdTe, IRFPA, small pitch, ADC\n\n1 INTRODUCTION\n\nThe advantages of integrating Analog to Digital Converter (ADC) in cooled infrared (IR) focal plan arrays (FPA) are\ncoming to light. This step in IR detector development will allow progresses in different ways. At first, this can be\nconsidered as a cost reduction at the system level, by cutting the necessity of implementing the ADC on the proximity\nelectronic boards and by simplifying electrical interface including shielding. But cost reductions are applicable too at\nthe integrated dewar detector level. Digital outputs can allow a simplification of the electrical interfaces, and by this\nway, a cost reduction of the price of some parts of the dewar. This is especially true in case of serial digital outputs.\nIntegrated ADC is also a necessary step for integrating new functions in the read-out circuit, like automatic\ncalibrations or data compression. At least, in a digital format, detector signal is less sensitive to the environmental\nperturbations.\n\nThe main limitation to ADC implementation in cooled sensor is ruled by the question: what is the price to pay in term\nof power consumption and size compared to the fully analog solution, for a comparable output signal quality, in term\nof SNR and linearity? The increased power consumption is both the direct power consumption needed to feed the\nconverter but also, indirectly, the power needed to cool the increased size of the chip due to physical layout of the\nADCs inside the readout circuit. To solve this problematic, Research and Development activities at Sofradir are\noriented for proposing digital infrared detectors adapted to Sofradir’s customers applications. Two kinds of ADC\n\nInfrared Technology and Applications XXXII, edited by Bjorn F. Andresen, Gabor F. Fulop, Paul R. Norton,\nProc. of SPIE Vol. 6206, 62060U, (2006) - 0277-786X/06/$15 - doi: 10.1117/12.669124\n\nProc. of SPIE Vol. 6206 62060U-1\n\nDownloaded From: http://proceedings.spiedigitallibrary.org/ on 06/16/2016 Terms of Use: http://spiedigitallibrary.org/ss/TermsOfUse.aspx\n[6206-30]\nDigital output for high performance MCT staring arrays\n\nP Fillon, S Dugalleix, F Pistone, P Tribolet\n\nSOFRADIR, 43-47 rue Camille Pelletan, 92290 CHATENA Y-MALABRY, France\nPhone: +33.1.41.13.45.30, E-Mail: frederic.pistone@Sofradir.com\n\nABSTRACT\n\nThe InfraRed staring arrays offered by SOFRADIR are more and more compact and offer system solutions in the\ndifferent IR wavebands. The HgCdTe (Mercury Cadmium Telluride / MCT) material and process, as well as the\nhybridization technology, have been taken to an even more advanced level of sophistication to achieve these new\nstaring arrays high performances. Latest developments have also been focused on the readout silicon circuit. A frame\nrate increase, new types of customized functions and digital converter are an important progress in this field. In order\nto match each system requirements, different flexible architectures of Analog To Digital Converter (ADC) have been\ndeveloped. These developments implement specific requests in terms of frame rate, power consumption and\nresolution. Beyond the performance aspects, digital focal plan arrays can be considered as the first step towards a new\nlow cost dewar family, since they allow for a more simple electrical interface on dewar designs. New results\nconcerning these new readout circuit architectures are presented in this paper.\n\nKEYWORDS\n\nInfrared detectors, high performance, SOFRADIR, HgCdTe, IRFPA, small pitch, ADC\n\n1 INTRODUCTION\n\nThe advantages of integrating Analog to Digital Converter (ADC) in cooled infrared (IR) focal plan arrays (FPA) are\ncoming to light. This step in IR detector development will allow progresses in different ways. At first, this can be\nconsidered as a cost reduction at the system level, by cutting the necessity of implementing the ADC on the proximity\nelectronic boards and by simplifying electrical interface including shielding. But cost reductions are applicable too at\nthe integrated dewar detector level. Digital outputs can allow a simplification of the electrical interfaces, and by this\nway, a cost reduction of the price of some parts of the dewar. This is especially true in case of serial digital outputs.\nIntegrated ADC is also a necessary step for integrating new functions in the read-out circuit, like automatic\ncalibrations or data compression. At least, in a digital format, detector signal is less sensitive to the environmental\nperturbations.\n\nThe main limitation to ADC implementation in cooled sensor is ruled by the question: what is the price to pay in term\nof power consumption and size compared to the fully analog solution, for a comparable output signal quality, in term\nof SNR and linearity? The increased power consumption is both the direct power consumption needed to feed the\nconverter but also, indirectly, the power needed to cool the increased size of the chip due to physical layout of the\nADCs inside the readout circuit. To solve this problematic, Research and Development activities at Sofradir are\noriented for proposing digital infrared detectors adapted to Sofradir’s customers applications. Two kinds of ADC\n\nInfrared Technology and Applications XXXII, edited by Bjorn F. Andresen, Gabor F. Fulop, Paul R. Norton,\nProc. of SPIE Vol. 6206, 62060U, (2006) - 0277-786X/06/$15 - doi: 10.1117/12.669124\n\nProc. of SPIE Vol. 6206 62060U-1\n\nDownloaded From: http://proceedings.spiedigitallibrary.org/ on 06/16/2016 Terms of Use: http://spiedigitallibrary.org/ss/TermsOfUse.aspx\nInfrared Technology and Applications XXXII, edited by Bjørn F. Andresen, Gabor F. Fulop, Paul R. Norton,\nProc. of SPIE Vol. 6206, 62060U, (2006) · 0277-786X/06/$15 · doi: 10.1117/12.669124\nProc. of SPIE Vol. 6206  62060U-1\narchitectures are under validation. On the basis of these results, the choice of the architecture can be adapted to the\nsystem needs, addressing format from 320x256 to 1280x1024 pixels, pixel pitches from 15 to 30pm, and answering to\nframe rate frequency up to 120Hz for large format FPA.\n\n2 ADC IMPLEMENTATION IN ARRAY SENSOR\n\n2.1 Basic approaches\n\nAnalog to Digital conversion function have been integrated on image sensor chip since years in three main basic\nways. The first one is output level ADC [1]: the pixel signals, after proper voltage conversion are multiplexed in\ncolumn and then in line on one wire on which analog to digital conversion is performed. In this case, a unique ADC\nwith sampling frequency operating at pixel rate needs to be designed.\n\nThe second one is column level ADC [2]: the pixels signals are multiplexed in column to the input of one ADC for\neach column. In this condition, the ADC sampling frequency is reduced to line rate. The line multiplexing is at digital\nsignal level.\n\nThe third one is pixel level ADC [3][4]: the pixels signals are digitized directly by one ADC with sampling frequency\nat frame rate. In this case, data column and line multiplexing is digital.\n\nOf course, lot of combinations can be generated from these basic architectures: one ADC for n pixels for pixel level\nADC, or one ADC for n column for column ADC, or one ADC for n column and m lines for output level ADC. These\ncombinations are equivalent to the basic solutions if we assume that one ADC operating at n*fs sampling frequency is\nequivalent to n ADC operating at fs sampling frequency with a n/fs delay between sampling time of two successive\nADC. In both case the trade-off sampling frequency, power consumption is roughly the same. Only the ADC input\nsignal bandwidth and sampling jitter constrain may produce major difference, but these limitations is not a major\nconcern for most image sensor operating around 120Hz frame rate. For these reasons, in the following we will focus\nonly on the three basic solutions.\n\n2.2. ADC dedicated to cooled infrared detector\n\nADC power consumption issues will not help to choice the better solution because the three basic solutions are\nroughly equivalent for the same frame rate, SNR and linearity: one ADC operating at pixel rate will consume as much\nas n ADC operating at pixel rate divided by n and as much as n*m ADC operating at pixel rate divided by n*m.\n\nSo, the best ADC choice criteria for cooled sensor will be how much does the ADC architecture reduce the size and\nthe power consumption of the fully analog circuit.\n\nAs far as output level ADC solution is concerned, the power consumption and area gain is not sensitive, because this\nsolution consists in the addition of the analog circuit plus the ADC.\n\nThe area of the chip will be increased by the area of the ADC. Moreover, all the elements of the analog version of the\ndetector are still there with the same specifications. The only change refers to the output driver sizing that could\npossibly be reduced, and thus its power consumption and size: on one hand, it just has to drive the ADC input\nsampling capacitor instead of the output capacitor induced by the signal path load and the external processing board .\nOn the other hand, the ADC input sampling capacitor needs to be high enough to achieve good SNR and linearity, due\nto kT/C noise and component matching constraint. Thus the possibly gain in both power consumption and area will\nnot be attractive. For this reason the output level ADC solution will not be interesting because it does not match the\nconstraint of ADC integration in cooled sensor.\n\nAs far as column ADC solution is concerned, the line multiplexer and the output drivers that needs a large power\nconsumption amount in the analog version are eliminated. However, the area gain is still not sufficient, even though\nthe power consumption gain fixes the column ADC power consumption limit to an acceptable magnitude order.\n\nThe third solution seems the most suitable: the line multiplexer, the column readout amplifiers, the column\nmultiplexer, as well as the output driver is suppressed. Moreover the analog chain between the pixel and the input of\nthe ADC is reduced, which is favourable for electrical performances and signal processing.\n\nProc. of SPIE Vol. 6206 62060U-2\n\nDownloaded From: http://proceedings.spiedigitallibrary.org/ on 06/16/2016 Terms of Use: http://spiedigitallibrary.org/ss/TermsOfUse.aspx\narchitectures are under validation. On the basis of these results, the choice of the architecture can be adapted to the\nsystem needs, addressing format from 320x256 to 1280x1024 pixels, pixel pitches from 15 to 30um, and answering to\nframe rate frequency up to 120Hz for large format FPA.\n\n2 ADC IMPLEMENTATION IN ARRAY SENSOR\n\n21 Basic approaches\n\nAnalog to Digital conversion function have been integrated on image sensor chip since years in three main basic\nways. The first one is output level ADC [1]: the pixel signals, after proper voltage conversion are multiplexed in\ncolumn and then in line on one wire on which analog to digital conversion is performed. In this case, a unique ADC\nwith sampling frequency operating at pixel rate needs to be designed.\n\nThe second one is column level ADC [2]: the pixels signals are multiplexed in column to the input of one ADC for\neach column. In this condition, the ADC sampling frequency is reduced to line rate. The line multiplexing is at digital\nsignal level.\n\nThe third one is pixel level ADC [3][4]: the pixels signals are digitized directly by one ADC with sampling frequency\nat frame rate. In this case, data column and line multiplexing is digital.\n\nOf course, lot of combinations can be generated from these basic architectures: one ADC for n pixels for pixel level\nADC, or one ADC for n column for column ADC, or one ADC for n column and m lines for output level ADC. These\ncombinations are equivalent to the basic solutions if we assume that one ADC operating at n*fs sampling frequency is\nequivalent to n ADC operating at fs sampling frequency with a n/fs delay between sampling time of two successive\nADC. In both case the trade-off sampling frequency, power consumption is roughly the same. Only the ADC input\nsignal bandwidth and sampling jitter constrain may produce major difference, but these limitations is not a major\nconcern for most image sensor operating around 120Hz frame rate. For these reasons, in the following we will focus\nonly on the three basic solutions.\n\n2.2. ADC dedicated to cooled infrared detector\n\nADC power consumption issues will not help to choice the better solution because the three basic solutions are\nroughly equivalent for the same frame rate, SNR and linearity: one ADC operating at pixel rate will consume as much\nas n ADC operating at pixel rate divided by n and as much as n*m ADC operating at pixel rate divided by n*m.\n\nSo, the best ADC choice criteria for cooled sensor will be how much does the ADC architecture reduce the size and\nthe power consumption of the fully analog circuit.\n\nAs far as output level ADC solution is concerned, the power consumption and area gain is not sensitive, because this\nsolution consists in the addition of the analog circuit plus the ADC.\n\nThe area of the chip will be increased by the area of the ADC. Moreover, all the elements of the analog version of the\ndetector are still there with the same specifications. The only change refers to the output driver sizing that could\npossibly be reduced, and thus its power consumption and size: on one hand, it just has to drive the ADC input\nsampling capacitor instead of the output capacitor induced by the signal path load and the external processing board .\nOn the other hand, the ADC input sampling capacitor needs to be high enough to achieve good SNR and linearity, due\nto kT/C noise and component matching constraint. Thus the possibly gain in both power consumption and area will\nnot be attractive. For this reason the output level ADC solution will not be interesting because it does not match the\nconstraint of ADC integration in cooled sensor.\n\nAs far as column ADC solution is concerned, the line multiplexer and the output drivers that needs a large power\nconsumption amount in the analog version are eliminated. However, the area gain is still not sufficient, even though\nthe power consumption gain fixes the column ADC power consumption limit to an acceptable magnitude order.\n\nThe third solution seems the most suitable: the line multiplexer, the column readout amplifiers, the column\nmultiplexer, as well as the output driver is suppressed. Moreover the analog chain between the pixel and the input of\nthe ADC is reduced, which is favourable for electrical performances and signal processing.\n\nProc. of SPIE Vol. 6206 62060U-2\n\nDownloaded From: http://proceedings.spiedigitallibrary.org/ on 06/16/2016 Terms of Use: http://spiedigitallibrary.org/ss/TermsOfUse.aspx\nProc. of SPIE Vol. 6206  62060U-2\nUnfortunately, due to CMOS technology limitation, the pixel level ADC solution is physically difficult to design\nespecially when the pixel step is small and when high ADC resolution is required. For this reason, the column level\nADC solution will be preferred.\n\nAt column level, the sampling frequency of the ADC depends on the image sensor line frequency that is defined by\nthe size of the array and the frame frequency.\n\nImage sensor array in the array size, frame frequency range 320x256, 400Hz to 640x512, 120Hz would require ADC\nsampling frequency lower than 100KHz. At this sampling frequency, the ADC resolution need is more than 12 bits to\nperform both good SNR and linearity.\n\nIn this slow sampling speed, high resolution operating area, two families of Analog to Digital Converter are suitable:\nIntegrating ADC and Sigma Delta ADC: sensor specifications as pixel pitch, column ADC area, and SNR, frequency,\npower consumption trade off will help to choice one or the other ADC class.\n\n3 SIGMA DELTA ADC\n\n3.1 Principle\n\nSigma Delta ADC is competitive solution for high resolution signal processing but with increased power consumption\nand size required by oversampling and digital filtering. In sensing application, the input signal is slowly varying with\ntime and can be viewed as constant over conversion period. For this reason the special case of incremental sigma delta\nADC where the integrator is reset prior to the signal conversion is of particular interest, especially for the design of\noptimal digital filtering [5]. In this condition, incremental sigma delta can have the same performance as conventional\nsigma delta at lower oversampling and hence lower power consumption. Moreover SNDR is better for bandlimited\ninput signal due to idle tones reduction. The optimal filter is more complex than conventional sigma delta linear filter\nand thus its power consumption and size is increased but this extra power consumption is negligible compared to the\nsaving in the analog front end.\n\n3.2 Expected performances\n\nThe achievement of a stand alone incremental sigma delta test structure is under progress in collaboration with CEA\nLETI Grenoble [6]. In order to reach sufficient resolution, a second order incremental sigma delta ADC will be\ndesigned.\n\nBased on a 0.35um CMOS technology, the column pitch will be 25um.\n\nThe goal of this test structure is to demonstrate that this ADC architecture is consistent with the constraints of cooled\ninfrared detectors.\n\nAt 50KHz sampling frequency, the expected SNR is up to 86dB and THD is -90dB.\n\nIn the nominal condition, the power consumption including the digital filter will be less than 100uW per ADC.\n\nSet-up adjustments and performances will be tested, in order to be able to anticipate results under different design. For\nfuture products, parameters like frame rate, resolution and power consumption can be foreseen in accordance with the\npixels pitch in 0.35 silicon technology. As an example, this digital focal plan array can be developed: 128x128 format,\n30um pixel pitch, 300Hz frame rate, 20mW power consumption for the whole digital array.\n\n4 INTEGRATING ADC\n\n4.1 Principle\n\nIn parallel to the sigma delta validations, other ADC architecture has been developed. The starting point is a purely\nanalog SOFRADIR readout circuit that is already in production [7]. The main characteristics of this circuit are:\n640x512 pixels with 15um pixel step, operating at 120Hz with 35mW power consumption. The readout chip area is\nlcm2 in technology CMOS 3.3V 0.35um. Due to a reduced pixel pitch and to CMOS technology limitations, the pixel\n\nProc. of SPIE Vol. 6206 62060U-3\n\nDownloaded From: http://proceedings.spiedigitallibrary.org/ on 06/16/2016 Terms of Use: http://spiedigitallibrary.org/ss/TermsOfUse.aspx\nUnfortunately, due to CMOS technology limitation, the pixel level ADC solution is physically difficult to design\nespecially when the pixel step is small and when high ADC resolution is required. For this reason, the column level\nADC solution will be preferred.\n\nAt column level, the sampling frequency of the ADC depends on the image sensor line frequency that is defined by\nthe size of the array and the frame frequency.\n\nImage sensor array in the array size, frame frequency range 320x256, 400Hz to 640x512, 120Hz would require ADC\nsampling frequency lower than 100KHz. At this sampling frequency, the ADC resolution need is more than 12 bits to\nperform both good SNR and linearity.\n\nIn this slow sampling speed, high resolution operating area, two families of Analog to Digital Converter are suitable:\nIntegrating ADC and Sigma Delta ADC: sensor specifications as pixel pitch, column ADC area, and SNR, frequency,\npower consumption trade off will help to choice one or the other ADC class.\n\n3 SIGMA DELTA ADC\n\n3.1 Principle\n\nSigma Delta ADC is competitive solution for high resolution signal processing but with increased power consumption\nand size required by oversampling and digital filtering. In sensing application, the input signal is slowly varying with\ntime and can be viewed as constant over conversion period. For this reason the special case of incremental sigma delta\nADC where the integrator is reset prior to the signal conversion is of particular interest, especially for the design of\noptimal digital filtering [5]. In this condition, incremental sigma delta can have the same performance as conventional\nsigma delta at lower oversampling and hence lower power consumption. Moreover SNDR is better for bandlimited\ninput signal due to idle tones reduction. The optimal filter is more complex than conventional sigma delta linear filter\nand thus its power consumption and size is increased but this extra power consumption is negligible compared to the\nsaving in the analog front end.\n\n3.2 Expected performances\n\nThe achievement of a stand alone incremental sigma delta test structure is under progress in collaboration with CEA\nLETI Grenoble [6]. In order to reach sufficient resolution, a second order incremental sigma delta ADC will be\ndesigned.\n\nBased on a 0.35um CMOS technology, the column pitch will be 25um.\n\nThe goal of this test structure is to demonstrate that this ADC architecture is consistent with the constraints of cooled\ninfrared detectors.\n\nAt 50KHz sampling frequency, the expected SNR is up to 86dB and THD is -90dB.\n\nIn the nominal condition, the power consumption including the digital filter will be less than 100uW per ADC.\n\nSet-up adjustments and performances will be tested, in order to be able to anticipate results under different design. For\nfuture products, parameters like frame rate, resolution and power consumption can be foreseen in accordance with the\npixels pitch in 0.35 silicon technology. As an example, this digital focal plan array can be developed: 128x128 format,\n30um pixel pitch, 300Hz frame rate, 20mW power consumption for the whole digital array.\n\n4 INTEGRATING ADC\n\n4.1 Principle\n\nIn parallel to the sigma delta validations, other ADC architecture has been developed. The starting point is a purely\nanalog SOFRADIR readout circuit that is already in production [7]. The main characteristics of this circuit are:\n640x512 pixels with 15um pixel step, operating at 120Hz with 35mW power consumption. The readout chip area is\n1cm2 in technology CMOS 3.3V 0.35um. Due to a reduced pixel pitch and to CMOS technology limitations, the pixel\n\nProc. of SPIE Vol. 6206 62060U-3\n\nDownloaded From: http://proceedings.spiedigitallibrary.org/ on 06/16/2016 Terms of Use: http://spiedigitallibrary.org/ss/TermsOfUse.aspx\nProc. of SPIE Vol. 6206  62060U-3\nlevel ADC solution does not fit. So, the column level ADC solution was preferred. To be compliant with the SNR,\nlinearity and frame rate of the touchstone analog circuit, our system study leads to an ADC resolution of 15 bits with a\n62 kHz sampling frequency. Despite a possible degraded linearity risk, a single ramp dual slope ADC has been\npreferred to a single ramp single slope ADC. A single slope ADC would require a 1.9GHz counting frequency to\nmatch the ADC specification, which is out of the technology capability and out of the power consumption budget. The\nfigure 1 shows the column ADC block diagram.\n\n> TT Counting clock\nREF2\nREA > Y\nit __,| First ramp | J .\ncounter el\n-— Ay\n=\nAnalog | 2,\ninput 3\nmJ = | pa4:o)\n°o\n= 4 :\nSecond ramp 5\nCs counter | 4\nn\nML\n\naa!\n\nDIGITAL CONTROL BLOCK\n\nFigure 1: Integrating ADC\n\nFigure 2 shows the voltage evolution at the positive\n\ninput of the comparator. Comparator positive\nIn order to reduce power consumption and layout area, input voltage\n\nonly one comparator is used: REF1 and REF2 voltage\n\nreferences are switched between the end of the first VIN\n\nslope and the beginning of the second slope. Using\nonly one comparator although correct the differential\ninput offset error on voltage REF1—REF2 specifying\nthe second slope voltage limitation. The absolute input\nerror due to this comparator offset error on the first\nslope is corrected at system level as column offset\nduring two points image calibration. To save power\nconsumption, the two voltage slopes are simply\n\n\'\n\'\n\'\n\n4\n1\n\'\n\'\n\'\n\'\n‘\n\'\n‘\n1\n\ngenerated by sampling input voltage in Cs capacitor First slope 9*—— Tate\nand by applying two carefully matched current source counter running time |\n\nM1 and M2 to this capacitor, one to generate the first \'\n\nslope, the other one to generate the second slope.At Second slope *———*\n\nthe conversion cycle end, the combination of the counter running time\n\noutput of the two counter MSB and LSB gives the\n\ndigital output value that would be driven out by the\n\ndigital multiplexer at readout time. Figure 2: Voltage evolution, input of comparator\n\nProc. of SPIE Vol. 6206 62060U-4\n\nDownloaded From: http://proceedings.spiedigitallibrary.org/ on 06/16/2016 Terms of Use: http://spiedigitallibrary.org/ss/TermsOfUse.aspx\nlevel ADC solution does not fit. So, the column level ADC solution was preferred. To be compliant with the SNR,\nlinearity and frame rate of the touchstone analog circuit, our system study leads to an ADC resolution of 15 bits with a\n62 kHz sampling frequency. Despite a possible degraded linearity risk, a single ramp dual slope ADC has been\npreferred to a single ramp single slope ADC. A single slope ADC would require a 1.9GHz counting frequency to\nmatch the ADC specification, which is out of the technology capability and out of the power consumption budget. The\nfigure 1 shows the column ADC block diagram.\n\nCounting clock\n\nREF2 >\nREF > Y\nit ristramp | [|\ncounter 8\nr— Fy\n=\nAnalog 3\nrt a 2 | a\n= | Daa:o\nLt z | Dado\nt4 E\nSecond =\n& ""mer [8\nn\nMi\n\n|\n\nDIGITAL CONTROL BLOCK\n\nFigure 1: Integrating ADC\n\nFigure 2 shows the voltage evolution at the positive\n\ninput of the comparator. Comparator positive\nIn order to reduce power consumption and layout area, input voltage\n\nonly one comparator is used: REF1 and REF2 voltage\n\nreferences are switched between the end of the first VIN\n\nslope and the beginning of the second slope. Using\nonly one comparator although correct the differential\ninput offset error on voltage REF1—REF2 specifying\nthe second slope voltage limitation. The absolute input\nerror due to this comparator offset error on the first\nslope is corrected at system level as column offset\nduring two points image calibration. To save power\nconsumption, the two voltage slopes are simply\n\n\'\n\'\n\'\n\n4\n,\n\'\nt\n\'\n\'\n\'\n\'\n\'\n\'\n\'\n\'\n\'\n\ngenerated by sampling input voltage in Cs capacitor First slope 9*——> Tate\nand by applying two carefully matched current source counter running time |\n\nMI and M2 to this capacitor, one to generate the first \'\n\nslope, the other one to generate the second slope.At Second slope *———*\n\nthe conversion cycle end, the combination of the counter running time\n\noutput of the two counter MSB and LSB gives the\ndigital output value that would be driven out by the\ndigital multiplexer at readout time. Figure 2: Voltage evolution, input of comparator\n\nProc. of SPIE Vol. 6206 62060U-4\n\nDownloaded From: http://proceedings.spiedigitallibrary.org/ on 06/16/2016 Terms of Use: http://spiedigitallibrary.org/ss/TermsOfUse.aspx\nCounting clock\n__________________________\nREFZ\nREEl\nDIGITAL CONTROL BLOCK\nComparator positive\ninput voltage\nVP\'\nnfl\nFirst slope\ncounter running time\nTime\n•\nSecond slope\ncounter running time\nProc. of SPIE Vol. 6206  62060U-4\n4.2 Results\n\nThis prototype read-out circuit was hybridized to MCT photo-voltaic array in mid-wave and full IRFPA tests have\nbeen performed.\n\nFigure 3 shows photography of the original fully\nanalog version on the right and the equivalent circuit\nintegrating the 640 column converters on the left. The\narea of the chip is increased of 18%. Due to layout\nconstrain, the column ADC pitch is not 15um but\n30um. Even column ADC are at the right side of th\npixel array and odd column ADC are at the left side.\n\n3cm\n\noO\n\nAt 120Hz nominal frame frequency, the power\nconsumption is 65uW per ADC. This value is fully\nconsistent with the use of cooled focal planes.\n\n640x512 15m pitch Scorpio\nDigital Demonstrator (Analogic)\n\nFigure 3: FPA pictures\n\nFigure 4 presents the non-linearity variation of the read-out circuit versus the variation of the well fill obtained by\nintegration time variation from 0.1 to 3.0 ms in front of 20°C scene temperature. This measurement demonstrates that\nthe readout circuit non-linearity including the ADC non-linearity is better than +0.5% over a large dynamic range.\n\nFigure 5 shows the non-linearity variations of the detector in function of the well fill obtained by input flux variations.\nThis non-linearity result, which is also under 0.5%, is representative of the whole detector performance, including\nphoto-diodes characteristics. This measurement is performed at 1.2ms of integration time and with an input flux\ncorresponding to a black-body temperature from 5°C to 45°C. The non-linearity observed upper than 70% of well fill\nis due to the field of view effect (pixels in the centre of the array begin to reach the saturation level).\n\nNon linearity versus integration time\n\nNon linearity versus flux\nTint © [0.1; 3.0] ms\n\nToo ¢ [5; 45°C @ 1.2ms\n\n5.0%\n\n4.5%\n\n4.0%\n\n3.5%\n\n»\n3\n\n3.0%\n\n2.5% {\n\n1.5% \\\n1.0%\n\nji 1.0%\n* ‘beonoeas hp om\n0.0% + 0.0%\n\n0% 10% 20% 30% 40% 50% 60% 70% 80% 20% 100% 0% © 10% 20% + 30% + 40% + 50% 60% + 70% 80% 90% 100%\nWell Fill (%] Well Fill (%]\n\n5%\n\nNon linearity [76]\n\nRoR\n\n.0%\n\nN\ngS\n\nNon linearity [%\n\n1.5%\n\nFigure 4: Non-linearity versus Integration time Figure 5: Non-linearity versus input flux\n\nProc. of SPIE Vol. 6206 62060U-5\n\nDownloaded From: http://proceedings.spi\n\nitallibrary.org/ on 06/16/2016 Terms of Use: http://spiedigitallibrary.org/ss/TermsOfUse.aspx\n4.2 Results\n\nThis prototype read-out circuit was hybridized to MCT photo-voltaic array in mid-wave and full IRFPA tests have\nbeen performed.\n\nFigure 3 shows photography of the original fully\nanalog version on the right and the equivalent circuit\nintegrating the 640 column converters on the left. The\narea of the chip is increased of 18%. Due to layout\nconstrain, the column ADC pitch is not 15um but\n30um. Even column ADC are at the right side of the\npixel array and odd column ADC are at the left side.\n\nAt 120Hz nominal frame frequency, the power\nconsumption is 65uW per ADC. This value is fully\nconsistent with the use of cooled focal planes.\n\n640x512 15m pitch Scorpio\nDigital Demonstrator (Analogic)\n\n3cm\n\nFigure 3: FPA pictures\n\nFigure 4 presents the non-linearity variation of the read-out circuit versus the variation of the well fill obtained by\nintegration time variation from 0.1 to 3.0 ms in front of 20°C scene temperature. This measurement demonstrates that\nthe readout circuit non-linearity including the ADC non-linearity is better than +0.5% over a large dynamic range.\n\nFigure 5 shows the non-linearity variations of the detector in function of the well fill obtained by input flux variations.\nThis non-linearity result, which is also under 0.5%, is representative of the whole detector performance, including\nphoto-diodes characteristics. This measurement is performed at 1.2ms of integration time and with an input flux\ncorresponding to a black-body temperature from 5°C to 45°C. The non-linearity observed upper than 70% of well fill\nis due to the field of view effect (pixels in the centre of the array begin to reach the saturation level).\n\nNon linearity versus integration time Non linearity versus flux\nTint ¢ [0.1; 3.0] ms Tua < [5; 45]°C @ 1.2 ms\n\n5.0% 5.0%\n\n45% 4.5%\n\n4.0% 4.0%\n\n3.5% 3.5%\n30% 5 3.0% 3\n§ 2.5% ; § 2.5%\n= 20% 5 2.0%\n2 g 2\n\n1.5% 1.5% +\n\n1.0% d 1.0%\n\nBreet — rica oe\n\n0.0% + 0.0%\n\n0% 10% 20% 30% 40% 50% 60% 70% 80% 90% 100% 0% 10% 20% 30% 40% 50% 60% 70% 80% 90% 100%\nWell Fill [%] Well Fill [%]\nFigure 4: Non-linearity versus Integration time Figure 5: Non-linearity versus input flux\n\nProc. of SPIE Vol. 6206 62060U-5\n\nDownloaded From: http://proceedings.spiedigitallibrary.org/ on 06/16/2016 Terms of Use: http://spiedigitallibrary.org/ss/TermsOfUse.aspx\nttfflhIILlIIIIIItI\n640x512 l5pm pitch\nDigital Demonstrator\nScorpio\n(Analogic)\nProc. of SPIE Vol. 6206  62060U-5\nThese results allow the validation of the choice of this design for such focal plane arrays.\n\nOn this first demonstrator, a problem of unexpected noise level was identified.\n\nThis was linked to a power supply noise due to power supply line sharing by the 640 converters. This power supply\nnoise affects the comparator decision; especially while the second ramp, when low voltage amplitudes are processed.\nDue to this fact, the measured SNR of the whole readout circuit was 72.7 dB. Taking into account the common part\nnoise of the reference analog circuit, the ADC SNR estimation is 73.2dB. The reference circuit 80dB SNR outperform\nsignificantly this result.\n\nCareful power line decoupling, combined with ADC digital activity optimisation will enable to reach the 80dB SNR\ntarget with a moderate chip area increase.\n\n5 CONCLUSIONS\n\nSofradir developed a complete infrared staring array, 640x512 format at 15 sm pitch. The power consumption of this\nRead-Out circuit is not more than the current dissipated power of analog circuits, and is fully consistent with the\ncooled focal plane arrays.\n\nIn parallel, an other ADC architecture, a stand alone incremental sigma delta test structure, is under validation.\n\nThese two structures are complementary, and can answer to different specifications. For specific format or\nrequirements, one of these architectures can be chosen. As a matter of fact, incremental sigma delta ADC is consistent\nwith the choice of low formats and high speed, integrated ADC is well adapted to TV format at 15m pitch like the\nSCORPIO detector. Based on these successful results, new Sofradir digital products will be offered in digital version\nbeginning of year 2007.\n\nACKNOWLEDGMENTS\n\nThe authors would like first to thank all the SOFRADIR and CEA-LETI Design teams part of DEFIR, dedicated to\nquality work and to challenging wins. The authors also thank the French MoD for its support in ROIC studies.\n\nREFERENCES\n\n1] S.Hamami, L.Fleshel and O.Yahid-Pecht “CMOS APS Imager employing 3.3V 12bit 6.3Ms/s pipelined ADC”,\nIEEE ISCAS, Vancouver,Canada, May 2004, Vol.4, pp:960-963.\n\n2] J. Fortier, N.G. Tarr, A. SWAMINATHAN, C. Plett, “1.2V 0.18um CMOS Imager with Column-Level\nOversampling,” pp. 132-135, Proc. ESSCIRC 2001, Villach, Austria, Sept 2001.\n\n3] B.Fowler, A. El Gamal, and D .X.D. Yang, “A CMOS Area Image Sensor with Pixel-Level A/D Conversion”, in\nISSCC Digest of Technical Papers, (San Francisco, CA), February 1994.\n\n4] D. yang, A. El Gamal, B. Fowler and H. Tian, “A 640x512 CMOS Image Sensor with Ultra WideDynamic Range\nFloating Point Pixel Level ADC,” Journal of Solid State Circuit, Vol. 34, No.12, pp. 1821-1834, December 1999.\n\n5] S. Hein and A. Zakhor, “New properties of Sigma Delta modulators with DC inputs” IEEE Transactions on\nCommunications, volume 40, number 8, pp. 1375-1387, august 1992\n\nProc. of SPIE Vol. 6206 62060U-6\n\nDownloaded From: http://proceedings.spiedigitallibrary.org/ on 06/16/2016 Terms of Use: http://spiedigitallibrary.org/ss/TermsOfUse.aspx\nThese results allow the validation of the choice of this design for such focal plane arrays.\n\nOn this first demonstrator, a problem of unexpected noise level was identified.\n\nThis was linked to a power supply noise due to power supply line sharing by the 640 converters. This power supply\nnoise affects the comparator decision; especially while the second ramp, when low voltage amplitudes are processed.\nDue to this fact, the measured SNR of the whole readout circuit was 72.7 dB. Taking into account the common part\nnoise of the reference analog circuit, the ADC SNR estimation is 73.2dB. The reference circuit 80dB SNR outperform\nsignificantly this result.\n\nCareful power line decoupling, combined with ADC digital activity optimisation will enable to reach the 80dB SNR\ntarget with a moderate chip area increase.\n\n5 CONCLUSIONS\n\nSofradir developed a complete infrared staring array, 640x512 format at 15 xm pitch. The power consumption of this\nRead-Out circuit is not more than the current dissipated power of analog circuits, and is fully consistent with the\ncooled focal plane arrays.\n\nIn parallel, an other ADC architecture, a stand alone incremental sigma delta test structure, is under validation.\n\nThese two structures are complementary, and can answer to different specifications. For specific format or\nrequirements, one of these architectures can be chosen. As a matter of fact, incremental sigma delta ADC is consistent\nwith the choice of low formats and high speed, integrated ADC is well adapted to TV format at 15m pitch like the\nSCORPIO detector. Based on these successful results, new Sofradir digital products will be offered in digital version\nbeginning of year 2007.\n\nACKNOWLEDGMENTS\n\nThe authors would like first to thank all the SOFRADIR and CEA-LETI Design teams part of DEFIR, dedicated to\nquality work and to challenging wins. The authors also thank the French MoD for its support in ROIC studies.\n\nREFERENCES\n\n[1] S.Hamami, L.Fleshel and O.Yahid-Pecht “CMOS APS Imager employing 3.3V 12bit 6.3Ms/s pipelined ADC”,\nIEEE ISCAS, Vancouver,Canada, May 2004, Vol.4, pp:960-963.\n\n[2] J. Fortier, N.G. Tarr, A. SWAMINATHAN, C. Plett, “1.2V 0.18um CMOS Imager with Column-Level\nOversampling,” pp. 132-135, Proc. ESSCIRC 2001, Villach, Austria, Sept 2001.\n\n[3] B.Fowler, A. El Gamal, and D .X.D. Yang, “A CMOS Area Image Sensor with Pixel-Level A/D Conversion”, in\nISSCC Digest of Technical Papers, (San Francisco, CA), February 1994.\n\n[4] D. yang, A. El Gamal, B. Fowler and H. Tian, “A 640x512 CMOS Image Sensor with Ultra WideDynamic Range\nFloating Point Pixel Level ADC,” Journal of Solid State Circuit, Vol. 34, No.12, pp. 1821-1834, December 1999.\n\n[5] S. Hein and A. Zakhor, “New properties of Sigma Delta modulators with DC inputs” IEEE Transactions on\nCommunications, volume 40, number 8, pp. 1375-1387, august 1992\n\nProc. of SPIE Vol. 6206 62060U-6\n\nDownloaded From: http://proceedings.spiedigitallibrary.org/ on 06/16/2016 Terms of Use: http://spiedigitallibrary.org/ss/TermsOfUse.aspx\nProc. of SPIE Vol. 6206  62060U-6\n[6] P Tribolet, G Destefanis “Third generation and multi-color IRFPA developments: a unique approach based on\nDEFIR” SPIE Orlando 2005 [5783-37]\n\n[7] P Tribolet, P Chorier, S Dugalleix “Lightweight, compact and affordable MW TV format IR detectors” SPIE\nOrlando 2004 [5406-20]\n\nProc. of SPIE Vol. 6206 62060U-7\n\nDownloaded From: http://proceedings.spiedigitallibrary.org/ on 06/16/2016 Terms of Use: http://spiedigitallibrary.org/ss/TermsOfUse.aspx\n[6] P Tribolet, G Destefanis “Third generation and multi-color IRFPA developments: a unique approach based on\nDEFIR” SPIE Orlando 2005 [5783-37]\n\n[7] P Tribolet, P Chorier, S Dugalleix “Lightweight, compact and affordable MW TV format IR detectors” SPIE\nOrlando 2004 [5406-20]\n\nProc. of SPIE Vol. 6206 62060U-7\n\nDownloaded From: http://proceedings.spiedigitallibrary.org/ on 06/16/2016 Terms of Use: http://spiedigitallibrary.org/ss/TermsOfUse.aspx\nProc. of SPIE Vol. 6206  62060U-7\n']",
CMOS Tunable-Color Image Sensor with Dual-ADC Shot-Noise-Aware Dynamic Range Extension.pdf,"[""2116\nIEEE TRANSACTIONS ON CIRCUITS AND SYSTEMS—I: REGULAR PAPERS, VOL. 60, NO. 8, AUGUST 2013\nCMOS Tunable-Color Image Sensor With Dual-ADC\nShot-Noise-Aware Dynamic Range Extension\nDerek Ho, Student Member, IEEE, M. Omair Noor, Ulrich J. Krull, Glenn Gulak, Senior Member, IEEE, and\nRoman Genov, Senior Member, IEEE\nAbstract—A wide dynamic range CMOS tunable-color image\nsensor is presented. The sensor integrates an 8x8 array of tunable-\ncolor photogates which exploit the wavelength-dependent optical\nabsorption properties of the polysilicon gate structure. An anal-\nysis is presented for the wide dynamic range asynchronous self-\nreset with residue readout architecture where photon shot noise\nis taken into consideration. An implementation of this architec-\nture is presented where the (coarse) asynchronous self-reset op-\neration and (ﬁne) residue analog-to-digital conversions are per-\nformed with separate in-pixel and off-pixel circuits, respectively,\nfor a noise-optimized design. A prototype was fabricated in a stan-\ndard 0.35 µm CMOS process and is validated in color light sensing\nwhich achieves SNRs of 24.3 dB and 28.5 dB in green and red light\nmeasurements, respectively, under a moderate input light inten-\nsity of 300 µW/cm². The readout circuit achieves a measured dy-\nnamic range of 82 dB with a peak SNR of 46.2 dB under broad-\nband illumination. The prototype has been integrated with a micro-\nﬂuidic device and experimentally validated in ﬂuorescence contact\nimaging.\na)\n\nQEXCITATION LIGHT\n@®FLUIDIC INLET/OUTLET\n@MICROFLUIDIC CHANNEL\n@PDMS ENCLOSURE\n@®GLASS SUBSTRATE\n@©THIN-FILM FILTER\n@CMOS COLOR IMAGER\nBOND WIRE\n\n(© CHIP PACKAGE\nFig. 1. Schematic cross-section of a CMOS ﬂuorescence contact imaging\nmicrosystem.\nwhich can be distinguished by their emission wavelengths (i.e.,\ncolor).\nFluorescent markers,\nthe green-emitting and\nsuch as\nred-emitting quantum dots (QDs) [8], absorb narrow-band\nlonger wavelengths. Emission\nexcitation light and emit at\nwavelengths are typically between 500 nm to 700 nm and\nwell-separated (e.g., 50–100 nm) amongst each other. Unlike\nother spectroscopic applications where continuous ﬁne resolu-\ntion spectroscopy techniques (e.g., Raman spectroscopy) are\nrequired, ﬂuorescence imaging requires spectral differentiation\namong only a small number of discrete wavelengths. Therefore,\na tunable-color light sensor that can detect a ﬁnite number of\nwell-separated wavelengths can be used to sense and differen-\ntiate the emission wavelengths of various ﬂuorophores.\nIndex Terms—CMOS image sensor, ﬂuorescence imaging,\nlab-on-a-chip, microﬂuidics, quantum dot, self-reset, subranging\narchitecture, two-step ADC, wide dynamic range.\nI. INTRODUCTION\nF LUORESCENCE-BASED transduction is an established\ntechnology and ﬁnds a multitude of applications in the\nlife sciences. For many analytes, it provides the highest sensi-\ntivity and selectivity from common transduction methods [1].\nIn particular, laser-induced ﬂuorescence is a prominent sensory\nmethod for lab-on-a-chip devices, depicted in Fig. 1 [2]. Sev-\neral groups have focused on the development of integrated ﬂuo-\nrescence-based sensing platforms for applications ranging from\ncancer research [3], [4] to nucleic acid detection [1], [5].\nIn ﬂuorescence imaging, ﬂuorophore-labeled biological sam-\nples can vary widely in the amount of light they output. For\nexample, in hybridization assays, target analyte concentrations\nin the order of nano- to milli-molar are typical [2], [9]. In ad-\ndition, the ﬂuorescence excitation light intensity is typically or-\nders-of-magnitude higher than that of the ﬂuorescence emission.\nCoupled with the fact that it is difﬁcult to fabricate ultra-thin yet\nhigh-performance optical ﬁlters, the detection of ﬂuorescence\nin a contact imaging microsystem may have to be performed in\nthe presence of inadequately-rejected stray excitation light [5].\nTherefore, employing a wide dynamic range (WDR) imager is\nadvantageous as it allows for sensing of the low target specimen\nconcentrations superimposed on a substantial background [10].\nThe choices of the photodetector for ﬂuorescence imaging\nsystems have conventionally been the photo multiplier tube\n(PMT) and the charge-coupled device (CCD). PMTs are\namongst\nthe most sensitive photodetectors, but are bulky,\nexpensive and require high operation voltage making them\nunattractive to be integrated into a miniaturized system. The\nthroughput of PMT-based detection systems is relatively low\ndue to the lack of parallelism in a single photodetector based\nOne of the advantages of ﬂuorescence-based sensing is its\nsuitability for spectral multiplexing. To concurrently analyze\nmultiple biological processes (e.g., hybridization in DNA anal-\nysis [6]) or biological structures (e.g., internal organs in small\nanimal imaging [7]), multiple ﬂuorescent markers can be used,\nManuscript received August 03, 2012; revised October 24, 2012; accepted\nNovember 08, 2012. Date of publication January 29, 2013; date of current\nversion July 24, 2013. This paper was recommended by Associate Editor\nR. Carmona Galan.\nD. Ho, G. Gulak, and R. Genov are with the Department of Electrical and\nComputer Engineering, University of Toronto, Toronto, ON M5S 3G4, Canada\n(e-mail: roman@eecg.utoronto.ca).\nM. O. Noor and U. J. Krull are with the Department of Chemical and Phys-\nical Sciences, University of Toronto Mississauga, Mississauga, ON L5L 1C6,\nCanada.\nColor versions of one or more of the ﬁgures in this paper are available online\nat http://ieeexplore.ieee.org.\nDigital Object Identiﬁer 10.1109/TCSI.2013.2239115\n1549-8328/$31.00 © 2013 IEEE\n2117\nHO et al.: CMOS TUNABLE-COLOR IMAGE SENSOR WITH DUAL-ADC SHOT-NOISE-AWARE DYNAMIC RANGE EXTENSION\nCONTROL\nLoaic\n\nBIASING\nCIRCUIT\n\nROW DECODER\nPIXEL CONTROL LOGIC.\n\nPIXEL/ADG:\n\nICOUNTER|\n\nGLOBAL\n\nICOUNTER\n\nQ\n8\n2\ni\n2\nfs\ny\n\na\n8\n2\na\n2\nfs\ny\n\nQ\n8\ng\na\n2\nFd\nY\n\nCOLUMN\nlbccopeRy OUTPUT BUFFERS\n\nCHIP OUT SELECT\n(FINE/COARSE)\n\nBIW) COLOR\nMODE SELECT\n\nFROM COUNTER:\n\nCOARSE ADC (cADC)\n\nSELF-RESET LOOP,\n\n15\n\nFROM PIXEL\n\n(RESIDUE)\n\nFROM DAC\n\nINO\nDOUT\n5\nFROM\nBIASING\n|. CIRCUIT\nLo AOUT*s\n(RESIDUE)\n©)\n(b)\nFINE ADC (fADC)\nD\nOUT\nVeo] coL REG | REGISTER\nf ciuK\nv:\nsae RESET\n\n(d)\n\nPIXEL\nouT\nFig. 2. VLSI architecture of WDR tunable-color digital pixel sensor prototype.\nADC circuit in the presence of input-dependent shot noise does\nnot lead to an overall noise-optimized design.\nPMT. In contrast, CCDs can be employed in an arrayed imple-\nmentation, but do not allow for on-chip integration of peripheral\ncircuits such as for signal conditioning. This increases cost and\nlimits miniaturization. CMOS technology, on the other hand,\nhas the advantages of low cost, high integration density, and\nsignal processing versatility, as for example demonstrated in\na time-resolved ﬂuorescence imager [11] and a lab-on-chip\nﬂuorometer [12].\nWe present a CMOS tunable-color wide dynamic range\nimage sensor prototyped in a standard 0.35 m CMOS tech-\nnology. The sensor integrates an 8 8 array of pixels utilizing\nthe CMOS tunable-color photogate (CPG), with the earlier-gen-\neration single-pixel prototypes reported by us in [10], [18],\n[19]. The CPG employs the polysilicon gate as an optical ﬁlter,\nthus requiring no additional optical color ﬁlter. We also present\nan analysis that accounts for photon shot noise for the archi-\ntectural design of a two-step ADC for image sensors. Based\non this analysis, the sensor implements a WDR asynchronous\nself-reset readout architecture that places the residue ADC\nat the column level. The sensor is experimentally validated\nthrough the measurement of color light intensities and through\n2D color imaging. It is also integrated into a contact imaging\nmicrosystem for sensing ﬂuorescent samples in a microﬂuidic\nchannel.\nNumerous dynamic range (DR) enhancement circuit tech-\nniques for CMOS image sensors have been reported. The\nlogarithmic sensor provides a wide DR with a simple circuit\nimplementation but achieves a low overall linearity and poor\nsensitivity under high illumination [13]. The multiple-capture\nsensor provides a wide DR and maintains high linearity but\nresults in SNR drops at the high illumination range [14]. The\nasynchronous self-reset\ntechnique, albeit requiring a large\npixel area, extends the DR and simultaneously achieves high\nlinearity, SNR, and a sensitivity comparable to that of the active\npixel sensor [15], [16]. Combined high SNR, DR, and linearity\nare often primary design requirements for biosensors.\nThe rest of the paper is organized as follows. Section II\ndiscusses the overall VLSI architecture. Section III reviews\nthe tunable-color photogate device. Section IV quantitatively\nanalyzes the two-step ADC VLSI architecture in the presence\nof shot-noise. Sections V and VI discuss the circuit imple-\nmentation of the prototype and reports experimental results,\nrespectively. Section VII describes the experimental validation\nin ﬂuorescence imaging of samples in a microﬂuidic channel.\nSection VIII highlights key observations.\nEarly asynchronous self-reset based prototypes [17] output\nonly the self-reset count but neglected the charge that remains in\nthe integration capacitor, commonly referred to as the well. This\nresidue charge is not read out and introduces an error. To miti-\ngate this shortcoming, residue quantization is introduced to the\nasynchronous self-reset technique [15], analogous to a two-step\nsubranging analog-to-digital converter (ADC). The subranging\nADC consists of a self-reset ADC, referred to as a coarse ADC\n(cADC), which produces the most signiﬁcant bits (MSBs), fol-\nlowed by a residue ADC, referred to as a ﬁne ADC (fADC),\nwhich produces the least signiﬁcant bits (LSBs). The method of\nresidue quantization in [15] is by reusing the in-pixel ADC to\nalso process a signal beyond the full well capacity. Since the\nfADC and cADC have different input ranges, using the same\nII. VLSI ARCHITECTURE\nFig. 2 depicts the chip-level VLSI architecture of the imager.\nThe pixel is schematically depicted in Fig. 2(b). Each pixel\nintegrates a 50 m 50 m tunable-color photogate (CPG)\n[19] for color sensing and a\n/ -body photodiode to provide\nmonochromatic sensing.\n2118\nIEEE TRANSACTIONS ON CIRCUITS AND SYSTEMS—I: REGULAR PAPERS, VOL. 60, NO. 8, AUGUST 2013\nThe sensor implements the asynchronous self-reset with the\nresidue readout technique. In this scheme, the photocurrent is\nﬁrst estimated by a coarse ADC and the estimation error is\nsubsequently quantized by a ﬁne ADC and used to improve\nthe accuracy of the ﬁnal result. In the presented implementa-\ntion, the asynchronous self-reset cADC is located in the pixel\nbut the fADC is implemented as a column-parallel single-slope\nADC. This enables the decoupling of speciﬁcations for the two\nsub-ADCs for noise-optimization described in Section IV. The\nerror that results from coarse analog-to-digital conversion, i.e.,\nthe residue charge, is buffered by an in-pixel source follower\nbefore it is fed into the column-level fADC.\nADC\nMODE\n\ncADC\nRESET\n\nPIXEL\nOUT\n\nfADC\nRESET\n\nfADC\nCLK\n\nfADC\n\nVeawe\n\nCOL REG\nCLK\n\nGLOBAL\nCOUNTER\n\nCHIP O|\nSELECT\n\nCOARSE (PHASE 1)\n\n\\fne (PHASE a\n\n1\n1\nUT y\nLSB (FROM LAST CONVERSION) ¥owse\nrn\n\nCOARSE ADC\n\nFINE ANG\nFig. 3 depicts key signals within the imager. Analog-to-dig-\nital conversion is divided into two phases. Phase 1 is a global\noperation which begins at the start of the integration time, when\nthe ‘cADC RESET’ signal is asserted to reset the integration\nnode and in-pixel counters. The shutter then closes, feeding the\nphotocurrent into the readout circuit, and the photodiode output\nvoltage\nraises. If illumination is large enough to exceed\nthe well capacity, the comparator generates a pulse at the node\n. Each\nreset increments the in-pixel counter by one. The number of\nresets corresponds to the MSBs of the overall two-step ADC\noutput. At the end of integration time, phase 2 begins. In phase 2,\nthe ‘fADC RESET’ signal is asserted to indicate the start of the\nresidue digitization using single-slope operation. For each con-\nversion, a voltage ramp\nis fed into each column-parallel\ncomparator to be compared against the residue voltage,\n. As\n, the fADC counter latches in the current\nvalue of the global counter. The result of this phase produces\nthe LSBs of the ﬁnal output. Since the fADC is implemented as\na column-parallel ADC, it goes through the sampled residues in\nthe pixels within a column and digitizes them sequentially. In\nother words, light exposure and phase 1 conversion are global\noperations whereas the phase 2 conversion of residues is per-\nformed sequentially.\n, which turns on the reset transistor to reset\nreaches\nFig. 3. Transient of key signals in the imager prototype.\nA. Principle of Operation\nWhen the CPG is illuminated, the absorption of light is de-\nscribed by the Beer–Lambert law [22]. The absorbed photons\ngenerate electron-hole pairs, giving rise to a photocurrent for a\nsingle wavelength input that is given by\nAn on-chip R-2R digital-to-analog converter (DAC) is used\nto successively generate multiple control voltages for the CPGs\n(described in Section III) and generate the voltage ramp for the\ncolumn-parallel single-slope ADCs (described in Section V).\n(1)\nwhere\nis the radiation intensity,\nis the elementary charge,\nis Planck’s\nis the absorption\nis the effective depth of the sensing region, and\nis the light absorption from the various layers between the\nand\n. For a given\nis the area of the detector,\nis the wavelength,\nconstant,\ncoefﬁcient,\nis the speed of light in vacuum,\nIII. CMOS TUNABLE-COLOR PHOTOGATE\nlight source and the detection volume.\nthe control parameter\ndetector size, (1) can be rewritten as\nis a function of\nConventional ﬁlterless color sensing techniques that solely\nrely on integrated circuit process technology are based on\nsensing at speciﬁc depths in the bulk silicon. As a result,\nthese techniques tend not to scale well with technology [20],\n[21]. The color (e.g., RGB Bayer mosaic) ﬁlter array used in\ncommercial color cameras does not offer the ﬂexibility to tune\ndetection wavelengths. The CMOS tunable-color photogate\n(CPG) has been developed to mitigate these difﬁculties by\nemploying the polysilicon gate as an optical ﬁlter. Thus, the\nCPG does not require an additional optical color ﬁlter. An\nearlier generation single-pixel prototype has been reported in\n[10], [18] with detailed analysis reported in [19]. A concise\ndescription of the CPG principle of operation is given in this\nsection.\ndetermines the value of\n(2)\nWhen multiple wavelengths of light are incident simultane-\nously, the intensities at these wavelengths can be determined by\nmeasurements from multiple photo detectors [23]. For example,\nfor a two-wavelength input, the photo currents\nand mea-\nsured by two photo detectors can be related to the input intensi-\nties\n, respectively) by\nand\nand\n(at\n(3)\n(4)\n2119\nHO et al.: CMOS TUNABLE-COLOR IMAGE SENSOR WITH DUAL-ADC SHOT-NOISE-AWARE DYNAMIC RANGE EXTENSION\n¢\nc\nIg\nc\n\nSSR MERE ees\n\n7\n\noe]\n\n8x8\nARRAY OF\nCOLOR PHOTOGATES\nAND\nCOARSE ADCs\n\n=—\n\nBANK OF 8 SINGLE-SLOPE FINE ADCs\n\nbp? iepieP Sie e disie ep be ele?\nBLUE GREEN RED\n\nPOLYSILICON GATE\n\nFig. 4. Cross-sectional view of the CMOS tunable-color photogate (CPG). The\npoly-gate provides wavelength-dependent light absorption.\n-coefﬁcients describe the transfer function of the\nwhere the\ndetectors and can be obtained empirically. Speciﬁcally,\nis\nthe detector sensitivity at\n. The input in-\ntensities\ncan be obtained by solving the system of\nequations, provided that the detectors have unique spectral re-\nsponses (i.e., (3) and (4) are linearly independent). This model\ncan be extended to a ﬁnite set of\nwavelengths. To determine\nthe intensity of an input spectrum to a resolution of\ndistinct\nwavelengths, measurements are required from detectors.\nProvided that the wavelengths are well-separated, this method\noffers the ﬂexibility to tune to any arbitrary set of wavelengths\nwithin the sensitive range of the silicon photodiode. However,\nthe major limitation of this approach is that it requires the com-\nplete set of wavelengths to be sensed be known a priori so\nthat the appropriate -coefﬁcient model can be developed. As a\ncounterexample, the sensor would report incorrect intensities if\nthree wavelengths are present at the input but only a two-wave-\nlength model is used for reconstruction.\nwith control input\nand\nFig. 5. Micrograph of the 0.35 m standard CMOS 2 mm 2 mm color sensor\ndie with a 175 m 175 m pixels.\n1.5\n\n0.5\n\n0.5\nGATE- TO-BODY VOLTAGE (Ves) [V]\n\nRED\nGREEN\nBLUE.\n\n5 2 + 2 9 HN HK AT\nBs 3 oi - 3\n\n(9°| =99A O| GAZNVINHON) LNSYHND OLOHd\n\nB. CPG VLSI Implementation\nTo create the equivalent of multiple photo detectors with\nunique spectral responses, the CPG depicted in Fig. 4 has been\ndeveloped, comprising core and edge regions. The core region\nof the CPG is covered by a polysilicon gate. A\n-diffusion,\nreferred to as the edge region, forms the device output. A\n-body forms the body bias\nFig. 6. Measured 50 m 50 m CPG photocurrent for monochromatic light\nat 620 nm (red), 520 nm (green), and 450 nm (blue).\nresponses is created, e.g., for two colors, (3) and (4) are imple-\nmented by a single device.\nIt is worth noting that, in a 0.35 m standard CMOS tech-\nnology, the thickness of the polysilicon gate is approximately\n300 nm [24], leading to an approximate attenuation of 65%\nfor blue light (450 nm), 30% for green light (520 nm), and\n15% for red light (620 nm), based on the wavelength-dependent\npolysilicon absorption coefﬁcients of 3.56, 1.35, and 0.45 m\nfor blue, green, and red light, respectively. The overall image\nchip micrograph is depicted in Fig. 5. The photocurrent of a\n50 m 50 m CPG is depicted in Fig. 6, where the photocur-\nrent is measured across\nfor three monochromatic illumi-\nnations using a semiconductor parameter analyser. To highlight\nthe relative change in the current, the results are normalized to\none at\nV, the ratio of\nthe currents corresponding to each color changes signiﬁcantly\nacross\nV are uti-\nlized for the multiple measurements as required in (3) and (4).\nThe generation of multiple values of\nis automated by the\non-chip DAC. Multiple CPG responses at different values of\n-diffusion fabricated in an\nohmic contact.\nThe gate performs two key functions for color sensing. First,\nit functions as an optical ﬁlter to provide wavelength-dependent\nabsorption as described above. Second, it is a terminal for the in-\nduction of an electric ﬁeld to modulate the extent of photo-gen-\nerated carrier collection in the core region, the area under the\ngate. When\nis applied such that no depletion region is\nformed under the gate, photo detection only takes place near\nthe\nis applied\nto form a depletion region at the CPG core, it also participates\nin photo detection. But the light experiences wavelength-depen-\ndent absorption as it travels through the gate. Since the gate pro-\nvides greater attenuation at shorter wavelengths, the core region\nprovides additional long-wavelength (e.g., red) responsivity to\nthe CPG. Since the edge and core of the CPG have different\nspectral properties, when different gate-to-body voltages are ap-\nplied, an equivalent of multiple detectors with unique spectral\n||None|None|\n|None|||/ -body depletion region. When another\nV. For V\n. Therefore,\nV and\n2120\nIEEE TRANSACTIONS ON CIRCUITS AND SYSTEMS—I: REGULAR PAPERS, VOL. 60, NO. 8, AUGUST 2013\nNogaq]\n\nNew ------\n\nOrw\n\n(OUTPUT ELECTRON COUNT)\n\nLOG\nQ\nD\nZ\n\n~—— DRwor-——>1 wor\n\nSATURATION\n\n' APS\nwenn eee e eee e eens SATURATION\n\nBe “-RESET.\nACTIVE\n\nLOG (INPUT PHOTON COUNT)\nare passed through the ADC for digitization. The recon-\nstruction algorithm that solves for the input spectrum in (3)\nand (4) is implemented in software.\n||None|\n|None||IV. SHOT NOISE-AWARE WDR TWO-STEP IMAGER ADC\nThe exploitation of photon shot noise to reduce the noise re-\nquirement of a multi-ramp single-slope imager ADC has been\ndemonstrated [25]. In this section, shot noise exploitation for\nthe asynchronous self-reset with residue readout WDR archi-\ntecture is described qualitatively ﬁrst. A quantitative analysis is\nthen presented for a general two-step imager ADC.\nA. Qualitative Analysis\nIn Fig. 7, the transfer characteristic of the image sensor is\nplotted on a logarithmic scale. Under the customary assump-\ntion that one input photon results in one output electron, the\ninput-referred and output-referred quantities are equivalent and\nare interchangeable for the purpose of the following analysis.\nNoise sources depicted in Fig. 7 are the photon shot noise and\nread noise, which consists of thermal and ﬂicker noise of the\nphotodiode and readout circuit. In a conventional active pixel\nsensor (APS), the sensor output increases linearly with the light\nintensity until the full well capacity\nis reached. For an\nimager with extended DR, the output reaches a higher value,\n, typically limited by mechanisms that are speciﬁc to im-\nplementation, e.g., in-pixel memory depth for certain self-reset\nschemes.\nImager transfer curve illustrating the concept of shot noise as an input-\nFig. 7.\ndependent noise source.\nLOG (OUTPUT ELECTRON COUNT)\n\nNew Ngat\nLOG (INPUT PHOTON COUNT)\n||None|None|\n|None|||The photon shot noise has a standard deviation equal to the\nsquare root of the input light signal, in units of electrons. Be-\ncause photon shot noise increases with the input, as opposed to\nthe input-independent read noise, it becomes the dominant noise\nsource at higher light intensities. In this part of the input range,\nthe conventional ADC has a better noise performance than is re-\nquired, i.e., its quantization and thermal noise can be increased\nwithout decreasing the overall noise performance.\nFig. 8.\nImager transfer curve illustrating shot-noise-aware design.\nFig. 8 also illustrates the above idea for the asynchronous self-\nreset cADC and residue fADC architecture depicted in Fig. 2. In\nthis architecture, the cADC is only active when the input signal\nexceeds the full well capacity,\n, at which point, the shot\nnoise is\n. Therefore, since the irreducible shot noise com-\nponent is already substantial, a cADC noise ﬂoor much below\nis over designed in terms of keeping the combined shot\nnoise and read noise at a reasonable level. Unlike the cADC,\nthe fADC operates from the dark condition to\n. Therefore,\nthe fADC noise ﬂoor is ideally minimized. Since the area con-\nstraint limits the performance of in-pixel ADCs and that a high\nperformance is required from the fADC, it is implemented in\nthe periphery as a column-level circuit.\nThe analysis begins with the well capacity, which is the\namount of charge that a pixel can hold in a single photocurrent\nintegration, given by\n(5)\nand\nare the integration capacitance and inte-\nis the elementary charge. It\nis in most cases the parasitic capac-\nis process dependent and\nis largely\nwhere\ngration voltage, respectively, and\nis worth noting that\nitance of the photodiode. Since\ndepends primarily on the supply voltage,\ndetermined by the process technology.\nThe asynchronous self-reset with residue readout scheme can\nbe regarded as a conventional active pixel sensor with dynamic\nrange extension at high illumination via self-reset operation.\nSince imager ADCs are usually designed such that their quanti-\nzation noise does not exceed the read noise [25], in this analysis,\nthe fADC root-mean-square (RMS) quantization noise,\n, is\nchosen to be equal to the read noise,\nB. Quantitative Analysis\nThis section presents an analysis that can be used as a guide-\nline for the architectural design of the two-step ADC. In order\nto keep the analysis general to any two-step imager ADC archi-\ntecture, the formulation is not speciﬁc to particular fADC and\ncADC implementations. Therefore, it is assumed that the noise\nﬂoors of the ADCs are independent of the input amplitude, as\nmost types of ADC exhibits this characteristic.\n, i.e.,\n(6)\n2121\nHO et al.: CMOS TUNABLE-COLOR IMAGE SENSOR WITH DUAL-ADC SHOT-NOISE-AWARE DYNAMIC RANGE EXTENSION\nAs a measure of the noise increase, or equivalently the reduction\nof the noise requirement of the cADC, the factor\nis deﬁned,\ngiven by\nIt is well established that, for an input that follows a uniform\nprobability distribution function, the RMS quantization noise of\nan ADC,\n,\nas follows [26]\n, can be related to the quantization step size,\n(7)\n(16)\nTherefore, the fADC quantization step size is given by\nwhich is interestingly proportional to the square root of the well\ncapacity. Also, combining (9) and (16),\ncan be expressed as\n(8)\n(17)\nFrom the ratio of the largest to the smallest signal, the reso-\nlution of the fADC and cADC can be readily formulated. The\nnumber of bits for the fADC,\n, is ﬁxed, the\nwhich states that once the ﬁne ADC resolution,\nfactor\nis inversely proportional to\n, is given by\n.\nKey performance metrics of the fADC and cADC can then\nbe computed. The dynamic range is deﬁned as the ratio of the\nlargest signal to the smallest detectable signal. The DRs, in dB,\nfor the fADC and cADC are, respectively\n(9)\nThe saturation signal of the entire two-step DR,\n, is deter-\nmined by the maximum input light intensity speciﬁcation. The\nnumber of bits for the cADC,\n, is given by\n(18)\n(10)\nand\nbits.\nThe resolution of the two-step ADC is therefore\n(19)\nThe analysis next proceeds to obtain an expression for the\n. The standard devi-\nRMS quantization noise of the cADC,\nation of shot noise is given by\nBut as shown in Fig. 8, the DR of the overall two-step ADC is\nnot merely\nas is the case for a conventional two-step ADC.\nRather, the extended DR is involved, given by\n(11)\n(20)\nwhere\nis the input photon count. Referring to Fig. 8, in\norder to constraint the cADC quantization noise to an accept-\nable level,\nis deﬁned to relate the\n, a quality ratio\ncADC noise to shot noise, given by\nThe DR of the overall two-step ADC is given by\n(12)\n(21)\nIf\n, then\n. Therefore, to ensure that\nThis DR analysis reveals an important property of the two-\nstep WDR ADC. When shot noise is considered, as in this anal-\nysis, the cADC noise ﬂoor can be raised, which relaxes the DR\nrequirement of the cADC. However, as illustrated in Fig. 8,\nstill has to be designed to a level below the cADC LSB step\nsize, namely, the full well level. Therefore, the cADC effective\nnumber of bits (ENOB) exceeds its actual number of bits. As\nmentioned previously, if\nis designed to be in the neighbor-\nhood of\n, the cADC has better noise performance than is\nrequired. But, if\nis equal to the full well level, then the ﬁnal\nresult of the entire two-step ADC is only accurate to the cADC\nLSB and renders the entire\nis below shot noise,\nis chosen to be less than unity.\nAs depicted in Fig. 8, since\nhas its minimum at\nto\n,\nis chosen to be equal to the acceptable noise level evaluated\nwithin the range that the cADC self-resets (i.e.,\n) and since\nmust be smaller or equal to\nat the full well level, i.e.,\n(13)\nThis guarantees that\nAt full well, using (11) and (12),\nis below shot noise for\n.\nbits of the fADC inaccurate.\nis given by\nThe signal-to-noise ratios (SNRs) in dB for the fADC in the\nread noise dominant (low signal) and shot noise dominant (high\nsignal) regimes are, respectively\n(14)\nUsing (7) and (14), the quantization step size for the cADC is\ngiven by\n(22)\n(15)\nIEEE TRANSACTIONS ON CIRCUITS AND SYSTEMS—I: REGULAR PAPERS, VOL. 60, NO. 8, AUGUST 2013\n2122\nalso worth noting that since the shot noise magnitude is equal\nto the square root of the signal magnitude, in this example, after\n10,000 resets, the equivalent signal is 10,000\n. This results\nin a shot noise of 10,000\n, which is equal to the full well\ncapacity. Therefore, the entire residue or the entire fADC output\nconsists of noise.\nand\n(23)\nThe peak SNR in dB of the fADC is obtained by evaluating\nat the highest fADC input, given by\nV. CIRCUIT IMPLEMENTATION\nThe design of Fig. 2 has been fabricated in a 0.35 m standard\ndigital CMOS technology. The 175 m 175 m pixels with a\n10% ﬁll factor are tiled to form a 8\n(24)\nassuming, as it is typical of imagers, that shot noise dominates\nat the full well level. Analogously, since\nis designed (from\n(13)) to be below shot noise in the extended dynamic range, the\nimager is shot noise dominant within this range. Hence the SNR\nin dB in the extended DR is given by\n8 array for imaging.\nA. Pixel Circuit Implementation\nThe pixel readout circuit consists of an electronic shutter, a\nreset block, and ADC block that implements asynchronous self-\nreset, the coarse part of the two-step ADC operation. The reset\nblock includes a comparator and a reset transistor. The ADC\nhas a 15-bit linear feedback shift register (LFSR) counter which\ndominates the pixel area. The choice of 15-bit is to provide a\nwide dynamic range even without the use of the fADC. This\nenables the imager to support a high frame rate mode with pixel-\nparallel A/D conversion.\n(25)\nwhich has the same expression as\ncADC peak SNR in dB is given by\n. Analogously, the\n(26)\nLastly, the peak SNR of the overall two-step ADC is given by\nReferring to the circuit in Fig. 2(c) and timing diagram\nin Fig. 3, in the beginning of each integration period, the\ncounter is cleared and the photodiode output\nis charged\nto the reset voltage\n-body is biased at\nthe voltage\nto rise, charging the integration capacitor\nreaches the comparator reference voltage\ncomparator changes state, causing the reset transistor\n. After reset, the comparator\nto\nto turn on, resetting\noutput toggles back to the original state. The combination of\ntwo toggles generate a pulse with a width that equals the time\nit takes to reset\n. In the absence of circuit nonidealities\nand ignoring the residue, the resulting pulse train has a pulse\nfrequency proportional\nintensity. The\nasynchronous self-reset ADC is less sensitive to supply voltage\nscaling as it effectively represents the light signal by a digital\ncount, rather than a voltage across a capacitor.\nV. The\nV. The photocurrent causes\n. When\n(27)\nwhich is different from the ratio of the maximum input to the\nnoise at the zero signal level, as is often the case for most types\nof ADCs. This difference is a direct result of the presence of shot\nnoise. Strictly speaking, the above peak SNR expressions are\napproximations, as read noise has not been included. But since\nthe peak SNRs are evaluated at the illumination level where\nshot noise dominates over read noise, the approximations are\nnonetheless accurate.\nV, the\nto the incident\nlight\nAs a numerical example of the above quantitative analysis,\nthe following parameters with values typical to CMOS imagers\nare assumed [27]:\n, and\n. Assume that the fADC quantization noise\n10,000\n,\nThe voltage comparator is a two-stage design with large\nPMOS input transistors to lower thermal and ﬂicker noise.\nFig. 9 depicts the voltage comparator. The ﬁrst stage employs\ncross-coupling to increase the output resistance of the load\ntransistors\n. The second stage provides an\nadditional gain. The ﬁrst stage and the second stage consume\n18 A and 10 A for the 3.3 V supply, respectively. The com-\nparator has a 66 dB simulated DC gain for resolving\n1 mV\nfor a maximum input swing of 2 V. It has a 3-dB bandwidth of\n10 MHz.\nis designed to be equal to the read noise, i.e.,\n. From (8),\n. From (9) and (10), the\nbits and\nbits, respectively. Suppose the cADC is designed to\nhave a quantization noise comparable to shot noise at the full\nwell input, i.e.,\n. Therefore, based on (14) and (15), it\ncan be computed that\n,\nrespectively. From (16), the cADC noise ﬂoor can be raised 20\ntimes (\n) while not incurring a severe noise degradation.\nThis translates to a power and/or area saving. From (24) and\n(26), the peak SNRs for the fADC and cADC are estimated to\nbe 40 dB and 60 dB, respectively. From (27), the peak SNR of\nthe two-step ADC is 60 dB. From (18)–(20),\n, and\nare 66 dB, 80 dB, and 40 dB, respectively. Since the\noverall DR is\n, the fact that shot noise\nis taken into account relaxed the cADC noise requirement by\n26 dB. An important beneﬁt of this is a much reduced pixel\narea for an in-pixel cADC implementation (an asynchronous\nself-reset ADC is required to be implemented in-pixel). It is\nnumber of bits for the fADC and cADC are\nthrough\nand\nB. Column-Parallel Analog-to-Digital Converters\n,\nThe column-parallel single-slope ADC of Fig. 2(d) digitizes\nthe residue voltage\n. It consists of a voltage comparator\nwith the same topology as the in-pixel comparator of Fig. 9 and\na 15-bit binary counter. A global counter is connected to both\nthe on-chip DAC and the column-parallel ADC sub-circuits as\nshown in Fig. 2(a). During analog-to-digital conversion, it incre-\nments in order to have the DAC output a ramp voltage\n2123\nHO et al.: CMOS TUNABLE-COLOR IMAGE SENSOR WITH DUAL-ADC SHOT-NOISE-AWARE DYNAMIC RANGE EXTENSION\np—eIN-\n\nVeus—4\n\n:\n\n[asl LNdLno aaHNnsv3aN\n\n10°\n\nINPUT INTENSITY [uW/cr?]\nFig. 9. Schematic of the voltage comparator.\n20-| fe ei a ses 67 bar\n128 128 64 64 1 1\n0.35 035 035 0.35 0.35 0.35\n2R 2R 2R\nVar eee\nA A\n\nVour\nFig. 12. Experimentally measured imager output as a function of input\nintensity.\ninput transistors are used to lower the ﬂicker noise. The DAC\noccupies an area of 300 m 120 m.\nVI. EXPERIMENTAL RESULTS\nFig. 10. Schematic of the on-chip R-2R DAC.\nA. Pixel Readout Circuit\nP¥n. Vop\n\n--}t\n\nThe experimentally measured transfer characteristic is de-\npicted in Fig. 12, obtained from illumination provided by a\nhalogen lamp onto a pixel. The input light intensity is measured\nby an optical power meter (with a detector calibrated for broad-\nband sensing) and is varied by over four orders of magnitude\nusing neutral density (ND) ﬁlters. ND ﬁlters used are from Thor-\nlabs with optical densities (OD) of 0.3, 0.7, 1.0, 2.0, 3.0, and\n4.0 and are combined to provided various degrees of attenua-\ntion. Measurements are collected using the 50 m 50 m CPG\nwhich is set to the highest photo sensitivity, i.e.,\nV.\nAt each intensity, 32 measurements are obtained to calculate\nthe average and standard deviation\nof the imager output. The\nexperimentally measured transfer characteristic is depicted in\nFig. 12, obtained from illumination provided by a halogen lamp\nonto a pixel. The input light intensity is measured by an optical\npower meter (with a detector calibrated for broadband sensing)\nand is varied by over four orders of magnitude using neutral\ndensity (ND) ﬁlters. ND ﬁlters used are from Thorlabs with op-\ntical densities (OD) of 0.3, 0.7, 1.0, 2.0, 3.0, and 4.0 and are\ncombined to provided various degrees of attenuation. Measure-\nments are collected using the 50 m 50 m CPG which is set\nto the highest photo sensitivity, i.e.,\nV. At each inten-\nsity, 32 measurements are obtained to calculate the average and\nstandard deviation\nof the imager output.\nThe experimentally measured SNR of the imager output, de-\npicted in Fig. 13, is calculated as mean over standard deviation\nof the output. The input-referred dynamic range is deﬁned as the\nmaximum output over the RMS value of the readout noise\n,\ni.e., the standard deviation of the imager output under dark con-\ndition [27]. Therefore, the DR is the range between SNR\nand the highest signal level in Fig. 13 and is measured to be\n82 dB, limited by the maximum light intensity achievable by\nFig. 11. Schematic of the operational ampliﬁer within the DAC.\nto the column-parallel ADCs. As depicted in Fig. 3,\ncompared to the residue voltage\nis\nreaches\n, the comparator clocks the register to latch in the present\n.\n. When\nglobal counter value, which is the digital representation of\nC. Digital-to-Analog Converter\nThe schematic of the on-chip DAC is shown in Fig. 10. The\nDAC is based on the R-2R architecture [26], due to the avail-\nability of high-precision resistors in the CMOS process used.\nUnlike the conventional resistance-ratio ladder converter [26],\nthe R-2R converter realizes binary-weighted currents with a\nsmaller number of components and with a resistance ratio of\nonly two, independent of the number of bits.\nSwitches are sized proportionately to accommodate the bi-\nnary increase in the current level through each branch. The unit\nresistors\nare 5 k non-silicided polysilicon resistors, each\noccupying an area of 24 m 1.1 m. The opamp is based on\nthe two-stage opamp architecture, depicted in Fig. 11. PMOS\n2124\nIEEE TRANSACTIONS ON CIRCUITS AND SYSTEMS—I: REGULAR PAPERS, VOL. 60, NO. 8, AUGUST 2013\nMEASURED ONR [db)\n\nOU\n\n45\n\n40\n\n35\n\n307°\n\n25\n\n20\n\nFIRST RESET.\nOPERATION\n\nfADC OPERATION | cADC OPERATION\n\n1\ni\n1\ni\ni\ni\n1\n1\n1\ni\n1\n1\ni\nt\ni\n1\n1\n1\ni\n\ncADC NOISE\nSIGNIFICANT.\n\n10 10° 10°\nINPUT INTENSITY [uW/cm?]\n\nINL [LSB]\n\nDNL [LSB]\n\n0.5\nie}\n-0.5\n-1\nie} 64 128 192 256\nINPUT CODE\n(a)\n0.5\nie}\n-0.5\n0 64 128 192 256\nINPUT CODE\n\n(b)\nFig. 13. Experimentally measured imager SNR as a function of input intensity.\nNUMBER OF PIXELS\n\n20\n\n15\n\n10h\n\n247 248 249 250 251 252 253 254 255 256\nINTENSITY [LSB]\n\nFig. 15. Experimentally measured on-chip DAC performance: (a) INL, and\n(b) DNL.\nThe opamp within the DAC achieves a simulated DC gain of\n69 dB and a 3-dB bandwidth of 20 kHz.\nC. System-Level Validation in Color Light Measurements\nThe 0.35 m CMOS prototype in Fig. 5 has been tested in\nlight intensity measurements at the green (520 nm) and red (620\nnm) wavelengths using two current-controlled light-emitting\ndiodes (LEDs) for input illumination.\nIn order to measure the intensity at two known wavelengths,\n-coef-\n-coefﬁcients can be per-\n, a known\n(at\nis applied\n. This process is\n. Following the above procedure, only\n-coefﬁcients.\nAdditionally, it has been found that modeling accuracy can be\nimproved by simultaneously utilizing multiple combinations of\ninput colored light intensities to solve for the average -coefﬁ-\ncients. The -coefﬁcients are obtained only once, and are stored\nfor subsequent reconstruction calculations.\naccording to (3) and (4), an empirical model with four\nﬁcients is required. The extraction of\nformed as follows. For example, in (3), to extract\nlight intensity\nserves as the input of the measurement\n, a known light intensity\nFig. 14. Histogram of the sensor output under uniform illumination.\n). Similarly, for\n||None|\n|None||the light source in the high end and the read noise in the low\nend. In Fig. 13, as the input signal increases, the SNR improves\nat 20 dB/dec at low illumination where the total noise is domi-\nnated by the input-independent noise of the fADC readout cir-\ncuit. As the number of reset operations increases, the noise in\nthe self-reset loop (e.g., reset noise) accumulates, which reduces\nthe rate of increase of the SNR to approximately 6 dB/dec at\nvery high illumination levels. This increase in cADC noise has\nalso been reported in [15] and must be minimized. As depicted\nin Fig. 13, the peak SNR of 46.2 dB has been measured at the\nhighest input intensity. Fig. 13 also depicts a measured number\nof reset pulses of 200, which is equivalent to a DR increase of\n46 dB over the same CMOS image sensor without any DR en-\nhancement, i.e., with the cADC disabled.\nas an input for another measurement at\nthen repeated for\n||None|None|\n|None|||measurements are required to determine all\n|||To resolve the input to two wavelengths, each input light is\nmeasured two times using\nV. The\nraw measurements and the previously obtained model are com-\nbined to reconstruct the input using (3) and (4). Fig. 16 depicts\nmeasured intensities after reconstruction for an illumination that\nsimultaneously contains green (520 nm) and red (620 nm) light.\nFor each of the two wavelengths, intensities of 0, 60, 120, 180,\n240, and 300 W cm have been used. Fig. 16(a) depicts mea-\nsured tunable-color photogate response across the illumination\nrange for two gate-to-body voltages. These data are used to de-\ntermine the -coefﬁcients to create a linear model (depicted as a\nmesh). In order to evaluate the crosstalk between color channels,\nfor each intensity step, the intensity of the other color is swept.\nFor example, in Fig. 16(b), for each of the six green intensities,\nthe red intensity is varied in six levels. Therefore, based on six\nV and\nTo evaluate the ﬁxed pattern noise (FPN) of the imager, uni-\nform illumination is applied to the entire pixel array. Fig. 14\ndepicts the histogram of image intensities resulting from uni-\nform illumination. The average intensity is 251.1 counts with a\nFPN (\n) of 0.38%.\n|||B. Digital-to-Analog Converter\nThe DAC consumes 1.24 mW and achieves 8-bit accuracy\nwith INL and DNL shown in Fig. 15(a) and (b), respectively.\n2125\nHO et al.: CMOS TUNABLE-COLOR IMAGE SENSOR WITH DUAL-ADC SHOT-NOISE-AWARE DYNAMIC RANGE EXTENSION\nSERENA SE Ee Reetieg Ae be Fade\nMODEL (MESH)\n\nMEASURED INTENSITY - GREEN [uW/em”\n\n300\n\n240\n\n180\n\n120\n\n2\nSs\n\n8\n\nIN\nx\nSs\n\n8\n\ns\n8\n\nMEASURED INTENSITY —- RED [wWiem?]\n\n60\n—— IDEAL —— IDEAL\n\n= MEASURED © MEASURED\n\n60 120. 180 240 300 0 60 120. 180 240 300\nINPUT INTENSITY - GREEN [W/cm] INPUT INTENSITY ~ RED [uW/om?}\n\n(b)\n\n(c)\nFig. 16. Simultaneous two-color light-emitting diode (LED) illumination measurements: (a) measured tunable-color photogate response for two gate-to-body\nvoltages across illumination (circles). A linear model based on -coefﬁcients is superimposed (mesh). (b) Reconstructed intensity of the green (520 nm) input\ncomponent. (c) Reconstructed intensity of the red (620 nm) input component.\nSOURCE RGB IMAGE\n\nIMAGE CAPTURE\n\nVop=0V\n\nVap=0.3V\n\nVap=0.6V\n\nRECONSTRUCTION\n\nRECONSTRUCTED RGB IMAGE\n\nFig. 17. Color imaging: RGB image reconstructed from input images captured at\nV, 0.3 V, and 0.6 V, from top to bottom, respectively.\nV.\nstring ‘University of Toronto’ by the characters ‘U’, ‘o’, and\n‘T’, on a black background. The approximately 10 cm 10 cm\nimage is held approximately 0.9 m from the lens, which fo-\ncuses the light onto the pixel array. The lens aperture is at\nF/16 and the integration time is 1 sec under\nW cm\nof illumination. The image captured by the proposed sensor\nis depicted in Fig. 17. The entire array of pixels use a global\ncolor model or\n-coefﬁcient matrix. One key advantage of the\nproposed approach to color sensing is that each pixel produces\nthe entire set of RGB values. Therefore, color interpolation,\na process that approximates missing color information from\nneighboring pixels commonly performed in cameras with a\ncolor ﬁlter mosaic array, is not required. This eliminates the\nassociated color artifacts.\nintensity steps, each against six intensities of the other color, a\ntotal of 36 measurements have been performed. Each error bar\ncontains a sweep across all intensities of the other color and de-\npicts one standard deviation from the mean value. Fig. 16(c) is\nanalogous to Fig. 16(b) but for the red component of the input\nlight.\nThe SNR is commonly deﬁned for imagers as\n,\nwhere\nare the mean and standard deviation of the output\ncalculated over temporal measurements for all pixels [28]. As\nshown in Fig. 16(b) and (c), the peak SNRs measured at the in-\ntensity of 300 W cm are 24.3 dB and 28.5 dB for the green\nand red components, respectively. In a separate high input in-\ntensity test (result not shown), the imager achieves a peak SNR\nof 29.2 dB and 34.8 dB for green and red light at the intensity\nof 1500 W cm (limited by maximum LED output).\nand\nTable I summarizes the experimentally measured electrical\ncharacteristics of the image sensor prototype depicted in Fig. 5.\nD. System-Level Validation in 2D Color Imaging\nVII. VALIDATION IN FLUORESCENCE IMAGING\nAlthough the imager has been designed for ﬂuorescence\nsensing application rather than for the photographic applica-\ntion, its ability to reproduce an image is evaluated via capturing\nof a still photographic image. It is an image abbreviating the\nThe tunable-color sensor prototype has been evaluated as a\npart of a ﬂuorescence imaging microsystem to validate its suit-\nability for point-of-care (POC) diagnostic applications. POC\n2126\nIEEE TRANSACTIONS ON CIRCUITS AND SYSTEMS—I: REGULAR PAPERS, VOL. 60, NO. 8, AUGUST 2013\nIntegrating an imager with microﬂuidics can serve a variety\nof applications. Spatial imaging of a ﬂuidic channel, for ex-\nample, can be a method to analyze the result of electrophoresis\nexperiments where the outcome is determined by detecting the\ndistance traveled by dispersed particles relative to a ﬂuid under\nthe inﬂuence of an electric ﬁeld [32].\nTABLE I\nEXPERIMENTAL CHARACTERISTICS\nTechnology\n\n0.35y4m standard CMOS\n\nSupply Voltage\n\n3.3V\n\nChip Power Consumption (30fps)\n\n8mW\n\nPixel Power Consumption (30fps)\n\n100.W\n\nPixel Size\n\n175m x 175m\n\nPhotodetector Type\n\np*—FD/n-body photogate\n\nCore Area 1.6mmx 1.6mm\nArray Pixel Count 8x8\nIntegration Capacitance 250fF\n\nCounter Size\n\n15-bit (33k count)\n\nMax. Effective Well Capacity\n\n156ke~ X33k (at Var r=lV)\n\nOptical Sensitivity\n\n3.3.W /cm? /level\n\nMax. Photocurrent 2.5uA\n\nDark Current 0.25 count/sec\nMax. Pulse Frequency 10MHz\nFrames Per Second 0.1-100\n\nFPN (1c) 0.38%\n\nPeak SNR 46dB\nDynamic Range 82dB\n\nDAC Power Consumption 1.24mW\n\nDAC Maximum INL +0.9/-0.6 LSB\nDAC Maximum DNL +0.4/-0.4 LSB\n\nQuantum dots (QDs) as ﬂuorescent markers exhibit a number\nof unique optical properties that render them superior than or-\nganic ﬂuorescent dyes. These unique properties include: narrow,\nsymmetric and size-tunable emission spectra (full width at half\nmaximum, FWHM of 25–35 nm); strong and broad absorption\nspectra; high quantum yield ( 20%) and long life time ( 10 ns)\n[8]. As compared to organic ﬂuorophores, QDs have greater re-\nsistance to photobleaching that enables long-term monitoring.\nThe broad absorption spectra of QDs allows for multiple colors\nof QDs to be excited efﬁciently with a single excitation source\nwhich is generally not possible with organic dyes. These prop-\nerties make QDs ideal as ﬂuorescent biomarkers.\nA. Microsystem Prototype Design\nThe microsystem prototype consists of a blue LED for\nﬂuorescence excitation, an optical ﬁlter for excitation rejection,\na ﬂuidic structure for holding the sample solution, and the\nCMOS CPG imager for photo detection. A 100- m-thick,\n1.5 mm 1.5 mm optical interference ﬁlter is used to attenuate\nthe 450 nm (\nnm) excitation light from the Philips\nLuxeon K2 450 nm (\nnm) blue LED. The ﬁlter\nis fabricated using 60 layers of Nb O and SiO (by Omega\nOptical) to the required speciﬁcation, and optically tested prior\nto integration with the CMOS die. This approach is chosen\nover the direct deposition of thin-ﬁlm layers over the CMOS\ndie to ensure that well-established methods for coating planar\nsubstrates can be used during ﬁlter fabrication. The ﬁlter is a\nlong-pass design with a cut-off wavelength of 510\n2 nm. The\nﬁlter has been tested to provide an optical density (OD) of six\n(i.e., 10 attenuation) at the excitation wavelength of 450 nm,\nwith a transmission rate greater than 90% at 520 nm and on\naverage greater than 85% from 520 nm to 700 nm.\ndevices are becoming increasing popular as they promise to\nbring diagnostic technology from the standard laboratory set-\nting to the patient residence to facilitate early diagnosis [29].\nAlthough miniaturization is a key for the development of such\ndevices, for optical transduction such as ﬂuorescence-based de-\ntection, a ﬂuorescence microscope is commonly employed. De-\nspite the high sensitivity and selectivity offered by this trans-\nduction method and its widespread applications ranging from\nthe detection of nucleic acids, proteins and small molecules, its\nincorporation into POC devices has been limited due to the lim-\nited portability and the high cost of the instrumentation. One\nemerging technique with a potential to overcome the limitations\nof a ﬂuorescence microscope is contact imaging [30]. Unlike\nthe conventional ﬂuorescence microscope, in contact imaging\nas depicted in Fig. 1, the object to be imaged is placed in close\nproximity to the focal plane, eliminating the need for bulky and\nexpensive optics such as a system of lenses and mirrors, which\nenables miniaturization to realize lab-on-a-chip platforms.\nThe microﬂuidic device consists of a hybrid of top poly-\ndimethylsiloxane (PDMS) cover and bottom glass substrate.\nThe channels are fabricated in PDMS using a soft-lithography\n(rapid prototyping and replica molding) technique. PDMS base\nand curing agent are thoroughly mixed in a 10:1 ratio, the\nmixture has been degassed under vacuum, and then 3 g of the\nmixture are poured onto the microﬂuidic template and cured in\nan oven at 120 C for 30 min. The cured PDMS cover is peeled\noff and the inlets and outlets at the ends of each channel are\npunched out using a 2 mm diameter metal bore. The PDMS\ncover is then air plasma oxidized for 30 s at 10.5 W and is\nimmediately sealed to a plasma oxidized glass coverslip.\nMicroﬂuidic networks offer many advantages for chemical\nand biological sensing. First, reaction time is greatly shortened,\nin some cases from hours to minutes [31], as active delivery\nby electrokinetic ﬂow can be used to accelerate interactions\nbetween molecules over an otherwise slow diffusion-limited\nprocess. Secondly, small sample volumes in the nano-liter range\ncan be readily transported and processed by means of microﬂu-\nidic networks. Thirdly, sensing of samples within a microﬂuidic\nchannel where the chemical reaction occurs facilitates real-time\ndetection.\nFig. 1 depicts a simpliﬁed cross-sectional view of the re-\nsulting microﬂuidic device. It has 1 cm (length)\n250 m\n(width)\n11 m (height) channels, terminated by an inlet and\nan outlet on each end. The microﬂuidic device is subsequently\nintegrated with the CMOS sensor as shown in Fig. 18(a).\nFig. 18(b) depicts an enlarged view of the microﬂuidic channel\npassing over the sensor pixel array.\n2127\nHO et al.: CMOS TUNABLE-COLOR IMAGE SENSOR WITH DUAL-ADC SHOT-NOISE-AWARE DYNAMIC RANGE EXTENSION\nTABLE II\nCMOS FLUORESCENCE MICROSYSTEMS COMPARATIVE ANALYSIS\nThis Work [5] [33] [34] [28]\nCMOS Technology 0.35um 0.35um 5um 0.18 4m 0.5um\nSupply Voltage 3.3V 3.3V 5V 1.8V 3.3V\nArray Pixel Count 8x8 128X128 10x10 128x128 132x124\nPixel Size 175m x 175m 15pm x 15p2m 300pm x 300m Tpmx 7pm 20pm x 20j4m\nPhotodetector Type CMOS photogate n*/p-sub pt /n-well n*/p-sub n-well/p-sub\nExcitation Wavelength 450nm 532nm 470nm 345nm 532nm\nEmission Wavelength 620nm 575nm 530nm 447nm 575nm\nPeak SNR 46dB N/A N/A 46dB 44dB\nDynamic Range 82dB 46dB 40dB ~50dB 53dB\nChip Power Consumption 8mW 26.2mW N/A N/A 2.37mW\nChip Output Digital Analog Analog Analog igital\nIntegrated Fluidics PDMS No No PDMS No\n\nFig. 18. Photograph of the microﬂuidic device placed over the CMOS sensor\ndie: (a) overall conﬁguration showing entire package cavity, and (b) close-up\nview of ﬂuidic channel running across the CMOS die.\nB. Fluorescence Contact Imaging Experimental Results\nTo evaluate the applicability to ﬂuorescence imaging, the\nproposed microsystem is utilized to image QDs in a microﬂu-\nidic device. Fig. 19 show measured results from ﬂuorescence\nimaging as captured by the presented CMOS image sensor.\nFig. 19(a) captures the ﬂuorescence of 2 m red QDs (peak\nemission wavelength at 620 nm) in a microﬂuidic channel.\nSince only a single color of emission is to be sensed, the CPG\nfunctions as a monochromatic detector (i.e., reconstruction is\nnot necessary) and is set to\nV to maximize sensitivity.\nThe samples have been imaged under an excitation power of\napproximately 0.5 mW mm and an exposure time of 10 sec.\nThe presence of the ﬂuidic network introduces light scattering,\nwhich combined with the stray LED output in the ﬁlter pass-\nband, resulted in a background signal of approximately 250\nsensor output codes. To remove the background signal com-\nponent, the background signal is subtracted from the original\nimage to produce the result in Fig. 19(a). Fig. 19(b) depicts\na background subtracted image of a spot (diameter 1 mm)\nof 2 m solution of red QDs. The sample solution is directly\nspotted on the thin-ﬁlm ﬁlter, and as a result, the sample spot\nis approximately 100 m away from the detector due to the\nthickness of the ﬁlter. To highlight the features in the captured\nimages, Fig. 19(a) and (b) are intensity-thresholded to produce\nFig. 19(c) and (d), respectively. Fig. 19(c) highlights the fact\nFig. 19. Fluorescence imaging of 2 m red quantum dot in solution phase:\n(a) background subtracted image of sample in a 250 m-wide microﬂuidic\nchannel, and (b) background subtracted image of 1 mm-diameter rQD spot\ndeposited directly on the thin-ﬁlm ﬁlter. (c) and (d) are intensity-thresholded\nimages of (a) and (b), respectively.\nthat the ﬂuorescence intensity is higher on the left hand side\nof the image. This is due to a concentration gradient of the\nquantum dot solution, which has been injected into the channel\nfrom the inlet located on the left of the image. Thresholding\nhas been performed in software but can be readily implemented\non-chip [5]. Table II compares the proposed work to recently\nreported CMOS ﬂuorescence imaging microsystems.\nIt is often meaningful to characterize the detection limit by\nthe required sample size, rather than solely by the analyte con-\ncentration [35]. Since 25 nL of sample volume has been injected\ninto the channel with a 2 m concentration, the microsystem is\nable to detect 50 fmol of rQD ﬂuorophore. This is advantageous\nas fewer time-consuming polymerase chain reaction (PCR) cy-\ncles are needed to bring the concentration of the target DNA to\na level that can be detected.\nVIII. DISCUSSION\nSpatial resolution is often traded off for SNR and DR in sci-\nentiﬁc imagers. For example, in a DNA detection biosensor,\n2128\nIEEE TRANSACTIONS ON CIRCUITS AND SYSTEMS—I: REGULAR PAPERS, VOL. 60, NO. 8, AUGUST 2013\nthe pixel is designed to be pitch-matched to an individual spot\non a microarray [1]. The presented pixel has a large area of\n175 m 175 m. The rather low ﬁll-factor of 10% is due to the\ninclusion of a digital counter for asynchronous self-reset oper-\nation. To improve ﬁll factor, one approach is to implement the\ncomparator and counter on the column level to perform syn-\nchronous reset operation, at the expense of lowered SNR due to\ndelayed reset [36].\n[3] X. Gao, Y. Cui, R. Levenson, L. Chung, and S. Nie, “In vivo cancer\ntargeting and imaging with semiconductor quantum dots,” Nature\nBiotechnol., vol. 22, no. 8, pp. 970–976, 2004.\n[4] O. Tigli, L. Bivona, P. Berg, and M. Zaghloul, “Fabrication and charac-\nterization of a surface-acoustic-wave biosensor in CMOS technology\nfor cancer biomarker detection,” IEEE Trans. Biomed. Circuits Syst.,\nvol. 4, no. 1, pp. 62–73, Feb. 2010.\n[5] R. Singh, D. Ho, A. Nilchi, G. Gulak, P. Yau, and R. Genov, “A CMOS/\nthin-ﬁlm ﬂuorescence contact imaging microsystem for DNA anal-\nysis,” IEEE Trans. Circuits Syst. I, vol. 57, no. 5, pp. 1029–1038, May\n2010.\nThe requirement that the input spectra be known a priori as\ndiscussed in Section III-A is not a serious limitation when the\nsensor is applied to ﬂuorescence sensing as the spectrum typi-\ncally consists of only the emission wavelengths and these wave-\nlengths can be made well-separated by an appropriate choice of\nﬂuorophores. The tunability of the sensor is a key advantage as\nthis allows the detection of speciﬁc emission wavelengths from\nvarious ﬂuorophores.\n[6] W. Algar and U. Krull, “Developing mixed ﬁlms of immobilized\noligonucleotides and quantum dots for the multiplexed detection\nof nucleic acid hybridization using a combination of ﬂuorescence\nresonance energy transfer and direct excitation of ﬂuorescence,”\nLangmuir, vol. 26, no. 8, pp. 6041–6047, Apr. 2010.\n[7] E. Graves, R. Weissleder, and V. Ntziachristos, “Fluorescence molec-\nular imaging of small animal tumor models,” Current Molecular Med.,\nvol. 4, no. 4, pp. 419–430, Jun. 2004.\n[8] M. Bruchez, M. Moronne, P. Gin, S. Weiss, and A. Alivisatos, “Semi-\nconductor nanocrystals as ﬂuorescent biological labels,” Sci., vol. 281,\nno. 5385, pp. 2013–2016, 1998.\nThe CMOS die is housed inside a 400- m-deep cavity within\nan integrated circuit package. The microﬂuidic network is sus-\npended on top of the cavity, as depicted in Fig. 18(a). The total\ndistance from the sample to the detector, including the thickness\nof the reservoir bottom, is approximately 300 m. This distance\nleads to a reduced photon collection efﬁciency compared to de-\npositing the ﬂuorophores on the thin-ﬁlm ﬁlter, which is placed\ndirectly on the CMOS die surface. This is the reason for the\nhigher intensity in Fig. 19(b) as compared to Fig. 19(a). The\ndistance also leads to blurring of the images. Aside from intro-\nducing optics such as microlenses to focus the image onto the\nphoto detectors, a possible solution is to design the microﬂuidic\ndevice with an additional lower layer that can be extended down\ninto the chip package cavity [37]. Thus, channels can be routed\nto this layer to bring the sample solution closer to the pixel array.\n[9] A. Tavares, M. Noor, C. Vannoy, W. Algar, and U. Krull, “On-chip\ntransduction of nucleic acid hybridization using spatial proﬁles of im-\nmobilized quantum dots and ﬂuorescence resonance energy transfer,”\nAnal. Chem., vol. 84, no. 1, pp. 312–319, Jan. 2012.\n[10] D. Ho, M. Noor, U. Krull, G. Gulak, and R. Genov, “Single-ﬁlter multi-\ncolor CMOS ﬂuorescent contact sensing microsystem,” in Proc. IEEE\nInt. Symp. Circuits and Systems (ISCAS), May 2012.\n[11] T. Huang, S. Sorgenfrei, P. Gong, R. Levicky, and K. Shepard, “A\n0.18- m CMOS array sensor for integrated time-resolved ﬂuorescence\ndetection,” IEEE J. Solid-State Circuits, vol. 44, no. 5, pp. 1644–1654,\nMay 2009.\n[12] N. Nelson, D. Sander, M. Dandin, S. Prakash, A. Sarje, and P. Abshire,\n“Handheld ﬂuorometers for lab-on-a-chip applications,” IEEE Trans.\nBiolog. Circuits Syst., vol. 3, no. 2, pp. 97–107, Apr. 2009.\n[13] S. Kavadias, B. Dierickx, D. Scheffer, A. Alaerts, D. Uwaerts, and\nJ. Bogaerts, “A logarithmic response CMOS image sensor with\non-chip calibration,” IEEE J. Solid-State Circuits, vol. 35, no. 8, pp.\n1146–1152, Aug. 2000.\n[14] X. Liu and A. E. Gamal, “Synthesis of high dynamic range motion\nblur free image from multiple captures,” IEEE Trans. Circuits Syst. I:\nFundam. Theory Applicat., vol. 50, no. 4, pp. 530–539, Apr. 2003.\n[15] D. Park, J. Rhee, and Y. Joo, “A wide dynamic-range CMOS image\nsensor using self-reset technique,” IEEE Electron Device Lett., vol. 28,\nno. 10, pp. 890–892, Oct. 2007.\nIX. CONCLUSION\nA wide dynamic range CMOS tunable-color image sensor is\npresented. The sensor integrates an 8\n8 array of tunable-color\nphotogates. It exploits the wavelength-dependent optical ab-\nsorption properties of the polysilicon gate to yield color discrim-\nination on a standard digital CMOS process without an external\ncolor ﬁlter array. An analysis is presented for the asynchronous\nself-reset with residue readout ADC architecture where photon\nshot noise is taken into consideration. An implementation of\nthis architecture is described where the coarse asynchronous\nself-reset operation and ﬁne residue quantization are performed\nwith separate circuits, on and off the array, respectively, to yield\na noise-optimized design. A prototype is fabricated in a stan-\ndard 0.35 m CMOS process and is validated in color light\nmeasurements. Contact imaging of quantum dot nanoparticles\nwithin a microﬂuidic channel validates the prototype in ﬂuo-\nrescence-based analyte detection. The prototype demonstrates\ntechnologies that enable miniaturized, low-cost bio-sensing for\nmedical diagnostics applications.\n[16] A. Belouchrani and K. Abed-Meraim, “Wide-dynamic-range CMOS\nimage sensors-comparative performance analysis,” IEEE Trans. Elec-\ntron Devices, vol. 56, no. 11, pp. 2446–2461, Nov. 2009.\n[17] A. Bermak, “A CMOS imager with PFM/PWM based analog-to-dig-\nital converter,” in IEEE Int. Symp. Circuits and Systems (ISCAS), May\n2002, pp. 53–56.\n[18] D. Ho, G. Gulak, and R. Genov, “CMOS ﬁeld-modulated color sensor,”\nin Proc. IEEE Custom Integrated Circuits Conf. (CICC), Sep. 2011.\n[19] D. Ho, M. Noor, U. Krull, G. Gulak, and R. Genov, “CMOS tun-\nable-wavelength multi-color photogate sensor,” IEEE Trans. Biomed.\nCircuits Syst., accepted for publication.\n[20] X. Fang, V. Hsiao, V. Chodavarapu, A. Titus, and A. Cartwright,\n“Colorimetric porous photonic bandgap sensors with integrated\nCMOS color detectors,” IEEE Sensors J., vol. 6, no. 3, pp. 661–667,\nJun. 2006.\n[21] H. Ishii, Y. Maruyama, H. Takao, M. Ishida, and K. Sawada, “Improve-\nment in ﬁlter-less ﬂuorescence sensor capability by optimization of po-\ntential distribution,” in Proc. 4th Asia-Paciﬁc Conf. Transducers and\nMicro-Nano Tech., Jun. 2008, pp. 68–71.\n[22] S. Dimitrijev, Principles of Semiconductor Devices, 1st ed. Oxford,\nU.K.: Oxford Univ. Press, 2006.\n[23] A. Belouchrani, K. Abed-Meraim, J. Cardoso, and E. Moulines, “A\nblind source separation technique using second-order statistics,” IEEE\nTrans. Signal Process., vol. 45, no. 2, pp. 434–444, Feb. 1997.\n[24] H. Wong, “Technology and device scaling considerations for CMOS\nimagers,” IEEE Trans. Electron Devices, vol. 43, no. 12, pp.\n2131–2142, Dec. 1996.\nREFERENCES\n[1] H. Eltoukhy, K. Salama, and A. Gamal, “A 0.18- m CMOS biolumi-\nnescence detection lab-on-chip,” IEEE J. Solid-State Circuits, vol. 41,\nno. 3, pp. 651–662, Mar. 2006.\n[25] M. Snoeij, A. Theuwissen, K. Makinwa, and J. Huijsing, “Multiple-\nramp column-parallel ADC architectures for CMOS image sensors,”\nIEEE J. Solid-State Circuits, vol. 42, no. 12, pp. 2968–2977, Dec. 2007.\n[2] R. Mazurczyka, J. Vieillarda, A. Bouchardb, B. Hannesa, and S.\nKrawczyka, “A novel concept of the integrated ﬂuorescence detection\nsystem and its application in a lab-on-a-chip microdevice,” Sens.\nActuat. B: Chem., vol. 118, no. 1-2, pp. 11–19, Oct. 2006.\n[26] D. Johns and K. Martin, Analog Integrated Circuit Design, 1st ed.\nNew York: Wiley, 1997.\n2129\nHO et al.: CMOS TUNABLE-COLOR IMAGE SENSOR WITH DUAL-ADC SHOT-NOISE-AWARE DYNAMIC RANGE EXTENSION\n[27] J. Nakamura, Image Sensors and Signal Processing for Digital Still\nUlrich J. Krull\nis appointed as a Professor of\nAnalytical Chemistry at the University of Toronto,\nand holds the endowed AstraZeneca Chair\nin\nBiotechnology. His research interests are in the\nareas of biosensor and diagnostic technologies, and\napplications to biotechnology,\nforensic, clinical\nand environmental chemistry. His research work\nis exploring the use of nanoscale materials and\nmicroﬂuidics technologies to build devices for\ndetection of DNA and RNA targets. Prof. Krull is an\neditor for Analytica Chimica Acta, and serves on a\nCameras, 1st ed. Boca Raton, FL, USA: CRC Press, 2006.\n[28] K. Murari, R. Cummings, N. Thakor, and G. Gauwenberghs, “A\nCMOS in-pixel CTIA high-sensitivity ﬂuorescence imager,” IEEE\nTrans. Biomed. Circuits Syst., vol. 5, no. 5, pp. 449–458, Oct. 2011.\n[29] J. Choi, G. Beaucage, J. Nevin, J. Lee, A. Puntambekar, and J. Lee,\n“Disposable smart lab on a chip for point-of-care clinical diagnostics,”\nProc. IEEE, vol. 92, no. 1, pp. 154–173, Jan. 2004.\n[30] J. Honghao, D. Sander, A. Haas, and P. Abshire, “Contact imaging:\nSimulation and experiment,” IEEE Trans. Circuits Syst. I, vol. 54, no.\n8, pp. 1698–1710, Aug. 2007.\n[31] M. Noor and U. Krull, “Microﬂuidics for the deposition of density gra-\ndients of immobilized oligonucleotide probes; developing surfaces that\noffer spatial control of the stringency of DNA hybridization,” Anal.\nChim. Acta, vol. 708, no. 1-2, pp. 1–10, Dec. 2011.\nnumber of scientiﬁc advisory boards for industry.\nGlenn Gulak (M’83–SM’96) received the Ph.D.\ndegree from the University of Manitoba, Canada,\nwhile holding a Natural Sciences and Engineering\nResearch Council of Canada Postgraduate Schol-\narship. From January 1985 to January 1988 he was\na Research Associate in the Information Systems\nLaboratory and the Computer Systems Laboratory\nat Stanford University.\n[32] M. Behnam, G. Kaigala, M. Khorasani, S. Martel, D. Elliott, and C.\nBackhouse, “Integrated circuit-based instrumentation for microchip\ncapillary electrophoresis,” IET Nanobiotechnol., vol. 4, no. 3, pp.\n91–101, Sep. 2010.\n[33] Y. Maruyama, K. Sawada, H. Takao, and M. Ishida, “A novel ﬁlterless\nﬂuorescence detection sensor for DNA analysis,” IEEE Trans. Electron\nDevices, vol. 53, no. 3, pp. 553–558, Mar. 2006.\nHe is a Professor in the Department of Electrical\nand Computer Engineering at\nthe University of\nToronto, ON, Canada. He is a registered Professional\nEngineer in the Province of Ontario. His present research interests are in the\nareas of algorithms, circuits, and CMOS system-on-chip implementations\nfor digital communication systems and, additionally, in the area of CMOS\nbiosensors. His current research projects are focused on high-performance\nMIMO OFDM implementations and in CMOS biosensors. He has authored\nor co-authored more than 100 publications in refereed journal and refereed\nconference proceedings. He has received numerous teaching awards for\nundergraduate courses taught in both the Department of Computer Science\nand the Department of Electrical and Computer Engineering at the University\nof Toronto. He held the L. Lau Chair in Electrical and Computer Engineering\nfor the 5-year term from 1999 to 2004. From March 2001 to March 2003 he\nwas the Chief Technical Ofﬁcer and Senior VP LSI Engineering of a fabless\nsemiconductor startup headquartered in Irvine, CA, USA. He currently holds\nthe Canada Research Chair in Signal Processing Systems and the Edward S.\nRogers Sr. Chair in Electrical Engineering.\n[34] M. Beiderman, T. Tam, A. Fish, G. Jullien, and O. Yadid-Pecht, “A\nlow-light CMOS contact imager with an emission ﬁlter for biosensing\napplications,” IEEE Trans. Biomed. Circuits Syst., vol. 2, no. 3, pp.\n193–203, Sep. 2008.\n[35] K. Peck, L. Stryer, A. Glazer, and R. Mathies, “Single-molecule ﬂu-\norescence detection: Autocorrelation criterion and experimental real-\nization with phycoerythrin,” Proc. Nat. Acad. Sci., vol. 86, no. 1, pp.\n4087–4091, Feb. 1989.\n[36] S. Kavusi and A. E. Gamal, “Quantitative study of high dynamic range\nimage sensor architectures,” IEEE Trans. Electron Devices, vol. 43, no.\n12, pp. 2131–2142, Dec. 1996.\n[37] M. Nazari, H. Jafari, L. Leng, A. Guenther, and R. Genov,\n“192-channel CMOS neurochemical microarray,” in Proc. IEEE\nCustom Integrated Circuits Conf. (CICC), Sep. 2010.\nDr. Gulak has served on the ISSCC Signal Processing Technical Subcom-\nmittee from 1990 to 1999, ISSCC Technical Vice-Chair in 2000 and served as\nthe Technical Program Chair for ISSCC 2001. He received the IEEE Millen-\nnium Medal in 2001. He served on the Technology Directions Subcommittee\nfor ISSCC from 2005 to 2008. He currently serves as the Chair of the Publica-\ntions Committee for the IEEE Solid-State Circuits Society.\nDerek Ho (S’09) received the B.A.Sc. (ﬁrst class)\nand M.S. degrees from the University of British\nColumbia, Vancouver, BC, Canada, in 2005 and\n2007, respectively. He is currently pursuing the\nPh.D. degree in the Department of Electrical and\nComputer Engineering, University of Toronto,\nToronto, ON, Canada.\nRoman Genov (M’96–SM’02) received the B.S.\ndegree (ﬁrst rank) in electrical engineering from\nRochester Institute of Technology, Rochester, NY,\nUSA, in 1996, and the M.S. and Ph.D. degrees in\nelectrical and computer engineering from Johns\nHopkins University, Baltimore, MD, USA, in 1998\nand 2002, respectively.\nHis research interests are in mixed-signal VLSI\ncircuits and systems for sensory acquisition and pro-\ncessing with emphasis on spectral and wide-dynamic\nrange imaging, photonic lab-on-a-chip, point-of-care\nscreening, and biochemical detection applications.\nHe has held engineering positions with Atmel Cor-\nporation, Columbia, MD, USA, in 1995, and Xerox\nCorporation, Rochester, NY, USA, in 1996. He was a\nVisiting Researcher with the Laboratory of Intelligent\nSystems, Swiss Federal Institute of Technology (EPFL), Lausanne, Switzer-\nland, in 1998 and with the Center for Biological and Computational Learning,\nMassachusetts Institute of Technology, Cambridge, MA, USA, in 1999. He is\npresently an Associate Professor with the Department of Electrical and Com-\nputer Engineering, University of Toronto, Toronto, ON, Canada. His research\ninterests include analog and digital VLSI circuits, systems, and algorithms for\nenergy-efﬁcient signal processing with applications to electrical, chemical, and\nphotonic sensory information acquisition, biosensor arrays, brain-silicon inter-\nfaces, parallel signal processing, adaptive computing for pattern recognition,\nand implantable and wearable biomedical electronics.\nMr. Ho was the recipient of the Postgraduate Scholarship and Undergraduate\nStudent Research Award from the Natural Sciences and Engineering Research\nCouncil of Canada. He was also awarded the Ontario Graduate Scholarship in\nScience and Technology, and the Mary H. Beatty Fellowship.\nM. Omair Noor received the Hon. B.Sc. degree\nin Biotechnology specialist program in 2008, and\nthe M.Sc. degree in bio-analytical chemistry in\n2010 from the University of Toronto Mississauga,\nMississauga, ON, Canada. He is currently working\ntowards the Ph.D. degree in the Department of\nChemistry at the University of Toronto with the\nChemical Sensors Group under the supervision of\nProf. Ulrich J. Krull.\noe\n*\n\n-\nA .\n‘X\nDr. Genov received the Canadian Institutes of Health Research (CIHR)\nNext Generation Award in 2005, the Brian L. Barge Award for excellence\nin microsystems integration in 2008, the DALSA Corporation Award for\nexcellence in microsystems innovation in 2006 and 2009, and the Best Paper\nAward on sensors and Best Student Paper Award, both at the IEEE Interna-\ntional Symposium on Circuits and Systems in 2009. He is an associate editor\nof IEEE TRANSACTIONS ON BIOMEDICAL CIRCUITS AND SYSTEMS, IEEE\nTRANSACTIONS ON CIRCUITS AND SYSTEMS II: EXPRESS BRIEFS, and IEEE\nSignal Processing Letters.\nHis research interests focus on the integration of\nquantum dots and FRET based assays for nucleic acid\ndetection using microﬂuidic channels and paper as solid supports.\nMr. Noor currently holds an Ontario Graduate Scholarship (OGS) from the\nOntario Ministry of Training, Colleges and Universities (MTCU). He was also\nawarded the Undergraduate Student Research Award (USRA) from the Natural\nSciences and Engineering Research Council of Canada (NSERC).\n""]",
Sigma-Delta Column-Wise AD Conversion for Cooled ROIC.pdf,"['Sigma-delta column-wise A/D conversion\nfor cooled ROIC\n\nF. Guellec’, P. Villard’, F. Rothan’, L. Alacoque*, C. Chancel’, P. Martin’, P. Castelein*\nP. Maillart’, F. Pistone”, P. Costa?\n*CEA/LETI — MINATEC, 17 rue des Martyrs, 38054 Grenoble Cedex 9, France\n>SOFRADIR, 43-47 rue Camille Pelletan, 92290 Chatenay-Malabry, France\n\nABSTRACT\n\nDesigning a digital IR focal plane array (IRFPA) requires fulfilling very stringent requirements in terms of power\nconsumption, silicon area and speed. Among the various ADC architectures like successive approximation, ramp or\nover-sampled converters, the best choice strongly depends on the application. We believe that sigma-delta converters, in\nspite of their quite high power consumption, are a promising solution for high-performance and medium size FPA, e.g.\n320x240.\n\nThis paper presents the design of a second-order incremental sigma-delta ADC dedicated to cooled (77K) IRFPA\napplications. System-level simulations used to define the modulator parameters and specify its analog building blocks\nare presented. Circuit design of the switched-capacitor modulator and the digital decimation filter is described. The\ncolumn ADC including the filter has been implemented in a standard 0.35um CMOS process on the basis of a 25um\npitch and lead to a total length of 3200um.\n\nTest chips including a single ADC have been manufactured end of 2006. The first measurement results, at 77K, are\npresented along with perspectives and future developments. They demonstrate the following performance: 81dB Signal-\nto-Noise Ratio (SNR), 13 bits Effective Number Of Bits (ENOB) and 270uW power consumption at 17kSamples/s rate.\n\nKeywords: Analog-to-digital converter, sigma-delta, ROIC, CMT, cooled IR detector, IRFPA\n\n1. INTRODUCTION\n\nThe advantages of integrating A/D conversion in the readout integrated circuit (ROIC) are now established. It helps\nreducing the signal sensitivity to perturbations on the circuit and at the detector interface as well as decreasing system\ncomplexity and cost. It also enables further on-chip digital processing like image correction.\n\nCooled IRFPA applications require high resolution, low power consumption and small pixel pitch. The realization of a\nconverter compliant with these constraints is quite challenging and demands an in-depth analysis from system to circuit\nlevel.\n\nIn this paper, we discuss architectural choices related to the integration of A/D conversion in a ROIC for cooled IRFPA.\nThe system level dimensioning of a column-wise incremental sigma-delta ADC is presented. The design of a second-\norder switched-capacitor sigma-delta modulator and the subsequent digital decimation filter is described. Finally, the\nfirst measurement results of the realized ADC demonstrator are given.\n\n2. CHOICE OF AN ADC ARCHITECTURE FOR COOLED IRFPA\n2.1. ADC’s position within a focal plane array\n\nIntegrating an ADC into the focal plane immediately raises the choice of its position within the array architecture: at\npixel, column or output level. The implementation of the converter in the pixel is the most attractive. In this case the\nconstraints linked to analog circuitry are significantly reduced since the analog buffers, multiplexers and output buffers\nare replaced by digital circuits. It lowers the signal sensitivity to on-chip degradation (e.g. noise and coupling) and may\n\nInfrared Technology and Applications XXXIII, edited by Bjorn F. Andresen, Gabor F. Fulop, Paul R. Norton,\nProc. of SPIE Vol. 6542, 65423N, (2007) - 0277-786X/07/$18 - doi: 10.1117/12.719171\n\nProc. of SPIE Vol. 6542 65423N-1\n\nDownloaded From: http://proceedings.spiedigitallibrary.org/ on 12/16/2015 Terms of Use: http://spiedigitallibrary.org/ss/TermsOfUse.aspx\nSigma-delta column-wise A/D conversion\nfor cooled ROIC\n\nF. Guellec’, P. Villard’, F. Rothan*, L. Alacoque*, C. Chancel’, P. Martin’, P. Castelein*\nP. Maillart?, F. Pistone”, P. Costa?\n*CEA/LETI — MINATEC, 17 rue des Martyrs, 38054 Grenoble Cedex 9, France\n""SOFRADIR, 43-47 rue Camille Pelletan, 92290 Chatenay-Malabry, France\n\nABSTRACT\n\nDesigning a digital IR focal plane array (IRFPA) requires fulfilling very stringent requirements in terms of power\nconsumption, silicon area and speed. Among the various ADC architectures like successive approximation, ramp or\nover-sampled converters, the best choice strongly depends on the application. We believe that sigma-delta converters, in\nspite of their quite high power consumption, are a promising solution for high-performance and medium size FPA, e.g.\n320x240.\n\nThis paper presents the design of a second-order incremental sigma-delta ADC dedicated to cooled (77K) IRFPA\napplications. System-level simulations used to define the modulator parameters and specify its analog building blocks\nare presented. Circuit design of the switched-capacitor modulator and the digital decimation filter is described. The\ncolumn ADC including the filter has been implemented in a standard 0.35um CMOS process on the basis of a 25um\npitch and lead to a total length of 3200um.\n\nTest chips including a single ADC have been manufactured end of 2006. The first measurement results, at 77K, are\npresented along with perspectives and future developments. They demonstrate the following performance: 81dB Signal-\nto-Noise Ratio (SNR), 13 bits Effective Number Of Bits (ENOB) and 270u.W power consumption at 17kSamples/s rate.\n\nKeywords: Analog-to-digital converter, sigma-delta, ROIC, CMT, cooled IR detector, IRFPA\n\n1. INTRODUCTION\n\nThe advantages of integrating A/D conversion in the readout integrated circuit (ROIC) are now established. It helps\nreducing the signal sensitivity to perturbations on the circuit and at the detector interface as well as decreasing system\ncomplexity and cost. It also enables further on-chip digital processing like image correction.\n\nCooled IRFPA applications require high resolution, low power consumption and small pixel pitch. The realization of a\nconverter compliant with these constraints is quite challenging and demands an in-depth analysis from system to circuit\nlevel.\n\nIn this paper, we discuss architectural choices related to the integration of A/D conversion in a ROIC for cooled IRFPA.\nThe system level dimensioning of a column-wise incremental sigma-delta ADC is presented. The design of a second-\norder switched-capacitor sigma-delta modulator and the subsequent digital decimation filter is described. Finally, the\nfirst measurement results of the realized ADC demonstrator are given.\n\n2. CHOICE OF AN ADC ARCHITECTURE FOR COOLED IRFPA\n2.1. ADC’s position within a focal plane array\n\nIntegrating an ADC into the focal plane immediately raises the choice of its position within the array architecture: at\npixel, column or output level. The implementation of the converter in the pixel is the most attractive. In this case the\nconstraints linked to analog circuitry are significantly reduced since the analog buffers, multiplexers and output buffers\nare replaced by digital circuits. It lowers the signal sensitivity to on-chip degradation (e.g. noise and coupling) and may\n\nInfrared Technology and Applications XXXII, edited by Bjorn F. Andresen, Gabor F. Fulop, Paul R. Norton,\nProc. of SPIE Vol. 6542, 65423N, (2007) - 0277-786X/07/$18 - doi: 10.1117/12.719171\n\nProc. of SPIE Vol. 6542 65423N-1\n\nDownloaded From: http://proceedings.spiedigitallibrary.org/ on 12/16/2015 Terms of Use: http://spiedigitallibrary.org/ss/TermsOfUse.aspx\nInfrared Technology and Applications XXXIII, edited by Bjørn F. Andresen, Gabor F. Fulop, Paul R. Norton,\nProc. of SPIE Vol. 6542, 65423N, (2007) · 0277-786X/07/$18 · doi: 10.1117/12.719171\nProc. of SPIE Vol. 6542  65423N-1\ndecrease the power dissipation. At the other end, a converter placed at the circuit’s output, while removing analog\noutput buffers, offers little benefit when considering the analog constraints and the power dissipation.\n\nActually, the density of CMOS process commonly used in IRFPA, the small pixel pitch and the resolution needed for\nhigh performance cooled IR products make the physical design of a suitable pixel level ADC extremely difficult.\n\nTaking these elements into consideration we oriented our development toward a column level ADC.\n\n2.2. ADC’s architecture\n\nThe most popular ADC structures for column level A/D conversion are successive approximation, single-ramp and\nsigma-delta. Successive approximation converters have been used in visible CMOS sensors [1] [2] but offer limited\nresolution (about 10 bits). Single-ramp single-slope would not provide a good resolution within available conversion\ntime. Single-ramp dual-slope overcomes this drawback but places important constraints on the design of analog blocks\nin order to assure a good linearity.\n\nThis work has been carried out in the common laboratory DEFIR between SOFRADIR and CEA-LETI. While\nSOFRADIR worked on the integration of a single-ramp dual-slope column level ADC in an IRFPA [3], CEA-LETI\nopted for a complementary development and focused on the design of an incremental sigma-delta ADC demonstrator.\nSigma-delta converters are appropriate for column-wise implementation [4] and offer a high potential in terms of\nresolution. The performance rather relies on the modulator structure which set over-sampling and noise shaping\ncharacteristics than on critical analog circuits. This makes them quite robust and flexible. The main difficulties for their\nuse in IRFPA are the implementation of the modulator along with the decimation filter in a limited area and the tight\npower consumption budget.\n\n2.3. Design goals\n\nThis ADC is targeting cooled (77K) medium size IRFPA (640*480 or 320*240) with 25um pixel pitch for 50Hz or\n100Hz frame rate. From these application-related parameters, we can derive other key specifications for a column ADC.\nThe frame rate and detector dimension fix the column ADC minimum sampling frequency. If we consider a 320*240\narray at 100Hz, this gives an ADC rate greater than 24kS/s. In this case, we assume a power consumption budget of\n70mW for the 320 converters, thus about 2201W per ADC. The required resolution for these high-performance\ndetectors is about 13 effective bits. This corresponds to a conversion error below 250p1V,.p.\n\n3. DESIGN OF A COLUMN-WISE INCREMENTAL SIGMA-DELTA ADC\n3.1. System dimensioning\n\nThe theory of incremental sigma-delta converters [5] establishes the relationship between the modulator order, the\nnumber of cycles per sample (Nc) and the residual error in the estimation of input voltage. This error is lower than a\nvalue proportional to //Nc"" where m is the modulator order.\n\nChoosing a high order modulator would help minimizing the converter error even for a moderate number of cycles. This\nwould lead to an overall power reduction since the critical analog amplifiers would have reduced bandwidth constraints\nand the digital filter would work at a lower frequency. Here, the implementation in a 25m pitch comes into account\nwhen considering the possible modulator order. Based on a 0.35um standard CMOS process, the first rough area\nestimation gives about 400um length per integrator in the modulator and 700um length per filter order in the digital\nfilter. Consequently, we opted for a second-order modulator which offers acceptable ADC dimensions.\n\nIn order to find out the relevant modulator parameters with respects to our design goals, we relied on a system analysis\nperformed within the MATLAB SIMULINK environment. We modeled a second-order switched-capacitor incremental\nsigma-delta modulator as well as the digital sinc> decimation filter. Previous work reported in [6] details the modeling of\nswitched-capacitor sigma-delta modulator’s non-ideal effects like noise, gain and bandwidth limitations of analog\namplifiers.\n\nThe system simulations allow us to determine the required number of cycles and to define modulator’s building blocks\nspecifications. The results obtained for various parameters are presented in Fig. 2. We can notice that reducing the\nnumber of cycles globally increases the conversion error and that a gain-bandwidth limitation of the amplifiers causes\nan important degradation at high input signal amplitude.\n\nProc. of SPIE Vol. 6542 65423N-2\n\nDownloaded From: http://proceedings.spiedigitallibrary.org/ on 12/16/2015 Terms of Use: http://spiedigitallibrary.org/ss/TermsOfUse.aspx\ndecrease the power dissipation. At the other end, a converter placed at the circuit’s output, while removing analog\noutput buffers, offers little benefit when considering the analog constraints and the power dissipation.\n\nActually, the density of CMOS process commonly used in IRFPA, the small pixel pitch and the resolution needed for\nhigh performance cooled IR products make the physical design of a suitable pixel level ADC extremely difficult.\n\nTaking these elements into consideration we oriented our development toward a column level ADC.\n\n2.2. ADC’s architecture\n\nThe most popular ADC structures for column level A/D conversion are successive approximation, single-ramp and\nsigma-delta. Successive approximation converters have been used in visible CMOS sensors [1] [2] but offer limited\nresolution (about 10 bits). Single-ramp single-slope would not provide a good resolution within available conversion\ntime. Single-ramp dual-slope overcomes this drawback but places important constraints on the design of analog blocks\nin order to assure a good linearity.\n\nThis work has been carried out in the common laboratory DEFIR between SOFRADIR and CEA-LETI. While\nSOFRADIR worked on the integration of a single-ramp dual-slope column level ADC in an IRFPA [3], CEA-LETI\nopted for a complementary development and focused on the design of an incremental sigma-delta ADC demonstrator.\nSigma-delta converters are appropriate for column-wise implementation [4] and offer a high potential in terms of\nresolution. The performance rather relies on the modulator structure which set over-sampling and noise shaping\ncharacteristics than on critical analog circuits. This makes them quite robust and flexible. The main difficulties for their\nuse in IRFPA are the implementation of the modulator along with the decimation filter in a limited area and the tight\npower consumption budget.\n\n2.3. Design goals\n\nThis ADC is targeting cooled (77K) medium size IRFPA (640*480 or 320*240) with 25um pixel pitch for 50Hz or\n100Hz frame rate. From these application-related parameters, we can derive other key specifications for a column ADC.\nThe frame rate and detector dimension fix the column ADC minimum sampling frequency. If we consider a 320*240\narray at 100Hz, this gives an ADC rate greater than 24kS/s. In this case, we assume a power consumption budget of\n70mW for the 320 converters, thus about 220uW per ADC. The required resolution for these high-performance\ndetectors is about 13 effective bits. This corresponds to a conversion error below 250,V).p.\n\n3. DESIGN OF A COLUMN-WISE INCREMENTAL SIGMA-DELTA ADC\n3.1. System dimensioning\n\nThe theory of incremental sigma-delta converters [5] establishes the relationship between the modulator order, the\nnumber of cycles per sample (Nc) and the residual error in the estimation of input voltage. This error is lower than a\nvalue proportional to //Nc"" where m is the modulator order.\n\nChoosing a high order modulator would help minimizing the converter error even for a moderate number of cycles. This\nwould lead to an overall power reduction since the critical analog amplifiers would have reduced bandwidth constraints\nand the digital filter would work at a lower frequency. Here, the implementation in a 25m pitch comes into account\nwhen considering the possible modulator order. Based on a 0.35y4m standard CMOS process, the first rough area\nestimation gives about 400m length per integrator in the modulator and 700ym length per filter order in the digital\nfilter. Consequently, we opted for a second-order modulator which offers acceptable ADC dimensions.\n\nIn order to find out the relevant modulator parameters with respects to our design goals, we relied on a system analysis\nperformed within the MATLAB SIMULINK environment. We modeled a second-order switched-capacitor incremental\nsigma-delta modulator as well as the digital sinc’ decimation filter. Previous work reported in [6] details the modeling of\nswitched-capacitor sigma-delta modulator’s non-ideal effects like noise, gain and bandwidth limitations of analog\namplifiers.\n\nThe system simulations allow us to determine the required number of cycles and to define modulator’s building blocks\nspecifications. The results obtained for various parameters are presented in Fig. 2. We can notice that reducing the\nnumber of cycles globally increases the conversion error and that a gain-bandwidth limitation of the amplifiers causes\nan important degradation at high input signal amplitude.\n\nProc. of SPIE Vol. 6542 65423N-2\n\nDownloaded From: http://proceedings.spiedigitallibrary.org/ on 12/16/2015 Terms of Use: http://spiedigitallibrary.org/ss/TermsOfUse.aspx\nProc. of SPIE Vol. 6542  65423N-2\nThese results show that in 576 cycles with an amplifier having a DC gain of 60dB and a gain-bandwidth product of four\ntimes the over-sampled frequency (Fe), we can reach an error below 1001V,.p after gain and offset correction. We will\nuse these parameters as target specifications for the circuit design.\n\nneem\n\na}\nte |\n\nfe ot ol |, Lp ofemse} of cone\n\nFig. 1: Simplified SIMULINK model of a switched-capacitor sigma-delta ADC\n\n5% 49’ ADC Transfer fet for: Ne=576 - Ao-60 dB - GBW/Fe=4 ‘tis ADC Transfer fet for: Ne=384 - Ao=60 dB - GBW/Fe=4\n4\nais | 10000\n3 3\nSe\n5000\n1\n9 0\n-08 -06 -04 -02 0 02 04 08 08 -08 -06 -04 02 0 02 O4 06 08\nvin (v) vin (¥)\nConversion Error Conversion Error\n100 200\n50 : i 100\nEy Ey\n> 9 2 ©\n2 2\n@ so : i * -100\n-100 H -200 f\n08-06 -04 -02 0 02 04 08 08 08-06 -O4 -02 0 02 of 068 08\nVin () Vin (Y)\n5% 30° ADC Transfer fet for: Nc=576 - Ao=40 dB - GBW/Fe=4 «19° ADC Transfer fet for: Nc=576 - Ao-60 dB - GBW/Fe=2\n\nT T T T T T 5 T T T , T T T\n\n3\n02\nal\n-06 06 -04 02 0 02 o4 06 08 -06 06 -04 02 oO 02 o4 06 08\nConversion Error Conversion Error\n100 500\n50\n: :\n: :\n-100 L -500 ‘.\n-08 06 -04 02 0 02 o4 06 08 -08 06 -04 02 oO 02 o4 06 08\n\nFig. 2 : Results of system simulations for various parameters\n\nProc. of SPIE Vol. 6542 65423N-3\n\nDownloaded From: http://proceedings.spiedigitallibrary.org/ on 12/16/2015 Terms of Use: http://spiedigitallibrary.org/ss/TermsOfUse.aspx\nThese results show that in 576 cycles with an amplifier having a DC gain of 60dB and a gain-bandwidth product of four\ntimes the over-sampled frequency (Fe), we can reach an error below 100,V,.p after gain and offset correction. We will\nuse these parameters as target specifications for the circuit design.\n\ni “2\n\nafin eto |, [ofc | of aon\n\nFig. 1: Simplified SIMULINK model of a switched-capacitor sigma-delta ADC\n\n5% 40° ADC Transfer fet for: Nc=576 - Ao=60 dB - GBW/Fe=4 “ati ADC Transfer fet for: Ne=384 - Ao=60 dB - GBW/Fe=4\n4\n. | 10000\n3 3\nwae ° sooo}.\n1\na H H a H H\n-08 -06 -04 -02 0 02 04 08 08 -08 -06 -04 -02 0 oz O4 06 08\nvin (¥) vin (¥)\nConversion Error Conversion Error\n100 200\n50 100\n\nEror (eV)\nEmor (a)\n\n50 100\n-100 L H -200 -\n-08 -06 -04 -02 0 02 04 08 08 -08 -06 -04 -02 0 oz O4 068 08\nvin (¥) vin (¥)\n5% 30° ADC Transfer fet for: Nc=576 - Ao=40 dB - GBW/Fe=4 x10 ADC Transfer fet for: Ne=576 - Ao=60 dB - GBW/Fe=2\nT T T T T T T 5 T\n\n4 4\n23 4 @3\n3\n8. be\n1h 1\n0 0\n“08 -06 -04 02 0 oz o4 06 08 -08 -06 -04 02 0 az 04 08 08\nvin (V) vin (V)\nConversion Error Conversion Error\n100 500\n50\nEy Ey\ne 2\nBy fa\n~100 500\n-08 -06 -04 -02 0 02 04 08 08 “08 -06 -04 -02 0 az 04 06 08\nVin (¥) vin (v)\n\nFig. 2 : Results of system simulations for various parameters\n\nProc. of SPIE Vol. 6542 65423N-3\n\nDownloaded From: http://proceedings.spiedigitallibrary.org/ on 12/16/2015 Terms of Use: http://spiedigitallibrary.org/ss/TermsOfUse.aspx\n1 0 ADC Transfer fat fnr: Na5Z6 - An6O dB - GBW/Fe4\nADC Transfer fat fnr: Na3B4 - An6O dB - GBW/Fe4\n22\n22\n2\nyin (4)\nC nnvers inn Errnr\n24\n26\n22\nyin (\'I)\nC nnvers inn Errnr\n10°\n:\n—100\n0\nyin (4)\n0.2\n0.4\n0.6\n0.6\n—0.2\n—2.6\n—0.6\n—2.4\n- 1 0 ADC Transfer fat fnr: Na5Z6 - An4O dB - GBW/Fe4\n1 0 ADC Transfer fat fnr: Na5Z6 - An6O dB - GBW/Fe2\n6\nH2002040606\n24\n22\n2\nyin (4)\nC nnvers inn Errnr\n22\n26\n22\nyin (4)\nC nnvers inn Errnr\n100\'\n60\n-60\n—100\n—200\n0\nyin (4)\n0.4\n0.6\n0.2\n0.6\n0.6\n0.2\n0.4\n0.6\n—2.4\n—0.6\n—0.2\n—2.6\n—0.6\n—0.2\n—0.6\n—0.4\n0\nyin (4)\nProc. of SPIE Vol. 6542  65423N-3\n3.2. Modulator design\n\nWe designed a fully differential second-order sigma-delta modulator using switched-capacitor integrators with\ncommon-mode feedback. Fig. 3 represents the corresponding diagram. In order to comply with the column ADC sample\nfrequency (25kS/s) for the selected number of cycles, we choose an over-sampled clock frequency of 16.66MHz. The\nunit capacitance is fixed at 200fF giving a low enough kT/C noise (75uVpms at 77K). We did not use a higher value so\nthat the capacitance area remains suitable and that the OTA can drive its output load without penalizing power\n\nconsumption.\n\nvrefn\nvrefp\n\n2\n&\n—_s\n\nD\n\n,\ncr\n4\n\nSt\ninp Doe\nInt peo, oe 4}\na\npt i p2 j\n= ©\n3S :\n5 5\n\nFig. 3 : Switched-capacitor second-order incremental sigma-delta modulator diagram\n\nThe amplifier (Fig. 4a) is based on a single-stage telescopic cascode OTA structure to provide high DC gain while\nlimiting power consumption. A dedicated biasing block shared by the converters is implemented outside the column\npitch. This amplifier consumes 18uA on the 3.3V analog supply and achieves 89dB gain and 66MHz gain-bandwidth\nproduct. These values match the performance targets set by the system simulations. The design margin on the GBW is\nquite small due to the power consumption constraint but the biasing is externally adjustable which will allow some\nflexibility.\n\nA switched-capacitor common-mode feedback circuit not represented here adjusts the current source bias voltage to\n\nregulate the OTA’s output common-mode.\nThe differential comparator (Fig. 4b) is made of a bi-stable structure controlled by a clock signal.\n\nProc. of SPIE Vol. 6542 65423N-4\n\nDownloaded From: http://proceedings.spiedigitallibrary.org/ on 12/16/2015 Terms of Use: http://spiedigitallibrary.org/ss/TermsOfUse.aspx\n3.2. Modulator design\n\nWe designed a fully differential second-order sigma-delta modulator using switched-capacitor integrators with\ncommon-mode feedback. Fig. 3 represents the corresponding diagram. In order to comply with the column ADC sample\nfrequency (25kS/s) for the selected number of cycles, we choose an over-sampled clock frequency of 16.66MHz. The\nunit capacitance is fixed at 200fF giving a low enough kT/C noise (75,1Vams at 77K). We did not use a higher value so\nthat the capacitance area remains suitable and that the OTA can drive its output load without penalizing power\n\nconsumption.\n\nvrefp\n\n=\n‘-ee@vrefn\n2\nR\noe\n\nZ\nvrefpqees\n\nha\n\n®\nvrefn tl\n\nFig. 3 : Switched-capacitor second-order incremental sigma-delta modulator diagram\n\nThe amplifier (Fig. 4a) is based on a single-stage telescopic cascode OTA structure to provide high DC gain while\nlimiting power consumption. A dedicated biasing block shared by the converters is implemented outside the column\npitch. This amplifier consumes 18uA on the 3.3V analog supply and achieves 89dB gain and 66MHz gain-bandwidth\nproduct. These values match the performance targets set by the system simulations. The design margin on the GBW is\nquite small due to the power consumption constraint but the biasing is externally adjustable which will allow some\nflexibility.\n\nA switched-capacitor common-mode feedback circuit not represented here adjusts the current source bias voltage to\n\nregulate the OTA’s output common-mode.\nThe differential comparator (Fig. 4b) is made of a bi-stable structure controlled by a clock signal.\n\nProc. of SPIE Vol. 6542 65423N-4\n\nDownloaded From: http://proceedings.spiedigitallibrary.org/ on 12/16/2015 Terms of Use: http://spiedigitallibrary.org/ss/TermsOfUse.aspx\ncl<ld\nck2b\nin_p I\nin_n\nnkld\nnk2d\nProc. of SPIE Vol. 6542  65423N-4\n+\nold :\n\nPy eh iad 1\n: Ly\n\nbiow.p\n\noe eose_p\n\n—s}s a tr oy\n\n1 ope a Lo\nino D—+| :\nCt | o\n(a) (b)\n\nFig. 4 : OTA (a) and comparator (b) circuits\n\n3.3. Digital decimation filter design\nA third-order sinc digital has been fully integrated in the 251m column pitch. Its transfer function is given below:\n\n3\n1-z*\nA(z)= — with R = Nce/3 (1)\nl-z\nEven if we target about 13 effective bits, the realized ADC has a 16 bits digital output. The implemented filter is based\non the Hogenauer’s structure [7] which consists of three integrating stages followed by a down-sampling by R, then\nthree differentiating stages and a final down-sampling by 3.\n\nIntegrators at Fe Downsampling\n\nModulator output 7 7 a waa\nib diff. at Fe\nin<o>\n\ninb<a>\n\nck1\nck1b\n\nai\n\nPent ron\n\ni\n\nck2 > of\nck2b J —+\nrt >\nDifferentiators at Fe/(Nc/3) Downsampling\n= = m = 16b output code\ndN nics Jy pone bison at Fe/Ne\nseo we ie Ly. no ym ED 3. t<15:0>\nzit sot\nitt itt tae te\n* + +\nbitck >\nbitckb [>\n\nFig. 5 : Digital decimation filter\n\nProc. of SPIE Vol. 6542 65423N-5\n\nDownloaded From: http://proceedings.spiedigitallibrary.org/ on 12/16/2015 Terms of Use: http://spiedigitallibrary.org/ss/TermsOfUse.aspx\n+\ngtig :\nPy eh iad 1\nes gu\n\naes ta Le\n\nbios coge_n gp\n1 + - 7 ha\n\nee\n\noe eose_p\n\n(b)\n\n(a)\nFig. 4 : OTA (a) and comparator (b) circuits\n\n3.3. Digital decimation filter design\nA third-order sinc digital has been fully integrated in the 254m column pitch. Its transfer function is given below:\n1-2"")\n\n-Z\nwith R = Ne/3 qd)\n\nH(z)= __\nl-z\nEven if we target about 13 effective bits, the realized ADC has a 16 bits digital output. The implemented filter is based\non the Hogenauer’s structure [7] which consists of three integrating stages followed by a down-sampling by R, then\nthree differentiating stages and a final down-sampling by 3.\nIntegrators at Fe Downsampling\n\nModulator output\nlb diff. at Fe\nin<o> coast\ninb<a> JH\nk1\naw B\nk2 > +\nck2b —+\nrst BD\n- = “ os 16b cue oh code\nso ii onary ei A : SNS pm outcts0>\n=] Er ha\nsit sot sit +2\nita it+ tit tt\n1 t\nbitck >\nbitckb >\nFig. 5 : Digital decimation filter\n\nProc. of SPIE Vol. 6542 65423N-5\n\nDownloaded From: http://proceedings.spiedigitallibrary.org/ on 12/16/2015 Terms of Use: http://spiedigitallibrary.org/ss/TermsOfUse.aspx\n11\n__ .__\np\nk1\nekib\nck2\nck2b\ncode\nbitck\nhitckb\nProc. of SPIE Vol. 6542  65423N-5\nAs we want the ADC to be able to operate in both incremental and continuous modes (i.e. with and without a reset after\nNe cycles) we have to carefully dimension the size of the registers. The equation (1) shows that in the worst case (all\nfilter input bits at high level) the final result reaches R°. So, a register depth of 23 bits is needed for the intended number\nof cycles.\n\nThe practical realization of the Hogenauer’s structure leads to modifying this depth for the different stages in order to\nminimize the required hardware. Indeed, 23 bits are necessary for the computation but only 16 bits are expected at\noutput. So we get a truncation of 7 bits on the last stage which implies an error at the filter output. Considering this\nerror, we can allow smaller errors on previous stages. This enables to calculate the tolerable truncation among the\ndifferent stages knowing that the sooner a truncation occurs in the filtering chain the bigger its impact on the output will\nbe. For the realized digital decimation filter, we used the configuration given in Table 1.\n\nTable | : Truncation applied to digital filter’s stages\n\nStage Number of bits Truncation size\n1* integrator 23 0\n2"" integrator 23 0\n3"" integrator 20 3\n1* differentiator 19 4\n2™ differentiator 18 5\n3"" differentiator 16 7\n\nIn order to reduce the power consumption, the digital filter can operate with a reduced supply voltage (2.5V down to\n1.2V) and it has been designed in a full-custom approach using dynamic flip-flops. The layout has been optimized to get\nthe maximum density in the 254m column pitch. We use a standard 0.35um CMOS process with five metal layers.\nWhile lower levels are used for elementary cell layout, the three upper levels are reserved for interconnections and\nrouting the 23 bits bus.\n\nThe ADC demonstrator is 3.2mm long and 25um wide; the digital filter occupies about 70% of this area as can be seen\non Fig. 6.\n\n~2.3 mm\n\nDigital filter\n\nADC length ~3.2 mm\n\n~0.9 mm\n\nModulator\n\nFig. 6 : ADC demonstrator layout and chip microphotography\n\nProc. of SPIE Vol. 6542 65423N-6\n\nDownloaded From: http://proceedings.spiedigitallibrary.org/ on 12/16/2015 Terms of Use: http://spiedigitallibrary.org/ss/TermsOfUse.aspx\nAs we want the ADC to be able to operate in both incremental and continuous modes (i.e. with and without a reset after\nNe cycles) we have to carefully dimension the size of the registers. The equation (1) shows that in the worst case (all\nfilter input bits at high level) the final result reaches R*. So, a register depth of 23 bits is needed for the intended number\nof cycles.\n\nThe practical realization of the Hogenauer’s structure leads to modifying this depth for the different stages in order to\nminimize the required hardware. Indeed, 23 bits are necessary for the computation but only 16 bits are expected at\noutput. So we get a truncation of 7 bits on the last stage which implies an error at the filter output. Considering this\nerror, we can allow smaller errors on previous stages. This enables to calculate the tolerable truncation among the\ndifferent stages knowing that the sooner a truncation occurs in the filtering chain the bigger its impact on the output will\nbe. For the realized digital decimation filter, we used the configuration given in Table 1.\n\nTable | : Truncation applied to digital filter’s stages\n\nStage Number of bits Truncation size\n1* integrator 23 0\n2"" integrator 23 0\n3"" integrator 20 3\n1* differentiator 19 4\n2™ differentiator 18 5\n3"" differentiator 16 7\n\nIn order to reduce the power consumption, the digital filter can operate with a reduced supply voltage (2.5V down to\n1.2V) and it has been designed in a full-custom approach using dynamic flip-flops. The layout has been optimized to get\nthe maximum density in the 25m column pitch. We use a standard 0.35,m CMOS process with five metal layers.\nWhile lower levels are used for elementary cell layout, the three upper levels are reserved for interconnections and\nrouting the 23 bits bus.\n\nThe ADC demonstrator is 3.2mm long and 25um wide; the digital filter occupies about 70% of this area as can be seen\non Fig. 6.\n\n~2.3 mm\n\nDigital filter\n\nADC length ~3.2 mm\n\n~0.9 mm\n\nModulator\n\nFig. 6 : ADC demonstrator layout and chip microphotography\n\nProc. of SPIE Vol. 6542 65423N-6\n\nDownloaded From: http://proceedings.spiedigitallibrary.org/ on 12/16/2015 Terms of Use: http://spiedigitallibrary.org/ss/TermsOfUse.aspx\nProc. of SPIE Vol. 6542  65423N-6\n4. TEST RESULTS\n\nWe received the chips at the beginning of 2007 and the ADC demonstrator has then been assembled in a laboratory\ndewar to test it at 77K. A dedicated test board including low noise power supplies and adjustable biasing generation has\nbeen developed. It also includes digital buffers (with 50Q line termination on higher speed signals) for the interface\nbetween the dewar and the National Instrument PXI based test bench. The analog input is generated with a PXI board\nembedding a 24bits DAC. The test configuration, the measurements and the data processing tasks are performed thanks\nto a custom LabView software.\n\nWe have the possibility to realize both dynamic (FFT on ADC output when applying input sine wave) and static (ADC\ntransfer response) tests.\n\nThe functionality and performance of the whole ADC circuit has been checked. The digital filter is fully operational\nwith a power supply voltage down to 1.1V. Its power consumption is below 50uW at 1.2V.\n\nIn nominal conditions, we observed a resolution below our expectations due to an important level of distortion. We\ncould establish that this behavior was related to a bandwidth or slewing limitation of the amplifiers. Indeed, when\nlowering the over-sampled clock frequency (to 10OMHz instead of 16.6MHz) or increasing OTA bias current we noticed\na quick improvement. For this reason the following results are obtained at 1OMHz.\n\nIn this first measurement phase, we discovered that the flexibility of a sigma-delta converter was a real advantage. It is\npossible to adjust the over-sampled frequency, the number of cycles and the OTA bias current. With the same circuit we\ncan define different configurations depending on specific application requirements. The over-sampled frequency\nreduction to 10MHz can be done with no impact on the frame rate if we adapt the number of cycles (configuration A). If\nthe circuit is used in lower dimension arrays, we can keep the highest number of cycles and maybe accept a slight power\nconsumption increase in order to get the maximum resolution (configuration B). The results are given in these two\nconfigurations. Intermediate configurations are also conceivable, they derive from a tradeoff between circuit\nperformance (resolution, power consumption) and application needs (frame rate, array size).\n\nIn configuration A, the number of cycles is reduced to 384 so as to keep a sampling rate compliant with the design\ngoals. It allows the use of converter in large size 640*480 arrays at 50Hz or medium size 320*240 arrays at 100Hz. In\nthis case, the ADC works at 26kS/s and the power consumption of the sigma-delta modulator is 165uW.\n\nThe ADC output spectrum is presented on Fig. 7. It shows a non-negligible distortion still due to the limitation of analog\namplifiers and gives 11.5 ENOB.\n\nThe static measurements illustrated on Fig. 8 give an error about 500uV,.) which mainly appears for high input signal\nlevels.\n\nSNR = 75.5 dB\nSINAD = 70.9 dB\nTHD = -72.5 dB\nENOB = 11.5\n\n180-7 z 7 7\n2510914 eto Bete Ee 25169\n\nFig. 7: ADC’s output power spectrum in configuration A\n\n6.00064~\n\nsae4—\n\nemer peveae iii) Farell\nTomp iA\nSome]\n\nie ds de ds oe) Sore ayo\n\ney\n\nFig. 8 : ADC’s conversion error in configuration A\n\nProc. of SPIE Vol. 6542 65423N-7\n\nDownloaded From: http://proceedings.spiedigitallibrary.org/ on 12/16/2015 Terms of Use: http://spiedigitallibrary.org/ss/TermsOfUse.aspx\n4. TEST RESULTS\n\nWe received the chips at the beginning of 2007 and the ADC demonstrator has then been assembled in a laboratory\ndewar to test it at 77K. A dedicated test board including low noise power supplies and adjustable biasing generation has\nbeen developed. It also includes digital buffers (with 50Q line termination on higher speed signals) for the interface\nbetween the dewar and the National Instrument PXI based test bench. The analog input is generated with a PXI board\nembedding a 24bits DAC. The test configuration, the measurements and the data processing tasks are performed thanks\nto a custom LabView software.\n\nWe have the possibility to realize both dynamic (FFT on ADC output when applying input sine wave) and static (ADC\ntransfer response) tests.\n\nThe functionality and performance of the whole ADC circuit has been checked. The digital filter is fully operational!\nwith a power supply voltage down to 1.1V. Its power consumption is below 50uW at 1.2V.\n\nIn nominal conditions, we observed a resolution below our expectations due to an important level of distortion. We\ncould establish that this behavior was related to a bandwidth or slewing limitation of the amplifiers. Indeed, when\nlowering the over-sampled clock frequency (to 1OMHz instead of 16.6MHz) or increasing OTA bias current we notice\na quick improvement. For this reason the following results are obtained at 1OMHz.\n\nIn this first measurement phase, we discovered that the flexibility of a sigma-delta converter was a real advantage. It is\npossible to adjust the over-sampled frequency, the number of cycles and the OTA bias current. With the same circuit we\ncan define different configurations depending on specific application requirements. The over-sampled frequency\nreduction to 10MHz can be done with no impact on the frame rate if we adapt the number of cycles (configuration A). I\nthe circuit is used in lower dimension arrays, we can keep the highest number of cycles and maybe accept a slight power\nconsumption increase in order to get the maximum resolution (configuration B). The results are given in these two\nconfigurations. Intermediate configurations are also conceivable, they derive from a tradeoff between circuit\nperformance (resolution, power consumption) and application needs (frame rate, array size).\n\nIn configuration A, the number of cycles is reduced to 384 so as to keep a sampling rate compliant with the design\ngoals. It allows the use of converter in large size 640*480 arrays at 50Hz or medium size 320*240 arrays at 100Hz. In\nthis case, the ADC works at 26kS/s and the power consumption of the sigma-delta modulator is 165.4.W.\n\nThe ADC output spectrum is presented on Fig. 7. It shows a non-negligible distortion still due to the limitation of analog\namplifiers and gives 11.5 ENOB.\n\nThe static measurements illustrated on Fig. 8 give an error about 500uV,.) which mainly appears for high input signal\nlevels.\n\nSNR = 75.5 dB\nSINAD = 70.9 dB\nTHD = -72.5 dB\nENOB = 11.5\n\nwager 251.021%6 B16 31006 25169\n\nFig. 7: ADC’s output power spectrum in configuration A\n\n6.00064~\ns.ames~\nsae\n0008+\n\na cRESRen\n20064\n= Ml\n2 some4—\n\n4 } i\n\names:\nsomes\nome\ns0me4-\n\nsomes,\n\nFig. 8 : ADC’s conversion error in configuration A\n\nProc. of SPIE Vol. 6542 65423N-7\n\nDownloaded From: http://proceedings.spiedigitallibrary.org/ on 12/16/2015 Terms of Use: http://spiedigitallibrary.org/ss/TermsOfUse.aspx\nProc. of SPIE Vol. 6542  65423N-7\nIn configuration B, we keep the number of cycles to its initial value of 576, giving an ADC sampling frequency of\n17kS/s. We also increase the OTA’s bias current to overcome their frequency limitation. This configuration allows the\nuse of the converter in medium size 320*240 arrays at 70Hz or lower size arrays at higher frame rates. In this case, the\npower consumption of the sigma-delta modulator is 225uW.\n\nThe ADC output spectrum is presented on Fig. 9. It shows that the distortion observed in previous configuration has\nbeen removed by increasing the bias current. The resolution now reaches 13 ENOB.\n\nThe static measurements illustrated on Fig. 10 give an error about 350uV,.) which remains small at high input signal\nlevels.\n\ns0- SNR = 81.1 dB\nSINAD = 80.2 dB\nTHD = -87.5 dB\nENOB = 13.0\n\nissance Spectral\n\n80-1 n i x\n1.505029 15.083007 isa.52079 805.2207 15S\n\nFig. 9 : ADC’s output power spectrum in configuration B\n\n6.00084\ns.onne-s\n4.0006 4\n\n2.0006 4-|\n\non ay A an\n\n2000s)\nsomes\nones\nsome\n\nSe a\n“lg 7 is is ae a 2 2 doh 02 08 0% ob ob of ob\n\nFig. 10 : ADC’s conversion error in configuration B\n\nTable 2 synthesizes the results obtained in the two configurations.\n\nTable 2 : ADC performances\n\nConfiguration A B\nFe (MHz) 10 10\nNumber of cycles 384 576\nADC sampling frequency (kS/s) 26 17\nADC power consumption (11W) 210 270\nENOB 11.5 13.0\n\n5. CONCLUSION\n\nThe realized column level ADC demonstrator is fully functional and its performances are consistent with cooled IRFPA\nrequirements. The chosen structure has a potential resolution above 13 effective bits making it well suited for high\nperformance image sensors. Furthermore, the flexibility of incremental sigma-delta ADC enables the use of the realized\nconverter in different configurations by adjusting the trade-off between circuit performances and specific application\nneeds. Concerning the power consumption, the high resolution configuration can be used in low to medium size cooled\nIRFPA since a 320*240 array will dissipate about 90mW.\n\nThe use of a more recent CMOS process (e.g. 0.18m) for our future ROIC developments will ease the integration of\nthis type of converters by allowing a more compact layout of the digital filter. This step will also further enhance the\nADC performances by decreasing the power consumption and overcoming the observed frequency limitations of analog\nintegrators.\n\nProc. of SPIE Vol. 6542 65423N-8\n\nDownloaded From: http://proceedings.spiedigitallibrary.org/ on 12/16/2015 Terms of Use: http://spiedigitallibrary.org/ss/TermsOfUse.aspx\nIn configuration B, we keep the number of cycles to its initial value of 576, giving an ADC sampling frequency of\n17kS/s. We also increase the OTA’s bias current to overcome their frequency limitation. This configuration allows the\nuse of the converter in medium size 320*240 arrays at 70Hz or lower size arrays at higher frame rates. In this case, the\npower consumption of the sigma-delta modulator is 225uW.\n\nThe ADC output spectrum is presented on Fig. 9. It shows that the distortion observed in previous configuration has\nbeen removed by increasing the bias current. The resolution now reaches 13 ENOB.\n\nThe static measurements illustrated on Fig. 10 give an error about 350pV,.) which remains small at high input signal\nlevels.\n\nA SNR = 81.1 dB\ni SINAD = 80.2 dB\nTHD =-87.5 dB\nENOB = 13.0\n\n180-1 . x z\n1.505029 15.083207 isa stor 605.2074 EES\n\nFig. 9: ADC’s output power spectrum in configuration B\n\n6.00084\ns.onne-s\n4.0006 4\n\n2.0006 4-|\n\non ay A an\n\n2000s)\nsomes\nones\nsome\n\nSe a\n“lg 7 is is ae a 2 2 doh 02 08 0% ob ob of ob\n\nFig. 10 : ADC’s conversion error in configuration B\n\nTable 2 synthesizes the results obtained in the two configurations.\n\nTable 2 : ADC performances\n\nConfiguration A B\nFe (MHz) 10 10\nNumber of cycles 384 576\nADC sampling frequency (kS/s) 26 17\nADC power consumption (uW) 210 270\nENOB 11.5 13.0\n\n5. CONCLUSION\n\nThe realized column level ADC demonstrator is fully functional and its performances are consistent with cooled IRFPA\nrequirements. The chosen structure has a potential resolution above 13 effective bits making it well suited for high\nperformance image sensors. Furthermore, the flexibility of incremental sigma-delta ADC enables the use of the realized\nconverter in different configurations by adjusting the trade-off between circuit performances and specific application\nneeds. Concerning the power consumption, the high resolution configuration can be used in low to medium size cooled\nIRFPA since a 320*240 array will dissipate about 90mW.\n\nThe use of a more recent CMOS process (e.g. 0.18um) for our future ROIC developments will ease the integration of\nthis type of converters by allowing a more compact layout of the digital filter. This step will also further enhance the\nADC performances by decreasing the power consumption and overcoming the observed frequency limitations of analog\nintegrators.\n\nProc. of SPIE Vol. 6542 65423N-8\n\nDownloaded From: http://proceedings.spiedigitallibrary.org/ on 12/16/2015 Terms of Use: http://spiedigitallibrary.org/ss/TermsOfUse.aspx\n:tTT,\nProc. of SPIE Vol. 6542  65423N-8\nThe results obtained with this incremental sigma-delta ADC demonstrator open the door to an implementation in future\nSOFRADIR products. This A/D conversion architecture may also find its way in uncooled applications where power\nconsumption constraints are relaxed.\n\nACKNOWLEDGMENTS\n\nThe authors would like to thank all the CEA-LETI and SOFRADIR teams involved in this work. The authors also thank\nthe French MoD for its support in ROIC studies.\n\nREFERENCES\n\n1. Z. Zhou, B. Pain and E.R. Fossum, “CMOS Active Pixel Sensor with On-Chip Successive Approximation Analog-\nTo-Digital Converter”, IEEE Trans. Electron Devices, vol. 44, no. 10, pp. 1759-1763, Oct. 1997\n\n2. A.I. Krymski et al., “A High-Speed, 240-Frames/s, 4.1 Mpixel CMOS Sensor”, IEEE Trans. Electron Devices, vol.\n50, no. 1, pp. 130135-1763, Jan. 2003\n\n3. P. Fillon, S. Dugalleix, F. Pistone and P. Tribolet, “Digital output for high performance MCT staring arrays”, Proc.\nof SPIE, vol. 6206 (2006)\n\n4. U. Ringh, C. Jansson and K. Liddiard, “Readout concept employing a novel on chip 16 bit ADC for smart IR focal\nplane arrays”, Proc. of SPIE, vol. 2745 (1996), pp. 99-110\n\n5. J. Markus, J. Silva and G.C. Temes, “Theory and Applications of Incremental ZA Converters”, IEEE Trans.\nCircuits and Systems I, vol. 51, no. 4, pp. 678-690, Apr. 2004\n\n6. P. Malcovati et al., “Behavioral Modeling of Switched-Capacitor Sigma-Delta Modulators”, [EEE Trans. Circuits\nand Systems I, vol. 50, no. 3, pp. 352-364, Mar. 2003\n\n7. E.B. Hogenauer, 3An Economical Class of Digital Filters for Decimation and Interpolation”, IEEE Trans.\nAcoustics, Speech and Signal processing, vol. ASSP-29, no. 2, pp. 155-162, Apr. 1981\n\nProc. of SPIE Vol. 6542 65423N-9\n\nDownloaded From: http://proceedings.spiedigitallibrary.org/ on 12/16/2015 Terms of Use: http://spiedigitallibrary.org/ss/TermsOfUse.aspx\nThe results obtained with this incremental sigma-delta ADC demonstrator open the door to an implementation in future\nSOFRADIR products. This A/D conversion architecture may also find its way in uncooled applications where power\nconsumption constraints are relaxed.\n\nACKNOWLEDGMENTS\n\nThe authors would like to thank all the CEA-LETI and SOFRADIR teams involved in this work. The authors also thank\nthe French MoD for its support in ROIC studies.\n\nREFERENCES\n\n1. Z. Zhou, B. Pain and E.R. Fossum, “CMOS Active Pixel Sensor with On-Chip Successive Approximation Analog-\nTo-Digital Converter”, IEEE Trans. Electron Devices, vol. 44, no. 10, pp. 1759-1763, Oct. 1997\n\n2. A.I. Krymski et al., “A High-Speed, 240-Frames/s, 4.1 Mpixel CMOS Sensor”, IEEE Trans. Electron Devices, vol.\n50, no. 1, pp. 130135-1763, Jan. 2003\n\n3. P. Fillon, S. Dugalleix, F. Pistone and P. Tribolet, “Digital output for high performance MCT staring arrays”, Proc.\nof SPIE, vol. 6206 (2006)\n\n4. U. Ringh, C. Jansson and K. Liddiard, “Readout concept employing a novel on chip 16 bit ADC for smart IR focal\nplane arrays”, Proc. of SPIE, vol. 2745 (1996), pp. 99-110\n\n5. J. Markus, J. Silva and G.C. Temes, “Theory and Applications of Incremental ZA Converters”, IEEE Trans.\nCircuits and Systems I, vol. 51, no. 4, pp. 678-690, Apr. 2004\n\n6. P. Malcovati et al., “Behavioral Modeling of Switched-Capacitor Sigma-Delta Modulators”, IEEE Trans. Circuits\nand Systems I, vol. 50, no. 3, pp. 352-364, Mar. 2003\n\n7. E.B. Hogenauer, 3An Economical Class of Digital Filters for Decimation and Interpolation”, IEEE Trans.\nAcoustics, Speech and Signal processing, vol. ASSP-29, no. 2, pp. 155-162, Apr. 1981\n\nProc. of SPIE Vol. 6542 65423N-9\n\nDownloaded From: http://proceedings.spiedigitallibrary.org/ on 12/16/2015 Terms of Use: http://spiedigitallibrary.org/ss/TermsOfUse.aspx\nProc. of SPIE Vol. 6542  65423N-9\n']",
A Low Power and Low Signal 5-bit 25 MSs Pipelined ADC for Monolithic Active Pixel Sensors.pdf,"['IEEE TRANSACTIONS ON NUCLEAR SCIENCE, VOL. 54, NO. 4, AUGUST 2007\n1195\nA Low Power and Low Signal 5-bit 25 MS/s Pipelined\nADC for Monolithic Active Pixel Sensors\nJ. Bouvier, Mokrane Dahoumane, Daniel Dzahini, Member, IEEE, J. Y. Hostachy, E. Lagorio, O. Rossetto,\nHamid Ghazlane, and Dominique Dallet\nAbstract—For CMOS monolithic active pixels sensor readout,\nwe developed a 5 bit low power analog to digital converter using\na pipelined architecture. A non-resetting sample and hold stage is\nincluded to amplify the signal by a factor of 4. Due to the very low\nlevel of the incoming signal, this ﬁrst stage compensates both the\nampliﬁer offset effect and the input common mode voltage disper-\nsion. The converter consists of three 1.5 bit sub-ADC and a 2 bit\nﬂash. We present the results of a prototype, made of eight ADC\nchannels. The maximum sampling rate is 25 MS/s. The total DC\npower consumption is 1.7 mW/channel on a 3.3 V supply voltage\nrecommended for the process. But at a reduced 2.5 V supply, it\nconsumes only 1.3 mW. The size of each ADC channel layout is\nonly 43 m 1 43 mm. This corresponds to the pitch of two\npixel columns each one would be 20 m wide. The full analog part\nof the converter can be quickly switched to a standby idle mode\ns; thus reducing the power dissipation to a ratio\nin less than 1\nbetter than 1/1000. This fast shutdown is very important for the\nILC vertex detector as the total DC power dissipation becomes di-\nrectly proportional to the low beam duty cycle.\nIndex Terms—1.5 bits per stage, low power, MAPS tracker, pixel\nsensors, pipelined ADC, switched capacitor design.\nI. INTRODUCTION\nMONOLITHIC ACTIVE PIXEL SENSORS (MAPS) fab-\nricated in CMOS technology offer several well known\nadvantages for vertex detectors, high precision beam telescopes\nand imaging devices.\nFig. 1. Sketch view of a MAPS array with a data conversion stage.\nThe design presented here follows the requirements of pixel\narrays designed at IPHC-Strasbourg in collaboration with\nDAPNIA-Saclay, in perspective of the Linear Collider vertex\ndetector [1]. The arrangement of the pixel array with its associ-\nated read-out and A/D conversion stages is illustrated in Fig. 1.\nThe IPHC develops fast sensors made of pixel columns\nread out in parallel, featuring an architecture allowing a frame\nread-out frequency in excess of 10 kHz. Each pixel includes a\nmicro-circuit allowing the signal extraction by computing the\ndifference between the reference level and the readout signal\n[2]. Each column is presently ended with a discriminator, which\nwill be replaced in future by an ADC.\nGranularity, ﬂexibility, radiation tolerance, compactness,\nrandom access and fast read-out are among their most appealing\ncharacteristics. On the other hand, the associated readout elec-\ntronics design is constrained in several aspects:\n— the process used has to be chosen according to its particle\ndetection performances (e.g. epitaxial layer thickness);\n— the minimum readable signal may be very small (typically\na couple of mV);\n— the layout has to be adjusted to the (small) pixel pitch;\n— the number of metal layers may be modest (4 or 5 only);\n— and, of course, the power budget is a critical issue.\nat present, but it\nshould become 20 microns in the next prototypes. The minimal\nsignal delivered by each column is typically on the order of a\nmV, which translates into a ﬁrst challenge for the read-out circuit\ndesign. Next comes the fast sampling rate ambitioned (10 MS/s).\nFinally, the power budget should remain as low as about 500\nThe pixel’s columns width amounts to 25\nManuscript received January 17, 2007; revised May 4, 2007.\nJ. Bouvier, M. Dahoumane, D. Dzahini, J. Y. Hostachy, E. Lagorio, and\nO. Rossetto are with the LPSC, Université Joseph Fourier, CNRS/IN2P3,\nINPG, 38026 Grenoble Cedex, France (e-mail: bouvier@lpsc.in2p3.fr;\nmkdline@yahoo.fr;\nros-\nsetto@lpsc.in2p3.fr).\ndzahini@lpsc.in2p3.fr;\nlagorio@lpsc.in2p3.fr;\nH. Ghazlane is with the CNESTEN, BP 1382, RP 10001 Rabat, Morocco\n.\n(e-mail: ghazlane@gmail.com).\nDue to the low value of the Least Signiﬁcant Bit (LSB 1\nmV), the design of the ﬁrst stage of this converter is critical ac-\nD. Dallet is with the IXL, 33405 Talence Cedex, France.\nDigital Object Identiﬁer 10.1109/TNS.2007.903175\n0018-9499/$25.00 © 2007 IEEE\n1196\nIEEE TRANSACTIONS ON NUCLEAR SCIENCE, VOL. 54, NO. 4, AUGUST 2007\nV offset\n\nvee_SH!\nVin\n\nVme|\n\nClk Clk aw Clk Clk Clik\ni i I 1 |\nSample stage 1 stage 2 || stage3 flash\n& Hold\n41.5 bit Yrs bit 41.5 bit J 2 bits\n\nBits alignment + digital error correction\n\nt Dout = 5 bits\n\nFig. 2. General block diagram of a pipelined converter.\ncording to the offset and the signal to noise ratio. With a sam-\npling rate beyond 10 MHz, pipelined architecture is usually con-\nsidered as a good compromise because it implies less power dis-\nsipation and area than a full ﬂash. An overview block diagram\nis shown in Fig. 2 [3]–[5].\nThe ﬁrst stage samples and holds the analog input signal. It\nis followed by a set of pipelined stages. Each one produces a\ndigital estimate of an incoming held signal, then converts this\nestimate back to the analog, subtracts the result from the held\ninput. This residue is then ampliﬁed before being transferred to\nthe next stage. Eventually the last stage is a full ﬂash that de-\ntermines the least signiﬁcant bits. The successive digital results\nfrom the pipelined stages are appropriately delayed throughout\na bit alignment network. Then a digital correction stage helps to\nrecover the errors due to the comparators offset. Therefore, low\noffset comparators are not necessary and the power consump-\ntion is reduced.\nFig. 3. Sample and Hold Ampliﬁer (SHA) scheme.\noffset\n\n4.06 -\\~\n\n___ Sompleg&hold gain(input signal),\nH for different OTA’s offset\n\nOm 16m 32m\n\nInput signal\nThis paper describes hereafter each stage of this converter and\nwe present some testing results.\nII. THE SAMPLE AND HOLD AMPLIFIER (SHA)\nCharge redistribution non-inverting architecture is used.\nFig. 3 illustrates the sampling phase (phi2 is ON). “veeSH!” is\nthe name for the virtual ground. The signal is stored onto the\n. Then during the\nset of 4 sampling capacitors\nHOLD (phi1), the charge is transferred to the feedback capac-\nitor C23. This results to ampliﬁcation by 4 of the differential\nsignal between the reference (dark level) and the intensity level.\nEach capacitor unit in this scheme is 100 fF.\nFig. 4. SHA gain according to the input signal, with the OTA’s offset as a\nsecond parameter.\nso called ‘non resetting’ SHA. During the HOLD phase (phi1),\nthe charges are transferred from the sampling capacitors to the\nleading to an ampliﬁcation in the ratio\nfeedback capacitor\nof the capacitors. Fig. 4 shows the gain variation according to\nthe input signal. It stays close to the optimal value of 4, when the\nOTA’s offset parameter varies from 10 mV up to 10 mV. One\ncan notice a worse case error of 2.5% for the smallest signal. It\ncomes from the OTA ﬁnite open loop gain as well as the para-\nsitic capacitors effect. But this error is still acceptable for a 5 bit\ndesign.\nA. Offset Issues\nThe schematic used is not a full differential because the\ncommon mode feedback control that would be necessary is\npower or area consuming. Due to the low level of the signal,\nthe pseudo differential scheme used is sensitive to the offset\ncoming from different sources.\n2) The Charge Injections Offset: When the switches go to the\n“OFF” position, the charges coming from the transistors channel\nwill create an offset that could be critical here since the capaci-\ntors are very small. This offset is controlled using “non overlap-\nping 4 phase clocks” which are not detailed in the Fig. 3 scheme\nfor ease of read.\n1) The Ampliﬁer’s Offset: During the sampling phase (phi2)\nthe ampliﬁer’s offset is registered on the feedback capacitor\nand kept at the ampliﬁer’s input. The signal\nV\nV\nwill then be sampled. The previous held signal\nstored on\nwas\n. The output of the ampliﬁer is thus maintained at\nand will not be reset: this architecture is\nV\nBOUVIER et al.: LOW POWER AND LOW SIGNAL 5-bit 25 MS/s PIPELINED ADC\n1197\n4g\n\ngain (dB)\n\nPhase (deg)\n\n108M\nvdda\n\n@\nM5 M6\na, a\non ° a ||=—e\nBE pmos4 most i\ni 12\na, a\nats oe\nbias_ws mf Pmos4 prost\nout_ota\n-— | >\nbias\nMVNB MNo BL bias\nDp. "" al el\nnmos4: gnda nmos4\n. L VW J .\nIN_P MNS MNem, 1m\n| alee a +; =—_@\nnmos4 gnda nmos4\niL 4 \'\nM13\nbias_ota\n\nnmos4\n\ngnda\nFig. 6. Bode diagram for the OTA on a 1 pF load.\nsmpt bad\nIn ie! °\n> = Vin a2 Vs1\n2*Vint o*Vref—> Vs|—=—>\ntreshold 1\nVref\n>\n| 13\n«fiat 0\nM90 ao ©\nmast\ntreshold 0 Vref Vref2\n> »\nVref\n\nbO b1\nFig. 5. A wide swing telescopic OTA.\n3) The Pixels Common Mode Voltage Fluctuations: In Fig.\n3 one can notice the symmetry between, the reference signal\nto the virtual ground\nbranch on one side going from node\n“vee_SH!”, and on the other side the intensity signal branch\n. This sym-\nwhich is from node\nmetry reduces the ﬂuctuations of the common mode level at the\nampliﬁer inputs even when the “dark level” from the pixel varies\nsigniﬁcantly.\nV\nto the output node\nV\nV\nFig. 7. Bloc diagram of a 1.5 bit sub-converter stage.\n4) The OTA’s Input Parasitic Capacitor Effect: In the offset\npoint of view, the ﬁnite value of the open loop gain makes this\nintegrator very sensitive to the parasitic capacitors at the OTA’s\ninputs. This offset could easily shift the output signal out of the\nconverter’s dynamic range. The random value of some parasitic\ncapacitors will create also dispersion in the signal sent to the\nconverter ADC. Hence during the layout design, great care has\nbeen taken with the OTA’s input nodes.\nand makes the design robust for future low voltage version. The\nBode diagram simulations results on a 1 pF load are shown in\nFig. 6.\nIII. THE PIPELINED ADC\nFig. 7 illustrates the implementation of a 1.5 bit pipeline\nstage. The A/D block consists of two non critical compara-\ntors. The D/A conversion, subtraction, ampliﬁcation, and S/H\nfunctions are performed by a switched capacitor circuit with a\nresolution of 1.5 bit per stage and an interstage gain of 2. Hence\nthe transfer function of this stage is\nwhere\n(b0, b1).\nB. Noise Issues\nThe KT/C noise is a critical parameter in this design because\nof the small value required for the capacitors to save area in\nthe layout. The input sampling capacitor is only 400 fF which\ncorresponds to a KT/C rms noise of 0.1 mV. Hence we have a\nsafety margin of 1/10 between the rms noise and the minimum\nincoming signal. This ratio should be enough to maintain a quiet\noutput code. Robustness against noise is maintained by taking\ncare of additional thermal noise of the OTA.\nV\nV\nV\nis set to 0 or 0.5 or 1, depending on the output code\nThe transfer function for a 1.5 bit stage is shown in Fig. 8 by\nthe continuous line. The dashed lines show possible variations of\nthis transfer curve depending on the comparators offset spread.\nThe expression “1.5 bit” is used to point out that only 3 combi-\nnations out of the 4 are acceptable for the output codes. The (1,\n1) code is avoided, thereby the interstage ampliﬁer should not\nsaturate and this leaves room for the digital error correction.\nC. The OTA Architecture\nThe ampliﬁer designed for the SHA is used also for the con-\nverter multiplying stages. It is a telescopic cascode scheme as\nshown in Fig. 5 [6].\nThis 1.5 bit conﬁguration is particularly suitable to minimize\nthe converter’s total power dissipation because the ampliﬁers\noperate at a low closed-loop gain leading to a best settling time\nfor minimum power consumption. Moreover this low gain per\nThe current mirror load is a so called “wide swing cascode”\n[3]. It improves the dynamic range better than a basic cascode\n1198\nIEEE TRANSACTIONS ON NUCLEAR SCIENCE, VOL. 54, NO. 4, AUGUST 2007\nphi2 > +\n||»\n137\nphit 7\n137 .\n=|.- — an 4\n1127\nvin phit\n>»\nL__z 4\n1125 OTA\noffset\nphi2 »pb—e—sF nm 1124 vs\nout_ota>—#+@—>\n| lan inp\nVref; BH\n1126 [vee\nrn\n4\n?\n\nVref\n\n5/8 Vref\n\n3/8 Vref\nFig. 8. 1.5 bits residue transfer curve.\nFig. 10. The capacitive precise multiplier scheme.\ndiff. preamp\nvee |\n\nw\n\nVbios++2\n\nveo\n\ner\n\nt 1 full channel-dimensions =43y*1.43mm.\n\n=. . ——\n\nS/H Error\ncorrect\nstages\nFig. 11. Layout of a prototype with 8 channel ADC.\nTABLE I\nPOWER CONSUMPTION AND SAMPLING RATE TESTING RESULTS\nSample & Hold 5 bits ADC Full channel\nSampling rate 25 Mhz 25 Mhz 25 Mhz\nDimensions 43y*250n | 43*1250n | 43y* 1500p\nPower@3.3V 0.413 mw 1.287 mW 17 mW\nPower@2.5V 0.313 mw 0.975 mw 1.288 mw\n\nFig. 9. The comparator scheme.\nstage allows a maximum acceptable value for the comparators’\noffset, thus permitting low power latch architecture.\nThe maximum offset of these comparators is limited to\nis the full dynamic\nVref/8, where\nrange. A simpliﬁed schematic of the comparator is given in\nFig. 9. It consists of a low gain and low offset differential\npreampliﬁer followed by a latched folded cascode comparator\n[7].\nchannel including the sample & hold stage is\n.\nOne may notice also that the surface occupied by the digital\nerror correction stage is about 1/5 of the full channel.\nV\nV\nIV. TESTING RESULTS\nThe circuit has been tested successfully up to 25 MHz. This\nsampling rate and the power dissipation are summarized in\nTable I for two different power supply values (3.3 V and 2.5\nV). The sample & hold consumption is speciﬁcally given to\nfacilitate the comparison with other ADC designs.\nA precise ampliﬁcation by 2 is performed by two equal\ncapacitors as shown in Fig. 10. The incoming signal is sampled\nduring phase “phi1”. It is ampliﬁed by charge redistribution\nthe\nduring phase “phi2”. During this ampliﬁcation phase,\nbottom plate of the sampling capacitor (C1) is connected to\nwhich will be subtracted from the\na reference voltage\nampliﬁed signal. The residue resulting from this operation is\nis\ntransmitted to the next pipe line stage. The value for\nor Vref depending on the com-\nrespectively 0 or\nparators outputs (see Fig. 7). Vref is the dynamic range of the\nconverter, with reference to the virtual ground.\nThe converter output differential and integral nonlinearity er-\nrors (DNL, INL) are shown in Fig. 12. For this test, the input\nsignal was a sine wave with a peak-to-peak amplitude close to\nthe ADC full-scale range. Then a statistical analysis method is\napplied to the output data. The DNL and INL were measured\nusing a cumulative histogram method [8]. The DNL refers to\nthe irregularity in the width of the quantization, while the INL\nquantiﬁes the displacement of the transition levels from their\nnominal positions.\nV\nV\nV\nprocess\nfrom Austria Micro System. It includes 8 channels of this ADC.\nThe layout is shown in Fig. 11. The dimensions of one full\nA prototype has been designed in a CMOS 0.35\nBOUVIER et al.: LOW POWER AND LOW SIGNAL 5-bit 25 MS/s PIPELINED ADC\n1199\nINL (LSB)\n\n[) 5 10 15 20 25 30\nOutput Code\n\ni i\n° Ss 190 415 20 25 30\n\nOutput Code\n\nTek Exec.\n\nDeclenche\n\n‘Bias current setllng)\n\n1.00 VQ M/400ns| A Chl FS 77.0mv\nFig. 14. Analog bias fast switching results.\noutput\ncodes\n\n<— Full ADC wakening\n\n415. {¢7~Analog bias setting ——oy}\n\n“= Response to a sine wave |\n\n1,.E-06\n\n1,E-05\n\ntime(s) 1,E-04\nFig. 12. Nonlinearity results: DNL and INL.\nPower Spectrum dBc\n\n02 03\nNormalized Frequency\n\n04\n\n0S\nFig. 15. The full ADC wakening delay from the pulsing clock edge.\nAfter the analog bias settling, there is an extra delay before\nthe full converter can work properly. Fig. 15 shows how after a\nrecovery time, the converter reacts to a sine wave input signal.\n); followed\nOne can notice the analog stages settling delay (1\n) for the full ADC, before then\nby a long recovery time (12\nthe correct output codes come out. A log time scale is used to\nemphasize the starting parasitic effect.\nFig. 13. FFT spectrum.\nIn Fig. 13 a fast Fourier transform spectrum for a 1 MHz sine\nwave input signal is shown. The frequency is presented normal-\nized to the sampling rate (25 Mhz). The dynamic range is in the\norder of 25 dB. Some larger harmonics appear at medium fre-\nquencies and this point is still to be understood.\nV. CONCLUSION\nThe design of a 5 bit 25 MS/s pipelined ADC has been pre-\nsented, featuring the low level signal required for monolithic\nactive pixel sensors. An output dynamic range of 25 dB is mea-\nsured. The typical DC power dissipation is 1.7 mW. This con-\nverter is one of the possible candidates in perspective of the fu-\nture International Linear Collider vertex detector. It includes an\nampliﬁcation sample and hold stage. A 1.5 bit/stage architec-\nture is used for the converter in a non differential conﬁguration.\nThe layout deals with the pitch of the pixels array. The size of\n. We are still working to\neach channel layout is\nreduce the length of this converter’s layout in our next version.\nA very efﬁcient fast power pulsing is integrated with this circuit\nto reduce the total DC power dissipation according to the beam\nlow duty cycle.\nFor the next ILC experiment, the beam duty cycle will be\nvery low ( 1%). It is therefore worthy to switch on the analog\npart of the circuit only when used, thus making the total power\ndissipation directly proportional to the beam duty cycle. This\ncircuit includes such a fast and efﬁcient “power ON” capability.\nThe bias settling time result is given in Fig. 14.\nFrom the falling edge of a pulsing clock, the bias current is\n. In the standby idle mode (pulsing clock\nsettled after only 1\nat high level), the full analog part of the converter is switched\nOFF and the analog power dissipation is reduced to a ratio better\nthan 1/1000.\n1200\nIEEE TRANSACTIONS ON NUCLEAR SCIENCE, VOL. 54, NO. 4, AUGUST 2007\nACKNOWLEDGMENT\n[3] S. H. Lewis et al., “10-b 20-Msample/s analog-to-digital converter,”\nIEEE J. Solid-State Circuits, vol. 27, pp. 351–358, Mar. 1992.\nThe authors would like to thank M. Winter, C. Hu, I. Valin,\nand C. Colledani from the IPHC/IN2P3 laboratory in Strasbourg\nfor this useful collaboration with them and many discussions on\ntheir MAPS design constraints.\n[4] T. B. Cho and P. R. Gray, “A 10-bit, 20-MS/s, 35-mW pipeline A/D\nconverter,” in Proc. IEEE Custom Integrated Circuits Conf., May 1994,\npp. 23.2.1–23.2.4.\n[5] B. P. Brandt and J. Lutsky, “A 75-mW, 10-b, 20-MSPS CMOS sub-\nranging ADC with 9.5 effective bits at Nyquist,” IEEE J. Solid-State\nCircuits, vol. 34, pp. 1788–1795, Dec. 1999.\n[6] D. Dzahini and H. Ghazlane, “Auto-zero stabilized CMOS ampliﬁers\nfor very low voltage or current offset,” in Proc. IEEE Nuclear Science\nSymp., Portland, OR, Oct. 20–24, 2003, Etats-Unis.\nREFERENCES\n[1] M. Winter et al., “A swift and slim ﬂavour tagger exploiting the CMOS\nsensor technology,” in Proc. Int. Linear Collider Workshop, Stanford,\nCA, Mar. 2005.\n[7] D. Dzahini, A High Speed Low Power CMOS Comparator, communi-\ncation at CERN for LARG collaboration, 1994.\n[2] Y. Degerli et al., “Mimosa-8,” IEEE Trans. Nucl. Sci., vol. 52, no. 6,\n[8] D. Dallet and J. M. Da Silva, Dynamic Characterization of Ana-\nlogue-to-Digital Converters. New York: Springer-Verlag, 2005.\npp. 3186–3193, Dec. 2005.\n']",
SXGA Pinned Photodiode CMOS Image Sensor in 035 um Technology.pdf,"[""ISSCC 2003 / SESSION 12 / CMOS IMAGERS, SENSORS AND DISPLAYS / PAPER 12.4\n12.4 \nSXGA Pinned Photodiode CMOS Image Sensor in \n0.35µm Technology\nbandwidth and the pixel correlated double sampling (CDS) tim-\ning to minimize the referred thermal and 1/f noise.  Figure 12.4.3\nshows  the  timing  of  the  pinned  photodiode  pixel.    True  CDS\nusing  the  pixel  transfer  gate  eliminates  the  kTC  noise  of  the\nsense node reset.  Additionally, the CDS serves to attenuate low-\nfrequency, noise such as source follower 1/f noise, at the cost of\nincreasing  the  thermal  white  noise  power.  The  time  between\nCDS  samples  (CDS  period)  defines  the  low-frequency  cut-off\npoint, reducing this period will attenuate the pixel 1/f noise as is\nshown in Fig. 12.4.4.\nKeith  Findlater,  Robert  Henderson,  Donald  Baxter,  J.E.D.  Hurwitz,\nLindsay  Grant,  Yvon  Cazaux1,  François  Roy1,  Didier  Herault1, \nYann Marcellier1\nSTMicroelectronics Imaging Division, Edinburgh, UK\n1STMicroelectronics Central Research and Development, Crolles, France\nCMOS imagers are well known to offer advantages of low-power,\nlow-voltage,  and  increased  integration  over  the  competing\ncharge coupled device (CCD) technology.  These benefits enable\ncost-effective  solutions  to  applications  such  as  mobile  imaging\n[1].  However, for high quality applications, the dark current and\nthe  temporal  noise  floor  in  CMOS  image  sensors  must  be\nimproved.    The  pinned  photodiode  pixel  [2],  commonly  used  in\nCCDs,  can  bring  these  performance  improvements  to  CMOS\nimagers while retaining the advantages of increased circuit inte-\ngration.\nAdditionally, limiting the column bandwidth by increasing sam-\nple and hold capacitance reduces the pixel white noise contribu-\ntion and the sampling noise.  In this design, the timing between\nCDS samples is minimized while still allowing for complete set-\ntling.    An  extra  bandwidth  limitation  comes  from  connecting\nboth sample capacitors to the column for the first CDS sample.\nAny further reduction in white noise costs area, as larger capac-\nitors  are  required,  and  also  power,  in  order  to  settle  in  the\nrequired time with the larger capacitance.  This design employs\na CDS period of 1µs with a column capacitor of 1pF.  The pixel\nreferred  sample  and  hold  kTC  noise  is  therefore  3.5  electrons.\nThe comparator pre-amp bandwidth is limited to 140kHz to min-\nimize its input referred thermal noise to 80µV (3 electrons).\nTo bring the full benefit of the pinned photodiode pixel type elim-\nination of kTC noise, the readout noise floor must be minimized.\nColumn  parallel  analog-to-digital  converters  (ADCs)  allow  low\nbandwidth readout amplifiers to be used.  This is a key advan-\ntage of the column-parallel ADC approach over the use of a wide\nbandwidth single output amplifier such is in CCDs or single ADC\nCMOS imagers [3].  \nThe table of Fig. 12.4.5 gives the performance data from the sen-\nsor.  A pixel size of 5.6 by 5.6µm is used to give a 1/2 inch optical\nformat.  The vertical fixed pattern noise (FPN) of 135µV is very\nlow and is not noticeable over the analog gain range (0-24 dB).\nThe ADC noise floor is 140µV (~7 electrons), however the image\nnoise is limited by low frequency noise from the pixel source fol-\nlower  itself,  resulting  in  a  read  noise  of  14  electrons  (340µV).\nUsing on-chip test circuitry with dummy pixels with 16 times the\nsource follower area, but the same W/L ratio  and current, 145µV\nis measured.  Measurements confirm that the raised noise floor\nis  due  to  higher  than  expected  pixel  source  follower  noise  (Fig.\n12.4.4).   The dark current is considerably lower than in previ-\nously published 3T-pixel CMOS imagers [1,4].  Further reduction\nof  the  dark  current  and  pixel  noise  continues.   As  the  readout\nnoise is not the limiting factor, a noise floor close to 7 electrons is\nbelieved achievable.  Figure 12.4.5 shows an example image from\nthe sensor and Fig. 12.4.6 depicts the die micrograph.\nFigure 12.4.1 shows the architecture of the column-parallel read-\nout ADC imager.  The column is composed of a sample and hold\nstage, comparator, and 11b ADC memory.  Single-slope ADC con-\nversion is performed by a voltage ramp to the comparator inputs\nas  a  counter  drives  the  random  access  memory  (RAM).  The\ncounter value is stored when the individual column comparator\nswitches [1].  A ramp generator provides 2 ramps simultaneous-\nly to allow analog white noise balance and which also minimizes\nquantization noise in the blue channel where the signal is lower.\nThe sensor uses a Bayer pattern color filter array (CFA). To avoid\ncolumn mismatch in the green channel which causes a fixed pat-\ntern noise, the green ramp and pixel data are always converted\nby  odd  columns;  a  multiplexor  ensures  that  the  correct  pixel\ncolor is connected to the appropriate column for each line. While\na  mismatch  is  still  present  between  the  green  channel  and  the\nother  two  colors,  this  is  automatically  corrected  by  automatic\nwhite balance during color image reconstruction.\nReferences \n[1] J. Hurwitz et al, “Miniature Imaging Module for Mobile Applications,”\nISSCC Digest of Technical Papers, pp. 90-91, 2001.\n[2] B. Burkey et al, “The Pinned Photodiode for an Interline-Transfer CCD\nImage Sensor,” IEDM 1984,  pp 28-31 \n[3]  L.  J.  Koslowski,    “Theoretical  Basis  and  Experimental  Confirmation\nWhy  a  CMOS  Imager  is  Superior  to  a  CCD,”  Proceedings  of  SPIE,\nOrlando, Apr. 1999, pp.388-396.\n[4]  J.  Hurwitz  et  al,  “A 35mm  Film  Format  CMOS  Image  Sensor  for\nCamera-Back Applications,”  ISSCC  Digest  of  Technical  Papers,  p  48-49,\n2002.\nOne  of  the  perceived  drawbacks  of  the  column  parallel  ADC\napproach is the area overhead.  To save die size, a 3-transistor\ndynamic RAM (DRAM) (Fig. 12.4.2) is used for the column ADC\nmemory rather than static RAM.  The DRAM requires no addi-\ntional  process  steps  and  occupies  only  120µm  for  two  banks  of\n11b per column.  Because of the progressive scan operation of the\nsensor, the RAM is only required to hold for 1 line time, therefore\nretention time is much less of a problem than in normal DRAM\ncircuits.  The read and write power at 48MHz of the DRAM is <2\nmW.    This  readout  rate  permits  30frames/s  operation  at  SXGA\nresolution  (1280x1024).    The  sensor  also  supports  sub-sampled\nand window-of-interest VGA modes.  \nThe readout noise is composed of the following: thermal and 1/f\nnoise of the pixel source follower, kT/C noise of the sample-and-\nhold  for  the  ADC,  the  thermal  noise  of  the  ADC  comparator,\nnoise  on  voltage  references  and  supplies  and  the  quantization\nnoise of the ADC.   At low light levels, where the analog gain of\nthe ADC is high (i.e. the ramp step size is small), the quantiza-\ntion  noise  is  negligible.    Remaining  is  the  design  of  the  ADC\n•  2003 IEEE International Solid-State Circuits Conference\n0-7803-7707-9/03/$17.00                     ©2003 IEEE\nISSCC 2003 / February 11, 2003 / Salon 1-6 / 2:45 PM\n||None|None|None|None|Figure 12.4.2: In-column DRAM circuit.|None|None|\n||None|None|None|None|None|None|None|\n|Figure 12.4.1: Column read-out schematic.|None|None|None|None|None|None|None|\n||None|None|None|None||None|None|\n||None|None|None||Figure 12.4.4: Simulated and measured read noise.||12|\n|Figure 12.4.3: Pixel timing.|None|None|None||None|None|None|\n|None|None|None||||None||\n||None|None||||None|None|\n|Technology 0.35µm 1P3M CMOS Color Bayer pattern CFA with mic Analog supply 2.8V Digital supply 1.8V Analog power 75mW at 24MHz Digital power 4.5mW at 24MHz Image format 1280 x 1024 (SXGA) Pixel size 5.6 x 5.6mm Maximum pixel rate 48MHz (30rames/s SXGA) ADC resolution 11b RMS ADC read-out noise 140µV RMS vertical FPN 135µV Image read noise 340µV (14 electrons) Full-well capacity (linear) 20,000 electrons Sensitivity at ADC input 26µV/electron Dark current at 25°C 40pAcm-2 Dynamic range (1 line exposure) 63dB Sensitivity at 550 nm 1.4Vlux-1s-1|None|None|||None||None|\n|None|Technology|0.35µm 1P3M CMOS||None|Figure 12.4.6: Example SXGA image from sensor.||None|\n|None|Color|Bayer pattern CFA with mic|rolens|None|None|None|None|\n|None|Analog supply|2.8V||None|None|None|None|\n|None|Digital supply|1.8V||None|None|None|None|\n|None|Analog power|75mW at 24MHz||None|None|None|None|\n|None|Digital power|4.5mW at 24MHz||None|None|None|None|\n|None|Image format|1280 x 1024 (SXGA)||None|None|None|None|\n|None|Pixel size|5.6 x 5.6mm||None|None|None|None|\n|None|Maximum pixel rate|48MHz (30rames/s SXGA)||None|None|None|None|\n|None|ADC resolution|11b||None|None|None|None|\n|None|RMS ADC read-out noise|140µV||None|None|None|None|\n|None|RMS vertical FPN|135µV||None|None|None|None|\n|None|Image read noise|340µV (14 electrons)||None|None|None|None|\n|None|Full-well capacity (linear)|20,000 electrons||None|None|None|None|\n|None|Sensitivity at ADC input|26µV/electron||None|None|None|None|\n|None|Dark current at 25°C|40pAcm-2||None|None|None|None|\n|None|Dynamic range (1 line exposure)|63dB||None|None|None|None|\n|None|Sensitivity at 550 nm|1.4Vlux-1s-1||None|None|None|None|\n|None|None|None||None|None|None|None|\n|Figure 12.4.5: Table of sensor performance data.|None|None||None|None|None|None||12|||• 2003 IEEE International Solid-State Circuits Conference 0-7803-7707-9/03/$17.00 ©2003 IEEE||||Figure 12.4.7: Die micrograph of the fabricated sensor.||\n|||\n|||12\n•  2003 IEEE International Solid-State Circuits Conference\n0-7803-7707-9/03/$17.00                     ©2003 IEEE\nauto-zero\n\ncolumn\n\ne\nH posrmp negrmp '\n\n' ramp gray —_——\n‘ generator counter readout\n\nSensor data out\n\nFigure 12.4.1: Column read-out schematic.\n•  2003 IEEE International Solid-State Circuits Conference\n0-7803-7707-9/03/$17.00                     ©2003 IEEE\nbitline\n\naa\n\nwrite (from compartaor)\n\n.\n\nread (from X—decode)\n\nreference\n\nwrite driver/\n\nprecharge\n\nADC bit\n\nclock\nFigure 12.4.2: In-column DRAM circuit.\n•  2003 IEEE International Solid-State Circuits Conference\n0-7803-7707-9/03/$17.00                     ©2003 IEEE\nread\n\nreset\n\ncdsblk\n\ntransfer\n\ncdssig\n\nCDS period\nFigure 12.4.3: Pixel timing.\n•  2003 IEEE International Solid-State Circuits Conference\n0-7803-7707-9/03/$17.00                     ©2003 IEEE\nRMS noise (UV)\n\n260\n\n240\n\n220\n\n200\n\n180\n\n160\n\n140\n\n120\n\n100\n\n80\n\n0.5\n\n0\n1\n2\n\nak\n\n5 pF column capacitor\n0 pF column capacitor -\nO pF cglumn capacitor\nI pF measured device =+-~\n\n1.5\nCDS period (us)\n\n2.5\n\nFigure 12.4.4:  Simulated and measured read noise.\n•  2003 IEEE International Solid-State Circuits Conference\n0-7803-7707-9/03/$17.00                     ©2003 IEEE\n0.35µm 1P3M CMOS\nBayer pattern CFA with microlens\n2.8V\n1.8V\n75mW at 24MHz\n4.5mW at 24MHz\n1280 x 1024 (SXGA)\n5.6 x 5.6mm\n48MHz (30rames/s SXGA)\n11b\n140µV\n135µV\n340µV (14 electrons)\n20,000 electrons\n26µV/electron\n40pAcm-2\n63dB\n1.4Vlux-1s-1\nTechnology\nColor\nAnalog supply\nDigital supply\nAnalog power\nDigital power\nImage format\nPixel size\nMaximum pixel rate\nADC resolution\nRMS ADC read-out noise\nRMS vertical FPN\nImage read noise\nFull-well capacity (linear)\nSensitivity at ADC input\nDark current at 25°C \nDynamic range (1 line exposure)\nSensitivity at 550 nm\nFigure 12.4.5:  Table of sensor performance data.\n•  2003 IEEE International Solid-State Circuits Conference\n0-7803-7707-9/03/$17.00                     ©2003 IEEE\nGretagMacbeth™ ColorChecker Co\nFigure 12.4.6:  Example SXGA image from sensor.\n•  2003 IEEE International Solid-State Circuits Conference\n0-7803-7707-9/03/$17.00                     ©2003 IEEE\nFigure 12.4.7:  Die micrograph of the fabricated sensor.\n•  2003 IEEE International Solid-State Circuits Conference\n0-7803-7707-9/03/$17.00                     ©2003 IEEE\n""]",
"Very Sensitive, Low Noise, Active Reset CMOS Image Sensor with In-Pixel ADC.pdf","['This article has been accepted for publication in a future issue of this journal, but has not been fully edited. Content may change prior to final publication. Citation information: DOI 10.1109/TCSII.2016.2539058, IEEE\nTransactions on Circuits and Systems II: Express Briefs\nVery Sensitive, Low Noise, Active Reset CMOS \nImage Sensor with In-Pixel ADC \nA. Spivak, A. Belenky, and O. Yadid-Pecht, Fellow, IEEE \nof detecting a single photon [5] is one of the most common solutions \nfor  ultra-sensitive  sensors.  A  single  photon  fallen  onto  SPAD  can \ntrigger a self-sustained avalanche event, which is transformed into a \nvoltage  spike,  recorded  by  registers.  The  higher  the  light  intensity, \nthe higher the number of spikes latched into the memory. However, \nthe  exceptional  SPAD  sensitivity  comes  at  expense  of  an  increased \npower  supply  needed  for  generating  the  above  breakdown  electrical \nfield. Though, recent advances of technology allowed for substantial \npower supply decrease, it is close to 5V, which is substantially higher \nthan  the  typical  power  supply  voltages.  This  complicates  the  sensor \nstructure  and  increases  the  power  budget  for  the  SPAD  based \nsolutions. SPAD is also susceptible to dark current, which generates a \nfinite  undesired  switching  rate,  reducing  of  which  necessitates \nlowering  an  excess  voltage  over  the  detector,  thus  affecting \nnegatively its detection probability. \nAbstract—  Low  light  imaging  is  being  researched  intensively. \nThe  applications  of  increased  sensitivity  sensors  expand  to \nBioMed,  security  and  communications  providing  low  cost  and \neffective  alternatives  to  common  imaging  techniques  based  on \nmicroscopes, intensifiers  etc.  Lowering the inherent noise floor \nand  achieving a  higher sensitivity in CMOS sensor  are found at \nthe  focus  of  the  scientific  society  and  new  solutions  emerge  fast. \nMethods  like  output  averaging,  active  reset  (AR),  and  active \ncolumn sensing (ACS) lower the noise floor but fail to provide the \nsensitivity  boost,  which \nsignal \namplification.  The  already  proposed  solutions,  combining  high \ngain  and  noise  suppression  still  fall  short  of  the  sensitivity  that \nwould  enable  detecting  a  few  electrons.  This  work  proposes  a \nvery sensitive pixel, designed to capture an ultra-low illumination \nusing  three  stage  amplifiers’  configuration,  which  allows  for  an \neffective reset operation and in-pixel analog to digital conversion \n(ADC).  The  provided  measurement \nthe \nfunctionality  of  the  proposed  pixel  architecture,  indicating  a \nremarkable  sensitivity  of  355V/lux*sec  and  detection  limit  of  3 \nelectrons, achieved consuming only 6uW per pixel.    \nsubstantial \nrequires \na \n     Alternatively,  an  open  loop  amplifier  can  be  accommodated \ninside  a  pixel  [6].  This  solution  not  only  possesses  an  active  reset, \nwhich  lowers  its  noise  floor,  but  not  less  important,  the  available \nsignal boost is much more substantial than in pixels based upon the \nclosed  loop  amplification.    In  the  aforementioned  work,  the  authors \nused  a  common  source  (CS)  amplifier  for  self-reset  and  for  signal \nboost. However, the achieved gain was comparable to CTIA and the \nFPN  was  relatively  high.  Thus,  to  achieve  a  low  noise  and  high \nsensitive  system,  we  propose:  a)  to  perform  the  AR  using  a \ndifferential amplifier for the external control of the reset level; b) to \nuse the same stage as a preamplifier for the further sensitivity boost, \nprovided  by  the  subsequent  cascaded  inverting  amplifiers;  c)  to \naverage the pixel output for the further noise reduction. \nresults  prove \n \nIndex  Terms—Active  Reset,  Active  Column  Sensor,  ADC, \nCMOS, Fixed Pattern Noise, image sensor, low noise, reset noise \n \nI.  INTRODUCTION \nB \nioMed,  Bio-Mechanics,  Biology  are  ones  of \nthe  main \nbeneficiaries  of  state  of  the  art  CMOS  image  sensors.  Low \nlow  cost  sensors  embedded  with  sophisticated \npower, \nprocessing  circuitry  allow  very  sensitive  and  high  speed  optical \nsignal detection [1]. Sensor sensitivity is crucial in a wide variety of \nBio-Mechanical  applications,  where  medical \nresearches  and \nprofessional  sport  teams  are  looking  for  monitoring  biological \nactivity  within  live  tissues,  muscles,  the  light  emission  of  which  is \nextremely low.  \nThis work presents a modification of the AR technique, which in \naddition to low noise performance is aimed to reach a sensitivity of \n300-400V/Lux*sec.  the  proposed  pixel  architecture  is  based  upon \nthree stage amplifiers’ configuration: 1) differential amplifier for self-\nreset and signal boost; 2) & 3) single ended amplifiers for performing \nan  analog  to  digital  conversion  (ADC).  The  presented  design  was \nimplemented  and  measured  experimentally.  Herein,  we  characterize \nthe  prototype  performance  from  a  single  pixel  behavior  to  a  final \nimage capture.  \nIn  the  past,  high  sensitivity  imaging  was  performed  using  bulky \nequipment  scanning  microscopes,  intensifiers,  Charge  Coupled \nDevices  (CCD)  cameras.  Development  of  CMOS  Image  Sensors \n(CIS) pushed the performance limits and allowed  for light detection \nwith  no  intensifiers  added.  The  simplest  method  to  increase  the \nsensitivity  is  to  design  a  pixel  with  a  high  conversion  gain,  which \nmeans to decrease the sensing node capacitance  [2]. This solution is \nsimple,  but  results  in  a  sensitivity  still  below  10V/Lux*sec  if \npreserving a decent frame rate.  \n In  the  experimental  verification  process,  we  came  across  some \ninteresting  tradeoffs,  concerning  the  sensitivity,  and  signal  to  noise \nratio (SNR). Therefore, we present a mathematical model, connecting \nthese  two  parameters,  with  which  the  designers  can  obtain  the \noptimal  balance  between  the  signal  amplification  and  the  picture \nquality.  The  subsequent  paper  chapters  are:  Schematic  Design  & \nLayout, where the overall sensor structure, reset configuration, pixel \nconsiderations  and  layout  are  discussed;  Simulation  Results,  where \nwe present the anticipated pixel performance; Experimental Results, \nwhere  we  present  the  measured  figures  of  merit  (FOMs),  and \nConclusions- is the section, which summarizes the study. \nFurther  sensitivity  increase  necessitates  an  active  amplification. \nOne  of  the  most  efficient  solutions  is  to  use  a  pixel  comprising  a \nCapacitive  Trans-Impedance  Amplifier  (CTIA)   [3].  Such  a  solution \nimplies both active reset (AR) for the KTC noise suppression [4] and \na sensitivity boost, proportional to the ratio between the photo-diode \nand  the  feedback  capacitances.  There  are  two  adverse  points:  1)  the \nreset level is implied by the DC point of the single ended amplifier; \n2) the capacitance ratio is bounded by the magnitude of the feedback \ncapacitance.  If  this  ratio  is  too  small,  it  causes  a  substantial  Fixed \nPattern  Noise  (FPN),  or  makes  the  pixel  susceptible  to  the  parasitic \ncharge injections. \nII.   SCHEMATIC DESIGN & LAYOUT  \nA.  Sensor Structure \n \nThe implemented sensor comprises 32 by 32 Low noise Digital \nPixels’ Array, Row Decoder coupled with Row Logic blocks, and \nColumn Decoder block for information readout (Fig. 1). \nThere  are  a  couple  of  methods  to  increase  the  signal  boost.  For \ninstance, Single Photon Avalanche Diode (SPAD), a device capable \nCopyright (c) 2016 IEEE. Personal use of this material is permitted. However, permission to use this material for any other purposes must be \nobtained from the IEEE by sending an email to pubs-permissions@ieee.org \n1549-7747 (c) 2015 IEEE. Personal use is permitted, but republication/redistribution requires IEEE permission. See http://www.ieee.org/publications_standards/publications/rights/index.html for more information.\nThis article has been accepted for publication in a future issue of this journal, but has not been fully edited. Content may change prior to final publication. Citation information: DOI 10.1109/TCSII.2016.2539058, IEEE\nTransactions on Circuits and Systems II: Express Briefs\n> REPLACE THIS LINE WITH YOUR PAPER IDENTIFICATION NUMBER (DOUBLE-CLICK HERE TO EDIT) < \n2 \n \nadjustment  to  eliminate  the  complimentary  phase  in  the  access  and \nactive reset and switches. \n8bits\n  \n2bit Column\nDecoder\nAVDD\np\nm\na\nR\nt\ns\nr\nV\n|||||M6\nM5\nRow_S\nD1\nD2\ns\nu\nB\n_\nl\no\nC\nr\ne\nd\no\nc\ne\nD\nw\no\nR\nAmp\nc\ng\no\nL\nw\no\nR\nS_AR\ni\n32 x 32  Low \nNoise APS\nM1\nM2\nBias_1\nS\n \n \nPD1\nRef\nCas_N\nM3\n \nt\ni\nb\n5\nBias_0\nM4\nPixel\n \nFig. 1.   Overall sensor architecture \n \n \nThe pixels’ array operates in a rolling shutter mode, controlled by \nthe  Row  Logic  block,  which  asserts  the  corresponding  command  to \nthe designated row by ANDing it with the Row Decoder select signal. \nEach row commences the photo-induced charge integration applying \nthe  active  reset  (AR).    As  a  certain  row  finalizes  the  integration \nphase,  it  is  selected  for  a  single  slope  ADC,  which  is  performed \ncompletely  inside  the  pixel.  At  the  same  time,  by  means  of  the \nColumn Decoder, groups, consisting of eight pixels, are selected and \nwired to the 8bit bus Out (Fig. 1), which is connected to the eight off-\nchip 8  bits  counters.  The  in-pixel  ADC  generates  a  trigger  once  the \nreference  meets  the  analog  pixel  level,  thus  creating  a  8  bits  digital \nword, which is further transferred to the screen. The analog voltages, \nsuch  as  reference  and  biases,  required  for  pixel  operation  are \ngenerated off-chip and are fed externally to the chip core.  \nFig. 2.   Low noise, high sensitivity pixel schematic \n \nC.  Active Reset Using a Single Operational Amplifier \n \nThe  pixel  array  operates  in  a  rolling  shutter  method,  when  each \nrow  is  reset,  let  to  integrate  and  then  digitized.  To  ensure  smooth \noperation  of  the  array,  the  pixel  reference  terminal  Ref  is  driven \nthrough the Row Logic block. As long as the pixel is unselected, the \nlogic  block  asserts  a  constant  reset  voltage  Vrst.  Once  the  pixel \nselected  either  for  reset  or  for  ADC,  the  node  Ref is  connected  to  a \ntime  varying  signal  Ramp  (Fig.  1).  This  way,  the  gate  potentials  of \nM2  (Fig.  2)  inside  the  unselected  rows  are  well-defined  throughout \nthe frame and the, undesired pixels’ output switching are prevented.  \n During the reset phase of the i-th row, the Ramp signal becomes \nequal  to  the  reset  level  Vrst.  After  the  Row  Logic  block  asserts  this \nlevel to the node Ref, the signal S_AR is pulsed high, connecting the \nphoto-diode  PD  to  the  D1  node  (Fig.  2).  The  formed  unity  gain \nconnection  of  the  differential  stage,  forces  the  node  PD  to  become \nequal to the Ref level. Neglecting the parasitic feedback capacitances \nand  the  reset  switch  trans-conductance  [4],  the  KTC  noise  maximal \ninjections converge to: \nB.  Pixel Structure \n \nIn previous work  [1], one of the conclusions was that it would be \nbeneficial  to  accommodate  high  gain  amplifiers  facilitating  the \nActive Reset (AR) operation entirely inside the pixel. This way, the \npixel  will  be  substantially  less  susceptible  to  the  coupling  effects, \nrising from sharing analog busses within a single column. In addition, \nwe  found  that  switching  of  amplifiers’  configuration  negatively \naffects  the  signal  integrity  due  to  abrupt  shifts  in  a  DC  operating \npoint  of  the  pixel  readout  circuitry.  These  findings  were  adopted  as \nguidelines in our current design. \nkT\nA C\ndiff\n                              (1) \nσ =\nkTC\nPD\n,  where  k  is  the  Boltzman  Constant,  T  is  the  photo-diode  ambient \ntemperature, and  CPD is the photo-diode capacitance, and  Adiff is the \nopen loop gain of the differential stage. Resetting the photo-diode to \na  predetermined  level,  set  by  the  analog  bus  Ref,  provides  an \nadditional degree of freedom in tuning the pixel response, optimizing \nit for maximal gain dc operating point, contrarily to reset performed \nusing a single input amplifier  [3], [6], where the reset level is dictated \nby  the  current  equilibrium  throughout  the  stage.  Moreover,  using  a \nsingle stage amplifier  for the active reset operation yields a positive \nphase  margin  (PM),  approaching  90o  eliminating  a  need  for  a \nfrequency compensation network. \nThe  pixel  in  Fig.  2  consists  of    photo-diode  (PD),  AR  switch, \nactivated  by  S_AR  signal,  driven  by  the  Row  Logic  block  (Fig.  1); \ndifferential  amplifier  (M1-M6);  Amp-  two  cascaded  common  source \namplifiers;  an  access  switch  to  Column  Bus,  activated  by  Row_S \nsignal. In addition to high and low power supplies AVDD and ground, \nwe need three voltages, namely: Bias_0, Cas_N, and Bias_1. Bias_0 \ncontrols  the  gate  of  M4  that  sinks  the  current  from  the  differential \npair  M1,  M2,  whereas  Cas_N,  controls  the  cascode  transistor  M3, \nwhich increases the overall sink resistance at the point  S, and levels \nup the common mode rejection ratio (CMRR). Transistors M5 is the \nfirst  stage  output  (D1),  biased  by  the  diode  connected  transistor M6 \n(D2).  The  next  two  stages  inside  the  Amp  unit  are  biased  by  the \nBias_1  line.  All  the  bias  voltages  are  generated  on  the  chip  test-\nboard. \nD.  Charge Integration & In-Pixel ADC \n \nThe  integration  commences  as  S_AR  signal  goes  low.  The  PD \ndischarges  with  accordance  to  falling  light  intensity.  Whilst  the \nvoltage  of  PD  decreases,  the  terminal  Ref,  shared  by  the  entire  row \nremains  constant  till  ADC  phase  starts.  Therefore,  the  amplifier \nanalog level and the Amp unit (Fig. 2) output are of no importance at \nthis stage.  \nTotal transistor count is 14, which results to a relatively large pixel \nsize  of  30um  x  30  um.  However,  in  the  future  the  designers  plan \nusing  a  pinned  photodiode  (PPD),  which  will  enable  to  share \neffectively  the  amplification  and  ADC  circuitry  among  4  or  more \nadjacent  pixels  [7].  Further  optimization  will  involve  pixel  output \n \n1549-7747 (c) 2015 IEEE. Personal use is permitted, but republication/redistribution requires IEEE permission. See http://www.ieee.org/publications_standards/publications/rights/index.html for more information.\nThis article has been accepted for publication in a future issue of this journal, but has not been fully edited. Content may change prior to final publication. Citation information: DOI 10.1109/TCSII.2016.2539058, IEEE\nTransactions on Circuits and Systems II: Express Briefs\n> REPLACE THIS LINE WITH YOUR PAPER IDENTIFICATION NUMBER (DOUBLE-CLICK HERE TO EDIT) < \n3 \n \ncomparator for performing the ADC. \nADC  phase  is  performed  in  a  row-by-row  after  the  integration \nperiod  elapsed.  At  this  stage,  differential  and  the  Amp  stages  form \nhigh  gain  comparator,  driving  the  Column  Bus.  Note  that  the \ncomparator configuration is inherent and no switching is required to \nperform  the  ADC.  We  chose  the  simplest  form  of  conversion-  a \nsingle  slope  ADC,  performed  by  a  monotonously  climbing  signal \nRamp  (Fig.  1).  Prior  the  conversion,  the  reference  signal  Ramp  is \nreset  initializing  the  comparator  output  to  a  “low”  state.  Then,  the \nreference  starts  climbing,  spanning  the  available  PD  range.  The \nmoment,  the  Ramp,  crosses  the  PD  level,  the  comparator  flips  its \noutput  to  a  “high”  state.    This  change  of  state,  through  the  Column \nDecoder  is  delivered  to  a  corresponding  register,  stamping  the \ngenerated  so  far  digital  count  into  registers  located  at  the  periphery \n(Fig.  1).  The  generated  digital  word  is  streamed  to  the  screen  to \nobtain the final image. \n \n4*stagePhase (a)\nPM=75deg. ;\n7S. :\n\n180\n1st stage Phase\nPM=75deg.\n(a)\n75\n0\n35\ndB\n(b)\n1st Stage Gain\n0\n-20\n50\n(c)\nAmp Gain\n0\ndB\n-38\n8\n10\n3\n5\nHZ\n1\n10\n4*10\nFig. 3 a,b,c.  AC pixel response: a) Phase of the 1st stage; b) Gain \n \nImportant  to  note  that  ADC  is  performed  4  times,  separately  for \neach  group,  which  might  rise  discrepancy  between  the  pixels,  \nexposed  to  the  same  light  intensity,  but  residing  within  different \ngroups of the scanned row. However, this issue can be resolved easily \nby  minor  adjustments  in  the  counter  values’  range.  The  counter \nvalues’ range will be rescaled by the ratio of the integration times of \neach of the  four groups to the nominal integration time. Since there \nare  four  groups  only  and  each  ADC  cycle  is  short,  the  adjustments \nare  minor. If the sensor is exposed to extreme light conditions, then \ndue to a certain dynamic range loss the proposed rescaling will cause \nsome  information  loss,  however,  since  we  aim  to  capture  mainly \nunder low light intensities, this scenario becomes out of scope. \nof the 1st stage; c) Amp gain. \n \nThe in-pixel comparator is formed by the differential amplifier and \nthe  unit  Amp  (Fig.  2).  To  attain  8  bit  conversion  resolution,  the \nminimal gain of the unit Amp had to be 256, i.e. 48dB. We succeeded \nto achieve 50dB gain by cascading two common source stages, (Fig.3 \nc). Taking into account the gain of the 1st stage, we obtained a total \namplification of 85dB. Such a boost limited the photodiode swing to \n30mV, which decreased the intrinsic SNR, as will be discussed later \non.    The  comparator  bandwidth  (BW)  of  400  kHz,  allowed  for  a \nclock  cycle  of  2.5us,  making  the  overall  conversion  time  640us. \nHowever,  we took advantage of two facts: 1) the comparator output \nflips  only  once  during  the  whole  conversion;  2)  the  comparator \noutput  changes  mostly  linearly  between  the  “low”  and  the  “high” \nstate. Therefore, we could use much faster conversion clock and then \nto compensate for the anticipated comparator delay. The chosen clock \ncycle was reduced to 200ns, resulting 52us of a total conversion time. \nA  substantial  decrease  in  the  pixel  swing  compelled  us  to  search \nfor  an  appropriate  noise  reduction.  The  main  noise  sources  are:  the \nKTC or, so called “reset” noise, photo and dark generated shot noise, \nand the readout noise, having the following standard deviations σkTC \n(1),  σphoto_shot,  σdark_shot,  σread,  respectively.  Assuming  a  signal  level \nVsig, the overall signal to noise ratio for a single capture is given by: \nE.  Layout \n \nThe pixel layout was performed  in standard 4 metals 2 poly 0.35 \num technology using area and coupling minimization techniques. The \nresulted pitch is 30um with 16.3% fill factor (FF).  \n  The photo-diode is formed by an overlap of n-well region over p-\nsubstrate. Each photo-sensing area is encircled by a p-implant guard \nring,  biased  at  ground potential, for  the  crosstalk  minimization.  The \narea,  surrounding  the  photo-diode,  was  covered  with  the  top  metal, \nshorted to the high power supply AVDD (Fig. 2), thus preventing an \nun-desired  e/h  pair  optical  generation  and  efficiently  delivering  the \npower to every pixel within the array. \n  The  control  lines  and  the  pixel  bias  buses  were  laid  to  facilitate \ndense  and  minimized  coupling  layout.  Digital  control  lines  such  as \nRS and S_AR with their complementary phases were separated from \nthe  analog  buses  i.e.  placed  in  different  pixel  regions.  Moreover, \nadjacent lines in both of the groups were implemented using Metal2 \nand  Metal3,  allowing  for  less  coupling  and  for  a  closer  placement. \nThe output bus was implemented in Metal1, laid orthogonally to the \nrest of digital and analog lines, resulting a minimal coupling between \nthem.  \nV\n             (2) \nsig\n=\n20 log\nSNR\n0\n10\n2\n2\nσ σ\nkTC\ndark\n2\nσ\n_\nphoto shot\n2\nσ\nread\n+\n+\n+\n_\nshot\n \nRelying  on  the  process  data  and  the  noise  simulations,  we  assessed \nthe noise floor to be 4e-rms. It was not satisfactory, since we wanted \nto detect signals lower than that limit. Therefore, taking into account \nthat all the noise sources are uncorrelated, we decided to sample the \npixel multiple times [8] Nav to get the following SNRav: \nN V\nav\nsig\n=\n=\n20log\n10\nSNR\nav\n(3)\n  \n \n \n(\n2\n2\nσ σ\n+\nkTC\ndark\n)\nIII.   SIMULATION RESULTS & NOISE ANALYSIS \nDuring  the  design  process,  we  performed  numerous  simulations \nboth  in  time  and  frequency  domains.  Herein,  we  would  like  to \nconcentrate  on  the  AC  simulations,  since  they  determine  the  noise \nsuppression, and the ADC precision. \n  Fig.  3  depicts  the  key  AC  characteristics  of  the  proposed  pixel. \nThe utilized reset scheme is very promising, since it allows for both \naccurate  reset  and  precise  ADC  employing  the  same  constant \namplifiers  configuration.  Since  the  reset  is  performed  using  one \namplifier,  we  obtain  a  first  order  stable  feedback  system  with \nremarkable phase margin (PM) of 750 (Fig. 3a). The gain of this stage \nis 35dB, which enables to suppress remarkably the KTC noise and to \nincrease the sensitivity by almost two orders of magnitude (Fig. 3b). \nHowever, such a high gain imposed a  gain restriction of the overall \n2\nσ\n_\nphoto shot\n2\nσ\nread\n+\n+\nN\n_\nav\nshot\n=\n+\n10log\n10\nSNR\n0\nN\nav\n \n \nUsing the derived equation, it is apparent that the minimal number of \nsamples to overcome the noise of 4 electrons is 16. \n  Averaging the noise improves not just the minimal SNR, but also \nthe  maximal  limit.  Usually,  the  shot  noise  variance,  limited  by  the \nphoton flux, is given by: \nqV\nC\n                               (4) \nmax\nσ\n=\nphoto shot\n_\nPD\n \n \n1549-7747 (c) 2015 IEEE. Personal use is permitted, but republication/redistribution requires IEEE permission. See http://www.ieee.org/publications_standards/publications/rights/index.html for more information.\nThis article has been accepted for publication in a future issue of this journal, but has not been fully edited. Content may change prior to final publication. Citation information: DOI 10.1109/TCSII.2016.2539058, IEEE\nTransactions on Circuits and Systems II: Express Briefs\n> REPLACE THIS LINE WITH YOUR PAPER IDENTIFICATION NUMBER (DOUBLE-CLICK HERE TO EDIT) < \nts = 1.2ms \nΔVi = -26.5mV \nΔV0 = 1.2V \nRamp \n4 \n“""ts=1.2ms *\nAVi = -26.5mV\nAV0=1.2V\n\n \nAV0= 450mV\nts = 1.2ms \nΔVi = -10mV \nΔV0 = 450mV \nRamp \n(a)\n(b)\n(a) \n(b) \nAVo Y\nΔVo \n \n \nAVo..\nΔVo \n) AVI :).\nΔVi \nTAVI\' 5 |\nΔVi \n \n  \n \n“Ramp\nRamp\\;\n  \n  \n  \n  \n  \nAO\nAO\nAO\nAO\nts \n \n \n \n \n_PD:.\nPD \nD1 \nS \n*D2 ‘1;\nD2 .|\n\nD2 \nD2 \n“ime:\nD1 \n“PD\':\nPD \nS \n.. Digital:\n.. Code |: j oe : » -td=2.8us. . -\n\ntADC = 52us ~\n\n(c)\n(c) \n(d)\n- Comp. -\n_ Out.\n\n(d) \nComp \nOut \n*td--\ntd \nComp \nOut \n‘Ramp ""\nRamp \nRamp :\n\nRamp \ntd \n \n \n  \n  \n  \n  \n  \n  \n- Digital : .\nCode :\n\n“*tADC =52us *”\n: Sus - - 1\n\ntADC = 52us \ntd=33us \nDigital \nCode \nDigital \nCode \n** tADC = 52us °°\n¢\n\nSus. .\n\ntADC = 52us \ntd=2.8us \ntADC \n| tADC. |\ntADC \n  \n  \n \n \n  \n  \n(e) Pixel Amplifier Output [V]\n&\n\n+ —?Measured ©\n\n—Linear Fit\n\n1 2 3 4\nIrradiance [(mW/m42]\n\nO\n\nADC Output [DN]\n\n1 2 3 4\nIrradiance [mW/m*2]\n\n(h) SNR [dB]\n\n0.01 O41 1\nIrradiance [mW/m*2]\n(2) aoc Non-Linearity [LSB]\n\nInput Voltage [V]\n\n(e) Pixel Amplifier Output [V]\n1.6\n\nos Measured\n\n—Linear Fit\n\n1 2 3 4\nIrradiance [mW/m42]\n\n0)\n\n250\n200\n150\n100\n\n50\n\nC)\n\nADC Output [DN]\n\n1 2 3 4\nirradiance (mW/m*2]\n(h) SNR [dB]\n\nenSGShsunsa\n\n0.01 o4 1\nIrradiance [mW/m*2]\n\n| (2) at\n| (e) Pi\n(h) \n(g) \n(f) \n(e) \n \n \n \n \nFig. 4. Pixel Response vs. Irradiance: a) 1.4mW/m2 ; b)3.8mW/m2;  Pixel ADC: vs. Irradiance: c) 1.4mW/m2 ; d)3.8mW/m2, e) \nDifferential amplifier output @ Nav=16 , f) ADC Output @ Nav=16 , g) ADC Non Lin. Errors @ Nav=16. h) SNR @ Nav=16 \nFig. 4. Pixel Response vs. Irradiance: a) 1.4mW/m’ ; b)3.8mW/m’*; Pixel ADC: vs. Irradiance: c) 1.4mW/m* ; d)3.8mW/m’, e)\nDifferential amplifier output @ Nav=16 , f) ADC Output @ Nav=16 , g) ADC Non Lin. Errors @ Nav=16. h) SNR @ Nav=16\n\nVolts wide starting from 0.75V and going up to 2.9V (Table I). Then, \nas integration goes on, the photodiode PD discharges by  ΔVi,  while \noutput  D1  charges  by  ΔVo,  respectively.  For  example,  under  low \nillumination,  a  photodiode  PD  discharged  by  ΔVi  of  -10mV,  while \nthe output D1 rose by 450mV, indicating a gain of 45, which is in a \ngood  agreement  with  the  predicted  value  (Fig.  4  a,  b).    We  can \nobserve  that  right  after  the  reset,  D1  deviates  by  200  mV  from  the \nanticipated  reset  value.  This  happens  due  the  amplified  parasitic \ncharge  injections  inflicted  by  the  active  reset  feedthrough  onto  the \nPD. The injections’ spatial variance on D1 was assessed to be 6.7mV, \nwhich makes it the major offset FPN source (Table I). In the future, \nthe  offset  component  will  be  reduced  employing  the  pinned \nphotodiode  (PPD)  structure,  which  will  enable  for  the  correlated \ndouble sampling (CDS). The measured gain FPN component (Table \nI),  indicates  a  spatial  variance  in  an  open  loop  of  the  in-pixel \namplifier, which can be minimized by careful transistor sizing.  \n  Feasibility  of  the  in-pixel  ADC  was  verified  using  an  external \nvoltage generator (Fig. 4 c, d). To prevent glitches on the ramp along \nits path from the generator to the in-pixel comparator, we decoupled \ncarefully  the  relevant  bus  inside  our  prototype,  minimized  the \nswitching activity on the test board, and picked the generator with an \nappropriate driving force. Each ADC phase starts as soon as both the \nsignal Ramp and the comparator output Comp Out go low. Note, the \nlower and the upper bounds of the Ramp are set according to the PD \nswing.  Following  the  reset,  the  reference  climbs  monotonously, \nspanning the PD signal. The higher the illumination, the lower is the \nPD  level,  thus  we  anticipate  the  Ramp  to  reach  the  input  faster. \nComparing Fig. 4 c and Fig.4 d, we conclude that the decision time td \nshortens from 33us to 2.8us, corresponding to the input illumination \nincrease from 35% to 95% of the saturating intensity, respectively. It \ncan be also observed that the Digital Code switching stop is perfectly \naligned with the comparator decision. Each positive comparator pulse \nlatches  the  corresponding  Digital  Code  into  off-board  registers.  For \ninstance, under low conditions light the latched Digital Code is logic \n     \n,where  q  is  the  elementary  electron  charge  and  Vmax  is  the  maximal \nphotodiode signal range, which is decreased if a signal boost is used. \nOn  the  other  hand,  sampling  the  pixel  multiple  times  increases  its \neffective  signal,  thus  compensating  for  the  gain  induced  swing \nreduction. So, taking the amplification and the averaging effect into \naccount, we obtain the following SNRmax limit: \nN C V\nav\nPD\nqA\n                               (5) \nmax\n=\n20 log\nSNR\nmax\n10\ndiff\nConsequently,  there  is  a  tradeoff  between  the  sensitivity  boost  and \nthe  final  picture  quality.  The  possible  solution  to  attain  a  high \nsensitivity  and  feasible  SNR  is  to  increase  the  number  of  captures, \nbut this step can compromise the sensor frame rate. \nIV.  MEASUREMENTS RESULTS \n \nThe  fabricated  pixel  was  tested  for  the  conceptual  functionality \nstarting from the DC operating points of its components through the \nreset  feasibility  to  ADC,  leaving  capturing  of  an  image  to  a  later \nresearch stage. After the DC points were established, we measured a \nsample  pixel  response  to  illumination.  Using  an  on-chip  unity  gain \nopamp AO (Fig. 4 a, b), we scanned the pixel points of interest S, D1, \nD2, and PD (Fig. 2). For convenience of presentation, we provide a \nsample  pixel  response  to  three  regions  of  illumination  relative  to \nsaturation: low ~35%; and high ~95%, i.e. 1.4mW/m2 and 3.8mW/m2 \nrespectively.  The scan of each point started with an active reset and \nlasted for ts. Points S and D2, representing constant bias points inside \nthe  pixel,  as  expected,  were  independent  of  the  illumination  level \n(Fig. 4 a, b). On the other hand, points PD and D1 representing the \ninput  and  output  of  the  differential  amplifier,  changed  according  to \nthe incoming illumination. Right after the reset, we can observe that \nPD converges to the reference level Ramp (0.93V).  The chosen reset \nlevel is on the lower end of the input common range, which is over 2 \n \n1549-7747 (c) 2015 IEEE. Personal use is permitted, but republication/redistribution requires IEEE permission. See http://www.ieee.org/publications_standards/publications/rights/index.html for more information.\nThis article has been accepted for publication in a future issue of this journal, but has not been fully edited. Content may change prior to final publication. Citation information: DOI 10.1109/TCSII.2016.2539058, IEEE\nTransactions on Circuits and Systems II: Express Briefs\n> REPLACE THIS LINE WITH YOUR PAPER IDENTIFICATION NUMBER (DOUBLE-CLICK HERE TO EDIT) < \n5 \n \n“1” (Fig. 4 c), whilst under the high illumination the resulted value is \n“0” (Fig. 4 d). \nbits (Fig. 5b). Nevertheless, this image falls by 1 bit from the resulted \n8 bits resolution of the highly sensitive array (Fig. 5c). The proposed \nsensor successfully captured the bright region of the laser beam and \nthe dark ones, which generated a few electrons per capture.  \nTable I \nMEASURED CHIP CHARACTERISTICS \nValue \n|Pixel Figure of Merit|Value|\n|Process|2P, 4M, 0.35 µm|\n|Pixel area|30x30 [µm2]|\n|FF|16.3%|\n|Input Common Range|0.75V-2.9V|\n|Conv. Gain|26 µV/e-|\n|Power Sup.|3.3V|\n|Power per pixel|6µW|\n|N. Floor @ no averaging|4 e- rms|\n|Photodiode Swing|28mV|\n|DR @ 16 Av. Cycl.|58dB|\n|SNR @ 16 Av. Cycl.|43dB|\n|Sensitivity [V/lx*s]|355|\n|Offset, Gain FPN|0.65%, 0.75%|\n|Det. Limit @ 16 Av. Cycl.|3e-|\n|Max. ADC resolution|8 bit|\n|Overall Gain|84dB|\n|Row Exposure time|1.2ms|Table III \nNOISE DISTRIBUTION THROUGHOUT THE DYNAMIC RANGE [E-RMS]  \n33uW/m^2 \n3.5 \n5 \n1 \n6 \n||4.2uW/m^2|33uW/m^2|330uW/m^2|3.9mW/m^2|\n|KTC|3.5|3.5|3.5|3.5|\n|Shot (ph.& d)|2.5|5|12.5|36.5|\n|Read|1|1|1|1|\n|Total|4|6|13|37|KTC \nShot (ph.& d) \nRead  \nTotal \nV.  CONCLUSIONS \nWe  report  a  highly  sensitive  pixel  with  active  reset  using  a \ncascaded amplifiers topology. The first amplification stage is used for \nthe  active  reset  and  for  a  preliminary  signal  boost,  which  is \nequivalent  to  a  similar  sensitivity  increase.  The  active  reset, \nimplemented with a single switch, and the reuse of a single amplifier \nfor the reset and the sensitivity boost were proved to be feasible and \nfunctional.   Subsequent two CS stages provide an additional gain to \nresolution.  Reported \nperform \ntheoretical \nmeasurements’ \nassessments.  The  primary  advantage  of  the  designed  system  is  the \nability  to  sense  ultra-low  optical  signals  due  to  an  exceptional  open \nloop gain of 84dB (Table I),  which enabled to  achieve a very high \nsensitivity  and  to  span  the  amplified  signal  with  a  sufficient  ADC \nresolution. The advantages over SPAD are: active reset minimizes the \nnumber of averaging cycles, causing the switching rate and thus the \npower to drop, while achieving remarkable sensitivity. Further work \nis  to  include  a  PPD  based,  scaled  down  pixel,  featuring  a  selective \npower down, and utilizing a shared amplification and ADC structure. \nUsing these improvements, and maintaining parallel data readout the \npixel size and the power will be reduced, while the image resolution \nand sensor operating speed will be extended. \nsufficient \nthe  ADC  with  a \n \nresults  agree  with \nthe  provided \n \nWe also verified the overall ADC and SNR array performance. For \nthe  sake  of  uniformity,  we  present  the  ADC  and SNR  measurement \nwith averaging for 16 cycles. We started by measuring the linearity of \nthe differential amplifier, which was found to be linear by 98% (Fig \n4e). The overall ADC response (Fig. 4f) was in close agreement with \nthe  response  of  the  differential  amplifier.  Averaging  of  the  samples \nimproved  substantially  the  ADC  non  linearity  errors,  reducing  both \nthe  differential  and  integral  non  linearity  (DNL,  INL),  respectively \nbelow  0.5LSB  (Fig.  4g).  The  comparator  decisions  for  every  pixel \nhad to be summarized and averaged for 16 times to improve the SNR, \nextending the detection limit to 3e- rms (Table I). Using the proposed \nreset structure the KTC noise was reduced, which extended the lowest \ndetectable  limit  to  4.4uW/m2  (Fig.  4h).  The  maximal  value  was \nobserved near intensity of 3.9mW/ m2, resulting dynamic range (DR) \nof  58dB  (Table  I).The  measured  noise  distribution  (Table  II) \nindicates that the shot noise (Shot) contribution, consisting of photons \n(ph.) and the dark current (d.), is much more dominant than the KTC, \nthe readout (Read) noise sources throughout 99% of DR. \nREFERENCES \n[1]  A.  Spivak,  O.  Yadid-Pecht,  “Design  of  a  128  x  128  CMOS  APS  with \nExtended  Noise  Suppression  for  High  and  Low  Light  Imaging \nApplications”,    Int.  Symp.  on  Circ.  and  Systems  (ISCAS),  June \n2014,pp.45-48. \n[2]  S.  Min-Woong,  et al.,  ""A  Low  Dark  Leakage  Current  High-Sensitivity \nCMOS Image Sensor With STI-Less Shared Pixel Design,"" IEEE Trans. \non Electron Devices, vol.61, no.6, pp.2093-2097, June 2014. \n(a)\n\n(b)|\n\n(o)\n[3]  K.  Murari,  et  al.,  “A  CMOS  In-Pixel  CTIA  High  Sensitivity \nFluorescence  Imager,”  IEEE  Trans.  on  Biomed.  Circuits  and  Systems, \nvol. 5, no. 5, pp. 449–458, Oct. 2011. \n[4]  B. Pain, et al., “Reset noise suppression in 2-D CMOS photodiode pixels \nthrough  column-based  feedback-reset,”  in  Proc.  Electron  Dev.  Meet. \nDig. Int. Tech. Papers, Dec. 2002, pp. 809–812.  \nFig. 5. Captures from two sensors: a) 3T pixel tin, =12ms; b) 3T\npixel tint =30ms; c) High sensitivity pixel tin, =1.2ms b) 3T pixel\ntin, =30ms; c) High sensitivity pixel tin, =1.2ms @ Navl6\nFig. 5. Captures from two sensors: a) 3T pixel tint =12ms; b) 3T \npixel tint =30ms; c) High sensitivity pixel tint =1.2ms b) 3T pixel \ntint =30ms; c) High sensitivity pixel tint =1.2ms @ Nav16 \n[5]  M.  Perenzoni,  et  al.,  ""A  160×120-pixel  analog-counting  single-photon \nimager with Sub-ns time-gating and self-referenced column-parallel A/D \nconversion for fluorescence lifetime imaging,"" in IEEE Int. Solid- State \nCircuits Conference - (ISSCC), Feb. 2015, pp.1-3. \n \nTo visualize the increased sensitivity effect, besides the discussed \nhighly sensitive array (Fig.1), we accommodated an additional array \nconsisting of  basic  3T  pixels  [9].  We  illuminated  both  of  the  arrays \nwith the same 634nm laser. To mimic low illuminated environment, \nwe  positioned  several  attenuation  filters  in  front of  the  laser  source. \nThe 3T based array was sampled after two integration periods 12ms \nand  30ms  (Fig.  5  a,  b),  respectively;  the  increased  sensitivity  array \nwas  sampled  using  one  integration  time  of  1.2ms  (Fig.  5c).  The \nresults are in agreement with the expectations: 3T pixel, lacking the \nsignal gain produces image slightly above 5 bits resolution (Fig. 5a).  \nExtending the integration period, we increase the accumulated signal \nby 2.5 and thus add 1.3bits in average, making the total resolution 7 \n[6]  C.  Lotto;  P.  Seitz;  T.    Baechler,  ""A  sub-electron  readout  noise  CMOS \nimage sensor with pixel-level open-loop voltage amplification,"" in IEEE \nSolid-State Circuits Conference, Feb. 2011, pp. 402 -404. \n[7]  D. Lee, et al., ""Low-noise in-pixel comparing active pixel sensor using \ncolumn-level single-slope ADC,"" IEEE Trans. Electron Devices, vol.55, \nno.12, pp.3383-3388, Dec.2008. \n[8]  A.  Boukhayma,  et  al.,  ""Temporal  Readout  Noise  Analysis  and \nReduction  Techniques  for  Low-Light  CMOS  Image  Sensors,""  IEEE \nTrans.on  Electron Devices, vol.63, no.1, pp.72-78, Jan. 2016. \n A.  Spivak  et  al.,  ""Wide-Dynamic-Range  CMOS  Image  Sensors—\nComparative  Performance  Analysis,""  IEEE  Transactions  on  Electron \nNov.2009.\nDevices, \n[9] \npp.2446-2461, \nVol. \nno. \n56, \n11, \n \n \n1549-7747 (c) 2015 IEEE. Personal use is permitted, but republication/redistribution requires IEEE permission. See http://www.ieee.org/publications_standards/publications/rights/index.html for more information.\n']",
